/*! For license information please see main.84c6f4ad.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(u[s[f]]=o[s[f]])}}return u}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,E=60106,S=60107,_=60108,T=60114,I=60109,C=60110,N=60112,A=60113,R=60120,D=60115,O=60116,P=60121,L=60128,M=60129,j=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var F=Symbol.for;x=F("react.element"),E=F("react.portal"),S=F("react.fragment"),_=F("react.strict_mode"),T=F("react.profiler"),I=F("react.provider"),C=F("react.context"),N=F("react.forward_ref"),A=F("react.suspense"),R=F("react.suspense_list"),D=F("react.memo"),O=F("react.lazy"),P=F("react.block"),F("react.scope"),L=F("react.opaque.id"),M=F("react.debug_trace_mode"),j=F("react.offscreen"),U=F("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var H=!1;function K(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function W(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 22:return e=K(e.type._render,!1);case 1:return e=K(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case T:return"Profiler";case _:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case D:return G(e.type);case P:return G(e._render);case O:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Ce=null,Ne=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Ie)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Ie(e.stateNode,e.type,t))}}function Re(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function De(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Oe(e,t){return e(t)}function Pe(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Oe,je=!1,Ue=!1;function Fe(){null===Ce&&null===Ne||(Le(),De())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(f)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Be=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(me){Be=!1}function qe(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var He=!1,Ke=null,We=!1,Ge=null,Qe={onError:function(e){He=!0,Ke=e}};function $e(e,t,n,r,i,a,o,s,u){He=!1,Ke=null,qe.apply(Qe,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Xe(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},_t={},Tt={};function It(e){if(_t[e])return _t[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return _t[e]=n[t];return e}f&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var Ct=It("animationend"),Nt=It("animationiteration"),At=It("animationstart"),Rt=It("transitionend"),Dt=new Map,Ot=new Map,Pt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Dt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function jt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=jt(u),i=Mt):0!==(s&=a)&&(r=jt(s),i=Mt)}else 0!==(a=n&~o)?(r=jt(a),i=Mt):0!==s&&(r=jt(s),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(jt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Vt(10,t):e;case 10:return 0===(e=Bt(192&~t))?Vt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Wt|0)|0},Kt=Math.log,Wt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,$t=!0;function Xt(e,t,n,r){je||Le();var i=Jt,a=je;je=!0;try{Pe(i,e,t,n,r)}finally{(je=a)||Fe()}}function Yt(e,t,n,r){Qt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Te(r);if(null!==(i=ni(i))){var a=Xe(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Ye(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=un(mn),gn=un(i({},mn,{dataTransfer:0})),kn=un(i({},pn,{relatedTarget:0})),bn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=un(wn),En=un(i({},hn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Cn(){return In}var Nn=i({},pn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=un(Nn),Rn=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),On=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(Pn),Mn=[9,13,27,32],jn=f&&"CompositionEvent"in window,Un=null;f&&"documentMode"in document&&(Un=document.documentMode);var Fn=f&&"TextEvent"in window&&!Un,Vn=f&&(!jn||Un&&8<Un&&11>=Un),Bn=String.fromCharCode(32),zn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Kn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Qn(e,t,n,r){Re(r),0<(t=jr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Xn=null;function Yn(e){Nr(e,0)}function Jn(e){if(Y(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){$n&&($n.detachEvent("onpropertychange",ar),Xn=$n=null)}function ar(e){if("value"===e.propertyName&&Jn(Xn)){var t=[];if(Qn(t,Xn,e,Te(e)),e=Yn,je)e(t);else{je=!0;try{Oe(e,t)}finally{je=!1,Fe()}}}}function or(e,t,n){"focusin"===e?(ir(),Xn=n,($n=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Xn)}function ur(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==J(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=jr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Pt,2);for(var Sr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_r=0;_r<Sr.length;_r++)Ot.set(Sr[_r],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if($e.apply(this,arguments),He){if(!He)throw Error(o(198));var l=Ke;He=!1,Ke=null,We||(We=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}}}if(We)throw e=Ge,We=!1,Ge=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Pr(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){e[Rr]||(e[Rr]=!0,s.forEach((function(t){Ir.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Pr(a,e,i,t),o.add(s))}function Pr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=Yt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{Me(e,t,n)}finally{Ue=!1,Fe()}}((function(){var r=a,i=Te(n),o=[];e:{var s=Dt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=An;break;case"focusin":c="focus",u=kn;break;case"focusout":c="blur",u=kn;break;case"beforeblur":case"afterblur":u=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Dn;break;case Ct:case Nt:case At:u=bn;break;case Rt:u=On;break;case"scroll":u=vn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Rn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Xe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Ur(d))p++;for(d=0,v=h;v;v=Ur(v))d++;for(;0<p-d;)l=Ur(l),p--;for(;0<d-p;)h=Ur(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Ur(l),h=Ur(h)}l=null}else l=null;null!==u&&Fr(o,s,u,l,!1),null!==c&&null!==f&&Fr(o,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Zn;else if(Gn(s))if(er)m=cr;else{m=sr;var y=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(kr=y,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Er(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Er(o,n,i)}var g;if(jn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Kn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Kn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Kn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Kn=!0)),0<(y=jr(r,k)).length&&(k=new En(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Hn(n))&&(k.data=g))),(g=Fn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(zn=!0,Bn);case"textInput":return(e=t.data)===Bn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Kn)return"compositionend"===e||!jn&&qn(e,t)?(e=rn(),nn=tn=en=null,Kn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=jr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Nr(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ve(n,a))&&o.unshift(Mr(n,u,s)):i||null!=(u=Ve(n,a))&&o.push(Mr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var Br=null,zr=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Kr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var Yr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Yr,Zr="__reactProps$"+Yr,ei="__reactContainer$"+Yr,ti="__reactEvents$"+Yr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Jr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var Ei=null,Si=null,_i=a.unstable_runWithPriority,Ti=a.unstable_scheduleCallback,Ii=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Ai=a.unstable_now,Ri=a.unstable_getCurrentPriorityLevel,Di=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,Pi=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,ji={},Ui=void 0!==Ni?Ni:function(){},Fi=null,Vi=null,Bi=!1,zi=Ai(),qi=1e4>zi?Ai:function(){return Ai()-zi};function Hi(){switch(Ri()){case Di:return 99;case Oi:return 98;case Pi:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Ki(e){switch(e){case 99:return Di;case 98:return Oi;case 97:return Pi;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Wi(e,t){return e=Ki(e),_i(e,t)}function Gi(e,t,n){return e=Ki(e),Ti(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Ii(e)}$i()}function $i(){if(!Bi&&null!==Fi){Bi=!0;var e=0;try{var t=Fi;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ti(Di,Qi),n}finally{Bi=!1}}}var Xi=w.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(jo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Bs|=s,e.lanes=s,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),pu(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function Ea(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Sa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function _a(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Wu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ea(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=Ea(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Yu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=Ea(e,null,t),n.return=e,n;case E:return(t=Yu(t,e.mode,n)).return=e,t}if(xa(t)||z(t))return(t=Qu(t,e.mode,n,null)).return=e,t;Sa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===S?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null}if(xa(n)||z(n))return null!==i?null:f(e,t,n,r,null);Sa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===S?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||z(r))return f(t,e=e.get(n)||null,r,i,null);Sa(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=z(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===S&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===S){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Ea(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===S?((r=Qu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=Ea(e,r,a),u.return=e,e=u)}return s(e);case E:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Yu(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Xu(a,e.mode,u)).return=e,e=r),s(e);if(xa(a))return v(e,r,a,u);if(z(a))return m(e,r,a,u);if(l&&Sa(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ta=_a(!0),Ia=_a(!1),Ca={},Na=ci(Ca),Aa=ci(Ca),Ra=ci(Ca);function Da(e){if(e===Ca)throw Error(o(174));return e}function Oa(e,t){switch(fi(Ra,t),fi(Aa,e),fi(Na,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Na),fi(Na,t)}function Pa(){li(Na),li(Aa),li(Ra)}function La(e){Da(Ra.current);var t=Da(Na.current),n=pe(t,e.type);t!==n&&(fi(Aa,e),fi(Na,n))}function Ma(e){Aa.current===e&&(li(Na),li(Aa))}var ja=ci(0);function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fa=null,Va=null,Ba=!1;function za(e,t){var n=Hu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ha(e){if(Ba){var t=Va;if(t){var n=t;if(!qa(e,t)){if(!(t=Qr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(Fa=e);za(Fa,n)}Fa=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,Fa=e}}function Ka(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Fa=e}function Wa(e){if(e!==Fa)return!1;if(!Ba)return Ka(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=Va;t;)za(e,t),t=Qr(t.nextSibling);if(Ka(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Fa?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=Fa=null,Ba=!1}var Qa=[];function $a(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Xa=w.ReactCurrentDispatcher,Ya=w.ReactCurrentBatchConfig,Ja=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xa.current=null===e||null===e.memoizedState?Oo:Po,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Xa.current=Lo,e=n(r,i)}while(ro)}if(Xa.current=Do,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Za.lanes|=l,Bs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(jo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(jo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Os;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Xa.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Ht(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Ro.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(uo(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ro.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},so().memoizedState=e}function ko(){return uo().memoizedState}function bo(e,t,n,r){var i=so();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function Eo(e,t){return wo(516,4,e,t)}function So(e,t){return wo(4,2,e,t)}function _o(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,_o.bind(null,t,e),n)}function Io(){}function Co(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Hi();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Ya.transition;Ya.transition=1;try{e(!1),t()}finally{Ya.transition=n}}))}function Ro(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Do={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Oo={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,_o.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ro.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:Io,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},Po={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:To,useLayoutEffect:So,useMemo:No,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:Io,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return Eo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:To,useLayoutEffect:So,useMemo:No,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:Io,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return Eo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,jo=!1;function Uo(e,t,n,r){t.child=null===e?Ia(t,null,n,r):Ta(t,e.child,n,r)}function Fo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Uo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ku(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Wu(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(jo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(jo=!0)}return Ho(e,t,n,r,a)}function zo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xu(t,e),null;t.memoizedState={baseLanes:0},xu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xu(t,r);return Uo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ho(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Uo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Ko(e,t,n,r,i){if(yi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ba(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),u=t.memoizedState,s!==r||h!==u||pi.current||sa?("function"===typeof l&&(ma(t,n,l,r),u=t.memoizedState),(s=sa||ga(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Yi(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=mi(t,u=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&ba(t,o,r,u),sa=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||pi.current||sa?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=sa||ga(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Wo(e,t,n,r,a,i)}function Wo(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),as(e,t,a);r=t.stateNode,Mo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,s,a)):Uo(e,t,s,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Oa(e,t.containerInfo)}var Qo,$o,Xo,Yo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=ja.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(ja,1&a),null===e?(void 0!==i.fallback&&Ha(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,t.lanes=33554432,e):((n=$u({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Yo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=$u(t,i,0,null),n=Qu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Wu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Wu(o,s),null!==e?r=Wu(e,r):(r=Qu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Uo(e,t,r.children,n),0!==(2&(r=ja.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(ja,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Wu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Pa(),li(pi),li(di),$a(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Wa(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Da(Ra.current);if(n=t.type,null!==e&&null!=t.stateNode)$o(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Da(Na.current),Wa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[Zr]=s,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Ar(Tr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,s),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ar("invalid",r);break;case"textarea":ue(r,s),Ar("invalid",r)}for(var c in Se(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":X(r),re(r,s,!0);break;case"textarea":X(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=_e(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Tr.length;a++)Ar(Tr[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Ar("invalid",e);break;default:a=r}Se(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?xe(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Ar("scroll",e):null!=f&&b(e,s,f,c))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Da(Ra.current),Da(Na.current),Wa(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(ja),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wa(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&ja.current)?0===Us&&(Us=3):(0!==Us&&3!==Us||(Us=4),null===Os||0===(134217727&Bs)&&0===(134217727&zs)||gu(Os,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Pa(),null===e&&Dr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(ja),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Us||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ua(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(ja,1&ja.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Ws&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Ua(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Ws&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=ja.current,fi(ja,s?1&t|2:1&t),n):null;case 23:case 24:return Eu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Pa(),li(pi),li(di),$a(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(ja),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(ja),null;case 4:return Pa(),null;case 10:return ra(e),null;case 23:case 24:return Eu(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$o=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Da(Na.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Se(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ar("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Xo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xs||(Xs=!0,Ys=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(ju(n,e),Mu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(Si&&"function"===typeof Si.onCommitFiberUnmount)try{Si.onCommitFiberUnmount(Ei,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))ju(t,n);else{r=t;try{i()}catch(a){Vu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vu(t,a)}break;case 5:vs(t);break;case 4:_s(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Es(e,n,t):Ss(e,n,t)}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function Ss(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function _s(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ts(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),_e(e,i),t=_e(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?xe(n,u):"dangerouslySetInnerHTML"===s?ye(n,u):"children"===s?ge(n,u):b(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ks=qi(),gs(t.child,!0)),void Is(t);case 19:return void Is(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(o(163))}function Is(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=zu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ns=Math.ceil,As=w.ReactCurrentDispatcher,Rs=w.ReactCurrentOwner,Ds=0,Os=null,Ps=null,Ls=0,Ms=0,js=ci(0),Us=0,Fs=null,Vs=0,Bs=0,zs=0,qs=0,Hs=null,Ks=0,Ws=1/0;function Gs(){Ws=qi()+500}var Qs,$s=null,Xs=!1,Ys=null,Js=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Ds)?qi():-1!==su?su:su=qi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hi()?1:2;if(0===uu&&(uu=Vs),0!==Xi.transition){0!==cu&&(cu=null!==Hs?Hs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!==(4&Ds)&&98===e?e=Vt(12,uu):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;qt(e,t,n),e===Os&&(zs|=t,4===Us&&gu(e,Ls));var r=Hi();1===t?0!==(8&Ds)&&0===(48&Ds)?ku(e):(mu(e,n),0===Ds&&(Gs(),Qi())):(0===(4&Ds)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Hs=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Ht(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,jt(c);var f=Mt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ut(e,e===Os?Ls:0),t=Mt,0===r)null!==n&&(n!==ji&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ji&&Ii(n)}15===t?(n=ku.bind(null,e),null===Fi?(Fi=[n],Vi=Ti(Di,$i)):Fi.push(n),n=ji):14===t?n=Gi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yu(e){if(su=-1,cu=uu=0,0!==(48&Ds))throw Error(o(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=Ut(e,e===Os?Ls:0);if(0===n)return null;var r=n,i=Ds;Ds|=16;var a=Tu();for(Os===e&&Ls===r||(Gs(),Su(e,r));;)try{Nu();break}catch(u){_u(e,u)}if(na(),As.current=a,Ds=i,null!==Ps?r=0:(Os=null,Ls=0,r=Us),0!==(Vs&zs))Su(e,0);else if(0!==r){if(2===r&&(Ds|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ft(e))&&(r=Iu(e,n))),1===r)throw t=Fs,Su(e,0),gu(e,n),mu(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Du(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Ks+500-qi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kr(Du.bind(null,e),r);break}Du(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Ht(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ns(n/1960))-n)){e.timeoutHandle=Kr(Du.bind(null,e),n);break}Du(e);break;default:throw Error(o(329))}}return mu(e,qi()),e.callbackNode===t?yu.bind(null,e):null}function gu(e,t){for(t&=~qs,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Ds))throw Error(o(327));if(Lu(),e===Os&&0!==(e.expiredLanes&Ls)){var t=Ls,n=Iu(e,t);0!==(Vs&zs)&&(n=Iu(e,t=Ut(e,t)))}else n=Iu(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Ds|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ft(e))&&(n=Iu(e,t))),1===n)throw n=Fs,Su(e,0),gu(e,t),mu(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Du(e),mu(e,qi()),null}function bu(e,t){var n=Ds;Ds|=1;try{return e(t)}finally{0===(Ds=n)&&(Gs(),Qi())}}function wu(e,t){var n=Ds;Ds&=-2,Ds|=8;try{return e(t)}finally{0===(Ds=n)&&(Gs(),Qi())}}function xu(e,t){fi(js,Ms),Ms|=t,Vs|=t}function Eu(){Ms=js.current,li(js)}function Su(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Ps)for(n=Ps.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Pa(),li(pi),li(di),$a();break;case 5:Ma(r);break;case 4:Pa();break;case 13:case 19:li(ja);break;case 10:ra(r);break;case 23:case 24:Eu()}n=n.return}Os=e,Ps=Wu(e.current,null),Ls=Ms=Vs=t,Us=0,Fs=null,qs=zs=Bs=0}function _u(e,t){for(;;){var n=Ps;try{if(na(),Xa.current=Do,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=Za=null,ro=!1,Rs.current=null,null===n||null===n.return){Us=1,Fs=t,Ps=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&ja.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=la(-1,1);g.tag=2,fa(s,g)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var b=Bu.bind(null,a,c,s);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Us&&(Us=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hs(0,a,t));break e;case 1:a=u;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Js||!Js.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Ru(n)}catch(E){t=E,Ps===n&&null!==n&&(Ps=n=n.return);continue}break}}function Tu(){var e=As.current;return As.current=Do,null===e?Do:e}function Iu(e,t){var n=Ds;Ds|=16;var r=Tu();for(Os===e&&Ls===t||Su(e,t);;)try{Cu();break}catch(i){_u(e,i)}if(na(),Ds=n,As.current=r,null!==Ps)throw Error(o(261));return Os=null,Ls=0,Us}function Cu(){for(;null!==Ps;)Au(Ps)}function Nu(){for(;null!==Ps&&!Ci();)Au(Ps)}function Au(e){var t=Qs(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Ru(e):Ps=t,Rs.current=null}function Ru(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ms)))return void(Ps=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ps=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ps=t);Ps=t=e}while(null!==t);0===Us&&(Us=5)}function Du(e){var t=Hi();return Wi(99,Ou.bind(null,e,t)),null}function Ou(e,t){do{Lu()}while(null!==eu);if(0!==(48&Ds))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Ht(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Os&&(Ps=Os=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ds,Ds|=32,Rs.current=null,Br=$t,yr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(T){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,y=null;t:for(;;){for(var g;m!==u||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===s)break t;if(y===u&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;zr={focusedElem:s,selectionRange:u},$t=!1,lu=null,fu=!1,$s=r;do{try{Pu()}catch(T){if(null===$s)throw Error(o(330));Vu($s,T),$s=$s.nextEffect}}while(null!==$s);lu=null,$s=r;do{try{for(s=e;null!==$s;){var k=$s.flags;if(16&k&&ge($s.stateNode,""),128&k){var b=$s.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xs($s),$s.flags&=-3;break;case 6:xs($s),$s.flags&=-3,Ts($s.alternate,$s);break;case 1024:$s.flags&=-1025;break;case 1028:$s.flags&=-1025,Ts($s.alternate,$s);break;case 4:Ts($s.alternate,$s);break;case 8:_s(s,u=$s);var x=u.alternate;bs(u),null!==x&&bs(x)}$s=$s.nextEffect}}catch(T){if(null===$s)throw Error(o(330));Vu($s,T),$s=$s.nextEffect}}while(null!==$s);if(w=zr,b=mr(),k=w.focusedElem,s=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==s&&yr(k)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=k.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!w.extend&&x>s&&(u=s,s=x,x=u),u=pr(k,x),a=pr(k,s),u&&a&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),x>s?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}$t=!!Br,zr=Br=null,e.current=n,$s=r;do{try{for(k=e;null!==$s;){var E=$s.flags;if(36&E&&ys(k,$s.alternate,$s),128&E){b=void 0;var S=$s.ref;if(null!==S){var _=$s.stateNode;$s.tag,b=_,"function"===typeof S?S(b):S.current=b}}$s=$s.nextEffect}}catch(T){if(null===$s)throw Error(o(330));Vu($s,T),$s=$s.nextEffect}}while(null!==$s);$s=null,Ui(),Ds=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for($s=r;null!==$s;)t=$s.nextEffect,$s.nextEffect=null,8&$s.flags&&((E=$s).sibling=null,E.stateNode=null),$s=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Si&&"function"===typeof Si.onCommitFiberRoot)try{Si.onCommitFiberRoot(Ei,n,void 0,64===(64&n.current.flags))}catch(T){}if(mu(e,qi()),Xs)throw Xs=!1,e=Ys,Ys=null,e;return 0!==(8&Ds)||Qi(),null}function Pu(){for(;null!==$s;){var e=$s.alternate;fu||null===lu||(0!==(8&$s.flags)?et($s,lu)&&(fu=!0):13===$s.tag&&Cs(e,$s)&&et($s,lu)&&(fu=!0));var t=$s.flags;0!==(256&t)&&ms(e,$s),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return Lu(),null}))),$s=$s.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Wi(e,Uu)}return!1}function Mu(e,t){nu.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function ju(e,t){ru.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function Uu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Ds))throw Error(o(331));var t=Ds;Ds|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ds=t,Qi(),!0}function Fu(e,t,n){fa(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(qt(e,1,t),mu(e,t))}function Vu(e,t){if(3===e.tag)Fu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Fu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=ds(n,e=cs(t,e),1);if(fa(n,i),i=hu(),null!==(n=vu(n,1)))qt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Os===e&&(Ls&n)===n&&(4===Us||3===Us&&(62914560&Ls)===Ls&&500>qi()-Ks?Su(e,0):qs|=n),mu(e,t)}function zu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hi()?1:2:(0===uu&&(uu=Vs),0===(t=Bt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(qt(e,t,n),mu(e,n))}function qu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hu(e,t,n,r){return new qu(e,t,n,r)}function Ku(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wu(e,t){var n=e.alternate;return null===n?((n=Hu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Ku(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Qu(n.children,i,a,t);case M:s=8,i|=16;break;case _:s=8,i|=1;break;case T:return(e=Hu(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=a,e;case A:return(e=Hu(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case R:return(e=Hu(19,n,t,i)).elementType=R,e.lanes=a,e;case j:return $u(n,i,a,t);case U:return(e=Hu(24,n,t,i)).elementType=U,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case C:s=9;break e;case N:s=11;break e;case D:s=14;break e;case O:s=16,r=null;break e;case P:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Hu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qu(e,t,n,r){return(e=Hu(7,e,r,t)).lanes=n,e}function $u(e,t,n,r){return(e=Hu(23,e,r,t)).elementType=j,e.lanes=n,e}function Xu(e,t,n){return(e=Hu(6,e,null,t)).lanes=n,e}function Yu(e,t,n){return(t=Hu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=Hu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Dr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}wu((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zu(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)jo=!0;else{if(0===(n&r)){switch(jo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fi(ja,1&ja.current),null!==(t=as(e,t,n))?t.sibling:null);fi(ja,1&ja.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(ja,ja.current),r)break;return null;case 23:case 24:return t.lanes=0,zo(e,t,n)}return as(e,t,n)}jo=0!==(16384&e.flags)}else jo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ma(t,r,s,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Wo(null,t,r,!0,a,n)}else t.tag=0,Uo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ku(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===D)return 14}return 2}(i),e=Yi(i,e),a){case 0:t=Ho(null,t,i,e,n);break e;case 1:t=Ko(null,t,i,e,n);break e;case 11:t=Fo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Yi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),Fa=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ia(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Uo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Ha(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Hr(r,i)?s=null:null!==a&&Hr(r,a)&&(t.flags|=16),qo(e,t),Uo(e,t,s,n),t.child;case 6:return null===e&&Ha(t),null;case 13:return Jo(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ta(t,null,r,n):Uo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Uo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Uo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(fi(Ji,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,fa(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Uo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Uo(e,t,r,n),t.child;case 14:return a=Yi(i=t.type,t.pendingProps),Vo(e,t,i,a=Yi(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Wo(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return zo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ie=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));Y(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Oe=bu,Pe=function(e,t,n,r,i){var a=Ds;Ds|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Ds=a)&&(Gs(),Qi())}},Le=function(){0===(49&Ds)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,qi())}))}Qi()}(),Lu())},Me=function(e,t){var n=Ds;Ds|=2;try{return e(t)}finally{0===(Ds=n)&&(Gs(),Qi())}};var uc={Events:[ri,ii,ai,Re,De,Lu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Ei=fc.inject(lc),Si=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ds;if(0!==(48&n))return e(t);Ds|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Ds=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(wu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:b.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var _=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+T(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(_,"$&/")+"/"),I(o,t,n,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(s=e[c],c);u+=I(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=I(s=s.value,t,n,l=r+T(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function R(){var e=A.current;if(null===e)throw Error(d(321));return e}var D={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(R){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};u(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function _(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=g,u(x,"constructor",g),u(g,"constructor",y),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},E(S.prototype),u(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(x),u(x,s,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<_(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>_(o,n))void 0!==u&&0>_(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>_(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function _(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],I=[],C=1,N=null,A=3,R=!1,D=!1,O=!1;function P(e){for(var t=E(I);null!==t;){if(null===t.callback)S(I);else{if(!(t.startTime<=e))break;S(I),t.sortIndex=t.expirationTime,x(T,t)}t=E(I)}}function L(e){if(O=!1,P(e),!D)if(null!==E(T))D=!0,n(M);else{var t=E(I);null!==t&&r(L,t.startTime-e)}}function M(e,n){D=!1,O&&(O=!1,i()),R=!0;var a=A;try{for(P(n),N=E(T);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,A=N.priorityLevel;var s=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?N.callback=s:N===E(T)&&S(T),P(n)}else S(T);N=E(T)}if(null!==N)var u=!0;else{var c=E(I);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{N=null,A=a,R=!1}}var j=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||R||(D=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return E(T)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,x(I,e),null===E(T)&&e===E(I)&&(O?i():O=!0,r(L,o-s))):(e.sortIndex=u,x(T,e),D||R||(D=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},149:function(e,t,n){"use strict";e.exports=n.p+"static/media/profile-picture.ba11b761a4472e5fb25d.jpg"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/ProjetZ/",function(){"use strict";var e,t=n(791),r=n(164);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var u=function(e){return e};var c="beforeunload",l="popstate";function f(e){e.preventDefault(),e.returnValue=""}function h(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function d(){return Math.random().toString(36).substr(2,8)}function p(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function v(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(e,t){if(!e)throw new Error(t)}var y=(0,t.createContext)(null);var g=(0,t.createContext)(null);var k=(0,t.createContext)({outlet:null,matches:[]});function b(e){return function(e){var n=(0,t.useContext)(k).outlet;if(n)return(0,t.createElement)(C.Provider,{value:e},n);return n}(e.context)}function w(e){m(!1)}function x(n){var r=n.basename,i=void 0===r?"/":r,a=n.children,o=void 0===a?null:a,s=n.location,u=n.navigationType,c=void 0===u?e.Pop:u,l=n.navigator,f=n.static,h=void 0!==f&&f;_()&&m(!1);var d=z(i),p=(0,t.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=v(s));var k=s,b=k.pathname,w=void 0===b?"/":b,x=k.search,E=void 0===x?"":x,S=k.hash,T=void 0===S?"":S,I=k.state,C=void 0===I?null:I,N=k.key,A=void 0===N?"default":N,R=(0,t.useMemo)((function(){var e=V(w,d);return null==e?null:{pathname:e,search:E,hash:T,state:C,key:A}}),[d,w,E,T,C,A]);return null==R?null:(0,t.createElement)(y.Provider,{value:p},(0,t.createElement)(g.Provider,{children:o,value:{location:R,navigationType:c}}))}function E(e){var n=e.children,r=e.location;return function(e,n){_()||m(!1);var r=(0,t.useContext)(k).matches,i=r[r.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var s,u=T();if(n){var c,l="string"===typeof n?v(n):n;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||m(!1),s=l}else s=u;var f=s.pathname||"/",h="/"===o?f:f.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=V(("string"===typeof t?v(t):t).pathname||"/",n);if(null==r)return null;var i=D(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=M(i[o],r);return a}(e,{pathname:h});0;return j(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:B([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:B([o,e.pathnameBase])})})),r)}(R(n),r)}function S(e){_()||m(!1);var n=(0,t.useContext)(y),r=n.basename,i=n.navigator,a=A(e),o=a.hash,s=a.pathname,u=a.search,c=s;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?v(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===s?r+(f?"/":""):B([r,s])}return i.createHref({pathname:c,search:u,hash:o})}function _(){return null!=(0,t.useContext)(g)}function T(){return _()||m(!1),(0,t.useContext)(g).location}function I(){_()||m(!1);var e=(0,t.useContext)(y),n=e.basename,r=e.navigator,i=(0,t.useContext)(k).matches,a=T().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,t.useRef)(!1);(0,t.useEffect)((function(){s.current=!0}));var u=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=F(e,JSON.parse(o),a);"/"!==n&&(i.pathname=B([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return u}var C=(0,t.createContext)(null);function N(){var e=(0,t.useContext)(k).matches,n=e[e.length-1];return n?n.params:{}}function A(e){var n=(0,t.useContext)(k).matches,r=T().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return F(e,JSON.parse(i),r)}),[e,i,r])}function R(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==w&&m(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=R(e.props.children)),n.push(r)}else n.push.apply(n,R(e.props.children))})),n}function D(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||m(!1),a.relativePath=a.relativePath.slice(r.length));var o=B([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&m(!1),D(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:L(o,e.index),routesMeta:s})})),t}var O=/^:\w+$/,P=function(e){return"*"===e};function L(e,t){var n=e.split("/"),r=n.length;return n.some(P)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!P(e)})).reduce((function(e,t){return e+(O.test(t)?3:""===t?1:10)}),r)}function M(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=U({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:B([i,l.pathname]),pathnameBase:z(B([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=B([i,l.pathnameBase]))}return a}function j(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(k.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function U(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=o(n,2),i=r[0],a=r[1],s=t.match(i);if(!s)return null;var u=s[0],c=u.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:c,pattern:e}}function F(e,t,n){var r,i="string"===typeof e?v(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?v(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:q(a),hash:H(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function V(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var B=function(e){return e.join("/").replace(/\/\/+/g,"/")},z=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},q=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},H=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function K(){return K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}function W(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var G=["onClick","reloadDocument","replace","state","target","to"];function Q(n){var r=n.basename,i=n.children,a=n.window,m=(0,t.useRef)();null==m.current&&(m.current=function(t){void 0===t&&(t={});var n=t.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,u({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;r.addEventListener(l,(function(){if(o)w.call(o),o=null;else{var t=e.Pop,n=a(),r=n[0],i=n[1];if(w.length){if(null!=r){var s=g-r;s&&(o={action:t,location:i,retry:function(){I(-1*s)}},I(s))}}else T(t)}}));var m=e.Pop,y=a(),g=y[0],k=y[1],b=h(),w=h();function x(e){return"string"===typeof e?e:p(e)}function E(e,t){return void 0===t&&(t=null),u(s({pathname:k.pathname,hash:"",search:""},"string"===typeof e?v(e):e,{state:t,key:d()}))}function S(e,t){return[{usr:e.state,key:e.key,idx:t},x(e)]}function _(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function T(e){m=e;var t=a();g=t[0],k=t[1],b.call({action:m,location:k})}function I(e){i.go(e)}null==g&&(g=0,i.replaceState(s({},i.state,{idx:g}),""));var C={get action(){return m},get location(){return k},createHref:x,push:function t(n,a){var o=e.Push,s=E(n,a);if(_(o,s,(function(){t(n,a)}))){var u=S(s,g+1),c=u[0],l=u[1];try{i.pushState(c,"",l)}catch(f){r.location.assign(l)}T(o)}},replace:function t(n,r){var a=e.Replace,o=E(n,r);if(_(a,o,(function(){t(n,r)}))){var s=S(o,g),u=s[0],c=s[1];i.replaceState(u,"",c),T(a)}},go:I,back:function(){I(-1)},forward:function(){I(1)},listen:function(e){return b.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&r.addEventListener(c,f),function(){t(),w.length||r.removeEventListener(c,f)}}};return C}({window:a}));var y=m.current,g=o((0,t.useState)({action:y.action,location:y.location}),2),k=g[0],b=g[1];return(0,t.useLayoutEffect)((function(){return y.listen(b)}),[y]),(0,t.createElement)(x,{basename:r,children:i,location:k.location,navigationType:k.action,navigator:y})}var $=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,s=e.state,u=e.target,c=e.to,l=W(e,G),f=S(c),h=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=I(),u=T(),c=A(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||p(u)===p(c);s(e,{replace:n,state:o})}}),[u,s,c,a,o,i,e])}(c,{replace:o,state:s,target:u});return(0,t.createElement)("a",K({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:u}))}));var X=n(184);function Y(){return(0,X.jsxs)("div",{id:"loading-wrapper",children:[(0,X.jsx)("div",{id:"loading-spinner"}),(0,X.jsx)("h1",{children:"Chargement de la page en cours..."})]})}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){J(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(){var e=document.querySelector("#home-header");e.classList.add("hide-header"),document.querySelector("main").classList.add("no-header"),document.querySelector("nav").classList.remove("hide"),sessionStorage.setItem("no-header","true"),setTimeout((function(){e.style.display="none"}),1e3)}function ne(e){var t,n;return null===(t=document.querySelector("nav"))||void 0===t||t.classList.add("hide"),null!==(n=document.querySelector("main"))&&void 0!==n&&n.classList.contains("no-header")?(0,X.jsx)(X.Fragment,{}):(0,X.jsxs)("header",{id:"home-header",children:[(0,X.jsx)("img",{className:"parallax-bg carousel-1",src:e.img,alt:"Carousel 1"}),(0,X.jsx)("h2",{className:"main-logo outlined",children:"Frips"}),(0,X.jsx)("h3",{className:"clr--white outlined",children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Explicabo reprehenderit ut quis et, eius non."}),(0,X.jsx)("button",{className:"to-main clr--dark",onClick:te,children:"Acc\xe9der aux \xe9v\xe8nements"})]})}function re(e){var t=e.props;return(0,X.jsxs)("div",{className:"bubble-body hovering",children:[(0,X.jsx)($,{to:"".concat(t.href)}),(0,X.jsx)("img",{src:t.img,alt:t.id}),(0,X.jsx)("h3",{className:"bubble-title clr--white",children:t.title})]})}function ie(e){var t=e.props;return(0,X.jsx)($,{to:"/events/".concat(t.id),children:(0,X.jsxs)("div",{className:"card-body hovering",children:[(0,X.jsx)("img",{className:"card-background",src:t.img,alt:"fest"}),(0,X.jsxs)("div",{className:"card-content",children:[(0,X.jsx)("h2",{className:"clr--white outlined",children:t.title}),(0,X.jsxs)("div",{className:"card-date-location",children:[(0,X.jsxs)("h3",{className:"clr--white outlined",children:[(0,X.jsx)("span",{className:"material-icons md-inht clr--white outlined",children:"calendar_month"})," ",t.date]}),(0,X.jsxs)("h3",{className:"clr--white outlined",children:[(0,X.jsx)("span",{className:"material-icons md-inht clr--white outlined",children:"room"}),t.location]})]}),(0,X.jsx)("div",{className:"card-event-details",children:(0,X.jsx)("p",{className:"clr--white outlined",children:t.desc})})]})]})})}function ae(e){var n=e.data,r=o((0,t.useState)(0),2),i=r[0],a=r[1],s=(0,t.useRef)(null);function u(){s.current&&clearTimeout(s.current)}return(0,t.useEffect)((function(){var e=!0;if(e){var t=document.querySelectorAll(".slides").length,n=document.querySelector(".slider"),r=5e3;u(),0===i&&(n.style.transition="left 750ms ease-in-out",r=2500),0!==i&&i<t-1&&(n.style.transition="left 750ms ease-in-out",r=5e3),i===t-1&&(n.style.transition="left 0ms ease-in-out",r=2500),s.current=setTimeout((function(){a((function(e){return((e+1)%(n=t)+n)%n;var n}))}),r)}return function(){u(),e=!1}}),[i]),(0,X.jsxs)("div",{className:"slideshow-wrapper ".concat(n.className),children:[(0,X.jsxs)("div",{className:"slideshow-text-section",children:[(0,X.jsxs)($,{to:"".concat(n.href),className:"slideshow-title clr--primary outlined",children:[n.title," ",(0,X.jsx)("span",{className:"material-icons md-18",children:"north_east"})]}),(0,X.jsx)("p",{className:"s-hide outlined",children:n.desc})]}),(0,X.jsx)("div",{className:"slideshow",children:(0,X.jsxs)("div",{className:"slider",style:{left:"-".concat(100*i,"%")},children:[n.popularEvents.map((function(e){return(0,X.jsx)("div",{className:"slides",children:(0,X.jsx)(ie,{props:e})},e.id)})),(0,X.jsx)("div",{className:"slides duplicate",children:(0,X.jsx)(ie,{props:n.popularEvents.at(0)})})]})})]})}function oe(e){e.presenter;var t=e.viewModel;return(0,X.jsxs)(X.Fragment,{children:["true"!==sessionStorage.getItem("no-header")&&(0,X.jsx)(ne,{img:t.headerImg}),(0,X.jsxs)("div",{className:"home",id:"home",children:[(0,X.jsx)(ae,{data:ee(ee({},t.popularEventsSection),{},{popularEvents:t.popularEvents})}),(0,X.jsxs)("div",{className:"bubble-view",children:[(0,X.jsxs)("div",{className:"bubble-text-section",children:[(0,X.jsxs)("a",{href:"/salons",className:"bubble-view-title clr--primary outlined",children:["Salons populaires ",(0,X.jsx)("span",{className:"material-icons md-18",children:"north_east"})]}),(0,X.jsx)("p",{className:"clr--white s-hide outlined",children:"Les cat\xe9gories les plus suivies en ce moment, tu seras certain de croiser du beau monde ici !"})]}),(0,X.jsx)("div",{className:"bubble-group",children:t.popularSalons.map((function(e){return(0,X.jsx)(re,{props:e},e.id)}))})]})]}),(0,X.jsx)(b,{})]})}function se(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function ue(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){se(a,r,i,o,s,"next",e)}function s(e){se(a,r,i,o,s,"throw",e)}o(void 0)}))}}function ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t,n){return t&&le(e.prototype,t),n&&le(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function he(e,t){return he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},he(e,t)}function de(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&he(e,t)}function pe(e){return pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pe(e)}function ve(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function me(e){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me(e)}function ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(e,t){if(t&&("object"===me(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ye(e)}function ke(e){var t=ve();return function(){var n,r=pe(e);if(t){var i=pe(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ge(this,n)}}var be=n(757),we=n.n(be);function xe(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Ee=0;function Se(e){return"__private_"+Ee+++"_"+e}var _e=Se("fullModel"),Te=function(){function e(t,n,r){ce(this,e),Object.defineProperty(this,_e,{writable:!0,value:void 0}),xe(this,_e)[_e]=new t(n,r),this.model=xe(this,_e)[_e].model,this.callbacks=xe(this,_e)[_e].setters}return fe(e,[{key:"updateModel",value:function(e){for(var t in e)this.callbacks[t](e[t])}}]),e}(),Ie=fe((function e(t,n){ce(this,e),this.model={popularEventsSection:t.popularEventsSection,popularEvents:t.popularEvents,headerImg:t.headerImg,popularSalons:t.popularSalons},this.setters={popularEventsSection:n.setPopularEventsSection,popularEvents:n.setPopularEvents,headerImg:n.setHeaderImg,popularSalons:n.setPopularSalons}}));function Ce(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t,n){return Ne=ve()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&he(i,n.prototype),i},Ne.apply(null,arguments)}function Ae(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pe(e)););return e}function Re(){return Re="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Ae(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Re.apply(this,arguments)}function De(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function Oe(e){var t="function"===typeof Map?new Map:void 0;return Oe=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Ne(e,arguments,pe(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),he(n,e)},Oe(e)}var Pe=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Pe(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Me=function(e){return function(e){var t=Pe(e);return Le.encodeByteArray(t,!0)}(e).replace(/\./g,"")},je=function(e){try{return Le.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var Ue=function(){function e(){var t=this;ce(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return fe(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Fe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ve(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function Be(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ze(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function qe(){var e=Fe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}var He=function(e){de(n,e);var t=ke(n);function n(e,r,i){var a;return ce(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(ye(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(ye(a),Ke.prototype.create),a}return fe(n)}(Oe(Error)),Ke=function(){function e(t,n,r){ce(this,e),this.service=t,this.serviceName=n,this.errors=r}return fe(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?We(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new He(n,a,t);return o}}]),e}();function We(e,t){return e.replace(Ge,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ge=/\{\$([^}]+)}/g;function Qe(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if($e(s)&&$e(u)){if(!Qe(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function $e(e){return null!==e&&"object"===typeof e}function Xe(e){for(var t=[],n=function(){var e=o(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ye(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=o(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Je(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Ze=function(){function e(t,n){var r=this;ce(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return fe(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=De(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=et),void 0===r.error&&(r.error=et),void 0===r.complete&&(r.complete=et);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function et(){}function tt(e){return e&&e._delegate?e._delegate:e}function nt(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var rt=function(){function e(t){ce(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return fe(e,[{key:"transaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"readonly";return new it(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new at(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),it=function(){function e(t){var n=this;ce(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return fe(e,[{key:"objectStore",value:function(e){return new at(this._transaction.objectStore(e))}}]),e}(),at=function(){function e(t){ce(this,e),this._store=t}return fe(e,[{key:"index",value:function(e){return new ot(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new ot(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return nt(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return nt(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return nt(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return nt(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),ot=function(){function e(t){ce(this,e),this._index=t}return fe(e,[{key:"get",value:function(e){return nt(this._index.get(e),"Error reading from IndexedDB")}}]),e}();var st=function(){function e(t,n,r){ce(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return fe(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),ut="[DEFAULT]",ct=function(){function e(t,n){ce(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return fe(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ue;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ut})}catch(c){}var t,n=De(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=o(t.value,2),i=r[0],a=r[1],s=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:s});a.resolve(u)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ue(be.mark((function e(){var t;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Ce(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Ce(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=De(this.instancesDeferred.entries());try{for(s.s();!(i=s.n()).done;){var u=o(i.value,2),c=u[0],l=u[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){s.e(h)}finally{s.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=De(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Vh){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===ut?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Vh){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut;return this.component?this.component.multipleInstances?e:ut:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var lt,ft,ht=function(){function e(t){ce(this,e),this.name=t,this.providers=new Map}return fe(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ct(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),dt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ft||(ft={}));var pt,vt,mt={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},yt=ft.INFO,gt=(J(lt={},ft.DEBUG,"log"),J(lt,ft.VERBOSE,"log"),J(lt,ft.INFO,"info"),J(lt,ft.WARN,"warn"),J(lt,ft.ERROR,"error"),lt),kt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=gt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},bt=function(){function e(t){ce(this,e),this.name=t,this._logLevel=yt,this._logHandler=kt,this._userLogHandler=null,dt.push(this)}return fe(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ft))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?mt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ft.DEBUG].concat(t)),this._logHandler.apply(this,[this,ft.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ft.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ft.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ft.INFO].concat(t)),this._logHandler.apply(this,[this,ft.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ft.WARN].concat(t)),this._logHandler.apply(this,[this,ft.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ft.ERROR].concat(t)),this._logHandler.apply(this,[this,ft.ERROR].concat(t))}}]),e}();var wt=function(){function e(t){ce(this,e),this.container=t}return fe(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var xt="@firebase/app",Et="0.7.21",St=new bt("@firebase/app"),_t="[DEFAULT]",Tt=(J(pt={},xt,"fire-core"),J(pt,"@firebase/app-compat","fire-core-compat"),J(pt,"@firebase/analytics","fire-analytics"),J(pt,"@firebase/analytics-compat","fire-analytics-compat"),J(pt,"@firebase/app-check","fire-app-check"),J(pt,"@firebase/app-check-compat","fire-app-check-compat"),J(pt,"@firebase/auth","fire-auth"),J(pt,"@firebase/auth-compat","fire-auth-compat"),J(pt,"@firebase/database","fire-rtdb"),J(pt,"@firebase/database-compat","fire-rtdb-compat"),J(pt,"@firebase/functions","fire-fn"),J(pt,"@firebase/functions-compat","fire-fn-compat"),J(pt,"@firebase/installations","fire-iid"),J(pt,"@firebase/installations-compat","fire-iid-compat"),J(pt,"@firebase/messaging","fire-fcm"),J(pt,"@firebase/messaging-compat","fire-fcm-compat"),J(pt,"@firebase/performance","fire-perf"),J(pt,"@firebase/performance-compat","fire-perf-compat"),J(pt,"@firebase/remote-config","fire-rc"),J(pt,"@firebase/remote-config-compat","fire-rc-compat"),J(pt,"@firebase/storage","fire-gcs"),J(pt,"@firebase/storage-compat","fire-gcs-compat"),J(pt,"@firebase/firestore","fire-fst"),J(pt,"@firebase/firestore-compat","fire-fst-compat"),J(pt,"fire-js","fire-js"),J(pt,"firebase","fire-js-all"),pt),It=new Map,Ct=new Map;function Nt(e,t){try{e.container.addComponent(t)}catch(n){St.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function At(e){var t=e.name;if(Ct.has(t))return St.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ct.set(t,e);var n,r=De(It.values());try{for(r.s();!(n=r.n()).done;){Nt(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Rt(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var Dt=(J(vt={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),J(vt,"bad-app-name","Illegal App name: '{$appName}"),J(vt,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),J(vt,"app-deleted","Firebase App named '{$appName}' already deleted"),J(vt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),J(vt,"invalid-log-argument","First argument to `onLog` must be null or a function."),J(vt,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),J(vt,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),J(vt,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),J(vt,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),vt),Ot=new Ke("app","Firebase",Dt),Pt=function(){function e(t,n,r){var i=this;ce(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new st("app",(function(){return i}),"PUBLIC"))}return fe(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ot.create("app-deleted",{appName:this._name})}}]),e}(),Lt="9.6.11";function Mt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=It.get(e);if(!t)throw Ot.create("no-app",{appName:e});return t}function jt(e,t,n){var r,i=null!==(r=Tt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void St.warn(s.join(" "))}At(new st("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Ut="firebase-heartbeat-store",Ft=null;function Vt(){var e,t,n;return Ft||(Ft=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(Ut)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new rt(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new rt(a.result),e.oldVersion,e.newVersion,new it(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw Ot.create("storage-open",{originalErrorMessage:e.message})}))),Ft}function Bt(e){return zt.apply(this,arguments)}function zt(){return zt=ue(be.mark((function e(t){var n;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Vt();case 3:return n=e.sent,e.abrupt("return",n.transaction(Ut).objectStore(Ut).get(Kt(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Ot.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),zt.apply(this,arguments)}function qt(e,t){return Ht.apply(this,arguments)}function Ht(){return Ht=ue(be.mark((function e(t,n){var r,i,a;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Vt();case 3:return r=e.sent,i=r.transaction(Ut,"readwrite"),a=i.objectStore(Ut),e.next=8,a.put(n,Kt(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),Ot.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Ht.apply(this,arguments)}function Kt(e){return"".concat(e.name,"!").concat(e.options.appId)}var Wt=function(){function e(t){var n=this;ce(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Xt(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return fe(e,[{key:"triggerHeartbeat",value:function(){var e=ue(be.mark((function e(){var t,n,r;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Gt(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=ue(be.mark((function e(){var t,n,r,i,a;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Gt(),n=Qt(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Me(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Gt(){return(new Date).toISOString().substring(0,10)}function Qt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=De(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Yt(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Yt(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var $t,Xt=function(){function e(t){ce(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return fe(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=ue(be.mark((function e(){return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof indexedDB){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=ue(be.mark((function e(){var t;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Bt(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=ue(be.mark((function e(t){var n,r;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",qt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=ue(be.mark((function e(t){var n,r;return be.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",qt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Ce(r.heartbeats),Ce(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Yt(e){return Me(JSON.stringify({version:2,heartbeats:e})).length}$t="",At(new st("platform-logger",(function(e){return new wt(e)}),"PRIVATE")),At(new st("heartbeat",(function(e){return new Wt(e)}),"PRIVATE")),jt(xt,Et,$t),jt(xt,Et,"esm2017"),jt("fire-js","");var Jt,Zt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},en={},tn=tn||{},nn=Zt||self;function rn(){}function an(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function on(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var sn="closure_uid_"+(1e9*Math.random()>>>0),un=0;function cn(e,t,n){return e.call.apply(e.bind,arguments)}function ln(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function fn(e,t,n){return(fn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?cn:ln).apply(null,arguments)}function hn(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function dn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function pn(){this.s=this.s,this.o=this.o}var vn={};pn.prototype.s=!1,pn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,sn)&&e[sn]||(e[sn]=++un)}(this);delete vn[e]}},pn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var mn=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},yn=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function gn(e){return Array.prototype.concat.apply([],arguments)}function kn(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function bn(e){return/^[\s\xa0]*$/.test(e)}var wn,xn=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function En(e,t){return-1!=e.indexOf(t)}function Sn(e,t){return e<t?-1:e>t?1:0}e:{var _n=nn.navigator;if(_n){var Tn=_n.userAgent;if(Tn){wn=Tn;break e}}wn=""}function In(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Cn(e){var t={};for(var n in e)t[n]=e[n];return t}var Nn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function An(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Nn.length;a++)n=Nn[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Rn(e){return Rn[" "](e),e}Rn[" "]=rn;var Dn,On=En(wn,"Opera"),Pn=En(wn,"Trident")||En(wn,"MSIE"),Ln=En(wn,"Edge"),Mn=Ln||Pn,jn=En(wn,"Gecko")&&!(En(wn.toLowerCase(),"webkit")&&!En(wn,"Edge"))&&!(En(wn,"Trident")||En(wn,"MSIE"))&&!En(wn,"Edge"),Un=En(wn.toLowerCase(),"webkit")&&!En(wn,"Edge");function Fn(){var e=nn.document;return e?e.documentMode:void 0}e:{var Vn="",Bn=function(){var e=wn;return jn?/rv:([^\);]+)(\)|;)/.exec(e):Ln?/Edge\/([\d\.]+)/.exec(e):Pn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Un?/WebKit\/(\S+)/.exec(e):On?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Bn&&(Vn=Bn?Bn[1]:""),Pn){var zn=Fn();if(null!=zn&&zn>parseFloat(Vn)){Dn=String(zn);break e}}Dn=Vn}var qn,Hn={};function Kn(){return function(e){var t=Hn;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=xn(String(Dn)).split("."),n=xn("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Sn(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Sn(0==a[2].length,0==o[2].length)||Sn(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(nn.document&&Pn){var Wn=Fn();qn=Wn||(parseInt(Dn,10)||void 0)}else qn=void 0;var Gn=qn,Qn=function(){if(!nn.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{nn.addEventListener("test",rn,t),nn.removeEventListener("test",rn,t)}catch(n){}return e}();function $n(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Xn(e,t){if($n.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(jn){e:{try{Rn(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Yn[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Xn.Z.h.call(this)}}$n.prototype.h=function(){this.defaultPrevented=!0},dn(Xn,$n);var Yn={2:"touch",3:"pen",4:"mouse"};Xn.prototype.h=function(){Xn.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Jn="closure_listenable_"+(1e6*Math.random()|0),Zn=0;function er(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Zn,this.ca=this.fa=!1}function tr(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function nr(e){this.src=e,this.g={},this.h=0}function rr(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=mn(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(tr(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ir(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}nr.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ir(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new er(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var ar="closure_lm_"+(1e6*Math.random()|0),or={};function sr(e,t,n,r,i){if(r&&r.once)return cr(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)sr(e,t[a],n,r,i);return null}return n=mr(n),e&&e[Jn]?e.N(t,n,on(r)?!!r.capture:!!r,i):ur(e,t,n,!1,r,i)}function ur(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=on(i)?!!i.capture:!!i,s=pr(e);if(s||(e[ar]=s=new nr(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=dr;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Qn||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(hr(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function cr(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)cr(e,t[a],n,r,i);return null}return n=mr(n),e&&e[Jn]?e.O(t,n,on(r)?!!r.capture:!!r,i):ur(e,t,n,!0,r,i)}function lr(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)lr(e,t[a],n,r,i);else r=on(r)?!!r.capture:!!r,n=mr(n),e&&e[Jn]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ir(a=e.g[t],n,r,i))&&(tr(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=pr(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ir(t,n,r,i)),(n=-1<e?t[e]:null)&&fr(n))}function fr(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Jn])rr(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(hr(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=pr(t))?(rr(n,e),0==n.h&&(n.src=null,t[ar]=null)):tr(e)}}}function hr(e){return e in or?or[e]:or[e]="on"+e}function dr(e,t){if(e.ca)e=!0;else{t=new Xn(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&fr(e),e=n.call(r,t)}return e}function pr(e){return(e=e[ar])instanceof nr?e:null}var vr="__closure_events_fn_"+(1e9*Math.random()>>>0);function mr(e){return"function"===typeof e?e:(e[vr]||(e[vr]=function(t){return e.handleEvent(t)}),e[vr])}function yr(){pn.call(this),this.i=new nr(this),this.P=this,this.I=null}function gr(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new $n(t,e);else if(t instanceof $n)t.target=t.target||e;else{var i=t;An(t=new $n(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=kr(o,r,!0,t)&&i}if(i=kr(o=t.g=e,r,!0,t)&&i,i=kr(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=kr(o=t.g=n[a],r,!1,t)&&i}function kr(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&rr(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}dn(yr,pn),yr.prototype[Jn]=!0,yr.prototype.removeEventListener=function(e,t,n,r){lr(this,e,t,n,r)},yr.prototype.M=function(){if(yr.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)tr(n[r]);delete t.g[e],t.h--}}this.I=null},yr.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},yr.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var br=nn.JSON.stringify;function wr(){var e=Nr,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var xr,Er=function(){function e(){ce(this,e),this.h=this.g=null}return fe(e,[{key:"add",value:function(e,t){var n=Sr.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Sr=new(function(){function e(t,n){ce(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return fe(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new _r}),(function(e){return e.reset()})),_r=function(){function e(){ce(this,e),this.next=this.g=this.h=null}return fe(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Tr(e){nn.setTimeout((function(){throw e}),0)}function Ir(e,t){xr||function(){var e=nn.Promise.resolve(void 0);xr=function(){e.then(Ar)}}(),Cr||(xr(),Cr=!0),Nr.add(e,t)}var Cr=!1,Nr=new Er;function Ar(){for(var e;e=wr();){try{e.h.call(e.g)}catch(n){Tr(n)}var t=Sr;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Cr=!1}function Rr(e,t){yr.call(this),this.h=e||1,this.g=t||nn,this.j=fn(this.kb,this),this.l=Date.now()}function Dr(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Or(e,t,n){if("function"===typeof e)n&&(e=fn(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=fn(e.handleEvent,e)}return 2147483647<Number(t)?-1:nn.setTimeout(e,t||0)}function Pr(e){e.g=Or((function(){e.g=null,e.i&&(e.i=!1,Pr(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}dn(Rr,yr),(Jt=Rr.prototype).da=!1,Jt.S=null,Jt.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),gr(this,"tick"),this.da&&(Dr(this),this.start()))}},Jt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Jt.M=function(){Rr.Z.M.call(this),Dr(this),delete this.g};var Lr=function(e){de(n,e);var t=ke(n);function n(e,r){var i;return ce(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return fe(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Pr(this)}},{key:"M",value:function(){Re(pe(n.prototype),"M",this).call(this),this.g&&(nn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(pn);function Mr(e){pn.call(this),this.h=e,this.g={}}dn(Mr,pn);var jr=[];function Ur(e,t,n,r){Array.isArray(n)||(n&&(jr[0]=n.toString()),n=jr);for(var i=0;i<n.length;i++){var a=sr(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Fr(e){In(e.g,(function(e,t){this.g.hasOwnProperty(t)&&fr(e)}),e),e.g={}}function Vr(){this.g=!0}function Br(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return br(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Mr.prototype.M=function(){Mr.Z.M.call(this),Fr(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Vr.prototype.Aa=function(){this.g=!1},Vr.prototype.info=function(){};var zr={},qr=null;function Hr(){return qr=qr||new yr}function Kr(e){$n.call(this,zr.Ma,e)}function Wr(e){var t=Hr();gr(t,new Kr(t,e))}function Gr(e,t){$n.call(this,zr.STAT_EVENT,e),this.stat=t}function Qr(e){var t=Hr();gr(t,new Gr(t,e))}function $r(e,t){$n.call(this,zr.Na,e),this.size=t}function Xr(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return nn.setTimeout((function(){e()}),t)}zr.Ma="serverreachability",dn(Kr,$n),zr.STAT_EVENT="statevent",dn(Gr,$n),zr.Na="timingevent",dn($r,$n);var Yr={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Jr={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Zr(){}function ei(e){return e.h||(e.h=e.i())}function ti(){}Zr.prototype.h=null;var ni,ri={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ii(){$n.call(this,"d")}function ai(){$n.call(this,"c")}function oi(){}function si(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Mr(this),this.P=ci,e=Mn?125:void 0,this.W=new Rr(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ui}function ui(){this.i=null,this.g="",this.h=!1}dn(ii,$n),dn(ai,$n),dn(oi,Zr),oi.prototype.g=function(){return new XMLHttpRequest},oi.prototype.i=function(){return{}},ni=new oi;var ci=45e3,li={},fi={};function hi(e,t,n){e.K=1,e.v=Li(Ni(t)),e.s=n,e.U=!0,di(e,null)}function di(e,t){e.F=Date.now(),yi(e),e.A=Ni(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Qi(n.h,"t",r),e.C=0,n=e.l.H,e.h=new ui,e.g=Xa(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Lr(fn(e.Ia,e,e.g),e.O)),Ur(e.V,e.g,"readystatechange",e.gb),t=e.H?Cn(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Wr(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function pi(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function vi(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=mi(e,n))==fi){4==t&&(e.o=4,Qr(14),i=!1),Br(e.j,e.m,null,"[Incomplete Response]");break}if(r==li){e.o=4,Qr(15),Br(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Br(e.j,e.m,r,null),xi(e,r)}pi(e)&&r!=fi&&r!=li&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Qr(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),za(t),t.L=!0,Qr(11))):(Br(e.j,e.m,n,"[Invalid Chunked Response]"),wi(e),bi(e))}function mi(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?fi:(n=Number(t.substring(n,r)),isNaN(n)?li:(r+=1)+n>t.length?fi:(t=t.substr(r,n),e.C=r+n,t))}function yi(e){e.Y=Date.now()+e.P,gi(e,e.P)}function gi(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Xr(fn(e.eb,e),t)}function ki(e){e.B&&(nn.clearTimeout(e.B),e.B=null)}function bi(e){0==e.l.G||e.I||Ka(e.l,e)}function wi(e){ki(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Dr(e.W),Fr(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function xi(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||na(n.i,e)))if(n.I=e.N,!e.J&&na(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ha(n),Oa(n)}Ba(n),Qr(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Xr(fn(n.ab,n),6e3));if(1>=ta(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Ga(n,11)}else if((e.J||n.g==e)&&Ha(n),!bn(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(En(l,"spdy")||En(l,"quic")||En(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(ra(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Pi(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=$a(r,r.H?r.la:null,r.W),d.J){ia(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(ki(p),yi(p)),r.g=d}else Va(r);0<n.l.length&&Ma(n)}else"stop"!=a[0]&&"close"!=a[0]||Ga(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Ga(n,7):Da(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Wr(4)}catch(a){}}function Ei(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(an(e)||"string"===typeof e)yn(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(an(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(an(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Si(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Si)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function _i(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Ti(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Ti(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Ti(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Jt=si.prototype).setTimeout=function(e){this.P=e},Jt.gb=function(e){e=e.target;var t=this.L;t&&3==Ia(e)?t.l():this.Ia(e)},Jt.Ia=function(e){try{if(e==this.g)e:{var t=Ia(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Mn||this.g&&(this.h.h||this.g.ga()||Ca(this.g)))){this.I||4!=t||7==n||Wr(8==n||0>=r?3:2),ki(this);var i=this.g.ba();this.N=i;t:if(pi(this)){var a=Ca(this.g);e="";var o=a.length,s=4==Ia(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){wi(this),bi(this);var u="";break t}this.h.i=new nn.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bn(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Qr(12),wi(this),bi(this);break e}Br(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,xi(this,i)}this.U?(vi(this,t,u),Mn&&this.i&&3==t&&(Ur(this.V,this.W,"tick",this.fb),this.W.start())):(Br(this.j,this.m,u,null),xi(this,u)),4==t&&wi(this),this.i&&!this.I&&(4==t?Ka(this.l,this):(this.i=!1,yi(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Qr(12)):(this.o=0,Qr(13)),wi(this),bi(this)}}}catch(t){}},Jt.fb=function(){if(this.g){var e=Ia(this.g),t=this.g.ga();this.C<t.length&&(ki(this),vi(this,e,t),this.i&&4!=e&&yi(this))}},Jt.cancel=function(){this.I=!0,wi(this)},Jt.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Wr(3),Qr(17)),wi(this),this.o=2,bi(this)):gi(this,this.Y-e)},(Jt=Si.prototype).R=function(){_i(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Jt.T=function(){return _i(this),this.g.concat()},Jt.get=function(e,t){return Ti(this.h,e)?this.h[e]:t},Jt.set=function(e,t){Ti(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Jt.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Ii=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ci(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Ci){this.g=void 0!==t?t:e.g,Ai(this,e.j),this.s=e.s,Ri(this,e.i),Di(this,e.m),this.l=e.l,t=e.h;var n=new Hi;n.i=t.i,t.g&&(n.g=new Si(t.g),n.h=t.h),Oi(this,n),this.o=e.o}else e&&(n=String(e).match(Ii))?(this.g=!!t,Ai(this,n[1]||"",!0),this.s=Mi(n[2]||""),Ri(this,n[3]||"",!0),Di(this,n[4]),this.l=Mi(n[5]||"",!0),Oi(this,n[6]||"",!0),this.o=Mi(n[7]||"")):(this.g=!!t,this.h=new Hi(null,this.g))}function Ni(e){return new Ci(e)}function Ai(e,t,n){e.j=n?Mi(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ri(e,t,n){e.i=n?Mi(t,!0):t}function Di(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Oi(e,t,n){t instanceof Hi?(e.h=t,function(e,t){t&&!e.j&&(Ki(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Wi(this,t),Qi(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=ji(t,zi)),e.h=new Hi(t,e.g))}function Pi(e,t,n){e.h.set(t,n)}function Li(e){return Pi(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Mi(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ji(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ui),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ui(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ci.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ji(t,Fi,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ji(t,Fi,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(ji(n,"/"==n.charAt(0)?Bi:Vi,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ji(n,qi)),e.join("")};var Fi=/[#\/\?@]/g,Vi=/[#\?:]/g,Bi=/[#\?]/g,zi=/[#\?@]/g,qi=/#/g;function Hi(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ki(e){e.g||(e.g=new Si,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Wi(e,t){Ki(e),t=$i(e,t),Ti(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Ti((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&_i(e)))}function Gi(e,t){return Ki(e),t=$i(e,t),Ti(e.g.h,t)}function Qi(e,t,n){Wi(e,t),0<n.length&&(e.i=null,e.g.set($i(e,t),kn(n)),e.h+=n.length)}function $i(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Jt=Hi.prototype).add=function(e,t){Ki(this),this.i=null,e=$i(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Jt.forEach=function(e,t){Ki(this),this.g.forEach((function(n,r){yn(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Jt.T=function(){Ki(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Jt.R=function(e){Ki(this);var t=[];if("string"===typeof e)Gi(this,e)&&(t=gn(t,this.g.get($i(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=gn(t,e[n])}return t},Jt.set=function(e,t){return Ki(this),this.i=null,Gi(this,e=$i(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Jt.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Jt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Xi=fe((function e(t,n){ce(this,e),this.h=t,this.g=n}));function Yi(e){this.l=e||Zi,nn.PerformanceNavigationTiming?e=0<(e=nn.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(nn.g&&nn.g.Ea&&nn.g.Ea()&&nn.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ji,Zi=10;function ea(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ta(e){return e.h?1:e.g?e.g.size:0}function na(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ra(e,t){e.g?e.g.add(t):e.h=t}function ia(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function aa(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=De(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return kn(e.i)}function oa(){}function sa(){this.g=new oa}function ua(e,t,n){var r=n||"";try{Ei(e,(function(e,n){var i=e;on(e)&&(i=br(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ca(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function la(e){this.l=e.$b||null,this.j=e.ib||!1}function fa(e,t){yr.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=ha,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yi.prototype.cancel=function(){if(this.i=aa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=De(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},oa.prototype.stringify=function(e){return nn.JSON.stringify(e,void 0)},oa.prototype.parse=function(e){return nn.JSON.parse(e,void 0)},dn(la,Zr),la.prototype.g=function(){return new fa(this.l,this.j)},la.prototype.i=(Ji={},function(){return Ji}),dn(fa,yr);var ha=0;function da(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function pa(e){e.readyState=4,e.l=null,e.j=null,e.A=null,va(e)}function va(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Jt=fa.prototype).open=function(e,t){if(this.readyState!=ha)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,va(this)},Jt.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||nn).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Jt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pa(this)),this.readyState=ha},Jt.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,va(this)),this.g&&(this.readyState=3,va(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof nn.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;da(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Jt.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?pa(this):va(this),3==this.readyState&&da(this)}},Jt.Ua=function(e){this.g&&(this.response=this.responseText=e,pa(this))},Jt.Ta=function(e){this.g&&(this.response=e,pa(this))},Jt.ha=function(){this.g&&pa(this)},Jt.setRequestHeader=function(e,t){this.v.append(e,t)},Jt.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Jt.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(fa.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ma=nn.JSON.parse;function ya(e){yr.call(this),this.headers=new Si,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ga,this.K=this.L=!1}dn(ya,yr);var ga="",ka=/^https?$/i,ba=["POST","PUT"];function wa(e){return"content-type"==e.toLowerCase()}function xa(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ea(e),_a(e)}function Ea(e){e.D||(e.D=!0,gr(e,"complete"),gr(e,"error"))}function Sa(e){if(e.h&&"undefined"!=typeof tn&&(!e.C[1]||4!=Ia(e)||2!=e.ba()))if(e.v&&4==Ia(e))Or(e.Fa,0,e);else if(gr(e,"readystatechange"),4==Ia(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ii)[1]||null;if(!a&&nn.self&&nn.self.location){var o=nn.self.location.protocol;a=o.substr(0,o.length-1)}i=!ka.test(a?a.toLowerCase():"")}t=i}if(t)gr(e,"complete"),gr(e,"success");else{e.m=6;try{var s=2<Ia(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Ea(e)}}finally{_a(e)}}}function _a(e,t){if(e.g){Ta(e);var n=e.g,r=e.C[0]?rn:null;e.g=null,e.C=null,t||gr(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Ta(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(nn.clearTimeout(e.A),e.A=null)}function Ia(e){return e.g?e.g.readyState:0}function Ca(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case ga:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Na(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return In(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Pi(e,t,n))}function Aa(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ra(e){this.za=0,this.l=[],this.h=new Vr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Aa("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Aa("baseRetryDelayMs",5e3,e),this.$a=Aa("retryDelaySeedMs",1e4,e),this.Ya=Aa("forwardChannelMaxRetries",2,e),this.ra=Aa("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Yi(e&&e.concurrentRequestLimit),this.Ca=new sa,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Da(e){if(Pa(e),3==e.G){var t=e.V++,n=Ni(e.F);Pi(n,"SID",e.J),Pi(n,"RID",t),Pi(n,"TYPE","terminate"),Ua(e,n),(t=new si(e,e.h,t,void 0)).K=2,t.v=Li(Ni(n)),n=!1,nn.navigator&&nn.navigator.sendBeacon&&(n=nn.navigator.sendBeacon(t.v.toString(),"")),!n&&nn.Image&&((new Image).src=t.v,n=!0),n||(t.g=Xa(t.l,null),t.g.ea(t.v)),t.F=Date.now(),yi(t)}Qa(e)}function Oa(e){e.g&&(za(e),e.g.cancel(),e.g=null)}function Pa(e){Oa(e),e.u&&(nn.clearTimeout(e.u),e.u=null),Ha(e),e.i.cancel(),e.m&&("number"===typeof e.m&&nn.clearTimeout(e.m),e.m=null)}function La(e,t){e.l.push(new Xi(e.Za++,t)),3==e.G&&Ma(e)}function Ma(e){ea(e.i)||e.m||(e.m=!0,Ir(e.Ha,e),e.C=0)}function ja(e,t){var n;n=t?t.m:e.V++;var r=Ni(e.F);Pi(r,"SID",e.J),Pi(r,"RID",n),Pi(r,"AID",e.U),Ua(e,r),e.o&&e.s&&Na(r,e.o,e.s),n=new si(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Fa(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),ra(e.i,n),hi(n,r,t)}function Ua(e,t){e.j&&Ei({},(function(e,n){Pi(t,n,e)}))}function Fa(e,t,n){n=Math.min(e.l.length,n);var r=e.j?fn(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{ua(l,o,"req"+c+"_")}catch(_o){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Va(e){e.g||e.u||(e.Y=1,Ir(e.Ga,e),e.A=0)}function Ba(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Xr(fn(e.Ga,e),Wa(e,e.A)),e.A++,!0)}function za(e){null!=e.B&&(nn.clearTimeout(e.B),e.B=null)}function qa(e){e.g=new si(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ni(e.oa);Pi(t,"RID","rpc"),Pi(t,"SID",e.J),Pi(t,"CI",e.N?"0":"1"),Pi(t,"AID",e.U),Ua(e,t),Pi(t,"TYPE","xmlhttp"),e.o&&e.s&&Na(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Li(Ni(t)),n.s=null,n.U=!0,di(n,e)}function Ha(e){null!=e.v&&(nn.clearTimeout(e.v),e.v=null)}function Ka(e,t){var n=null;if(e.g==t){Ha(e),za(e),e.g=null;var r=2}else{if(!na(e.i,t))return;n=t.D,ia(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;gr(r=Hr(),new $r(r,n,t,i)),Ma(e)}else Va(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(ta(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Xr(fn(e.Ha,e,t),Wa(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ba(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ga(e,5);break;case 4:Ga(e,10);break;case 3:Ga(e,6);break;default:Ga(e,2)}}function Wa(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Ga(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=fn(e.jb,e);n||(n=new Ci("//www.google.com/images/cleardot.gif"),nn.location&&"http"==nn.location.protocol||Ai(n,"https"),Li(n)),function(e,t){var n=new Vr;if(nn.Image){var r=new Image;r.onload=hn(ca,n,r,"TestLoadImage: loaded",!0,t),r.onerror=hn(ca,n,r,"TestLoadImage: error",!1,t),r.onabort=hn(ca,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=hn(ca,n,r,"TestLoadImage: timeout",!1,t),nn.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Qr(2);e.G=0,e.j&&e.j.va(t),Qa(e),Pa(e)}function Qa(e){e.G=0,e.I=-1,e.j&&(0==aa(e.i).length&&0==e.l.length||(e.i.i.length=0,kn(e.l),e.l.length=0),e.j.ua())}function $a(e,t,n){var r=function(e){return e instanceof Ci?Ni(e):new Ci(e,void 0)}(n);if(""!=r.i)t&&Ri(r,t+"."+r.i),Di(r,r.m);else{var i=nn.location;r=function(e,t,n,r){var i=new Ci(null,void 0);return e&&Ai(i,e),t&&Ri(i,t),n&&Di(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&In(e.aa,(function(e,t){Pi(r,t,e)})),t=e.D,n=e.sa,t&&n&&Pi(r,t,n),Pi(r,"VER",e.ma),Ua(e,r),r}function Xa(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new ya(new la({ib:!0})):new ya(e.qa)).L=e.H,t}function Ya(){}function Ja(){if(Pn&&!(10<=Number(Gn)))throw Error("Environmental error: no available transport.")}function Za(e,t){yr.call(this),this.g=new Ra(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!bn(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!bn(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new no(this)}function eo(e){ii.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function to(){ai.call(this),this.status=1}function no(e){this.g=e}(Jt=ya.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ni.g(),this.C=this.u?ei(this.u):ei(ni),this.g.onreadystatechange=fn(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void xa(this,a)}e=n||"";var i=new Si(this.headers);r&&Ei(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=wa,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=nn.FormData&&e instanceof nn.FormData,!(0<=mn(ba,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ta(this),0<this.B&&((this.K=function(e){return Pn&&Kn()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fn(this.pa,this)):this.A=Or(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){xa(this,a)}},Jt.pa=function(){"undefined"!=typeof tn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gr(this,"timeout"),this.abort(8))},Jt.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,gr(this,"complete"),gr(this,"abort"),_a(this))},Jt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_a(this,!0)),ya.Z.M.call(this)},Jt.Fa=function(){this.s||(this.F||this.v||this.l?Sa(this):this.cb())},Jt.cb=function(){Sa(this)},Jt.ba=function(){try{return 2<Ia(this)?this.g.status:-1}catch(Ji){return-1}},Jt.ga=function(){try{return this.g?this.g.responseText:""}catch(Ji){return""}},Jt.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ma(t)}},Jt.Da=function(){return this.m},Jt.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Jt=Ra.prototype).ma=8,Jt.G=1,Jt.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Jt.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new si(this,this.h,e,void 0),n=this.s;if(this.P&&(n?An(n=Cn(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Fa(this,t,r),Pi(i=Ni(this.F),"RID",e),Pi(i,"CVER",22),this.D&&Pi(i,"X-HTTP-Session-Id",this.D),Ua(this,i),this.o&&n&&Na(i,this.o,n),ra(this.i,t),this.Ra&&Pi(i,"TYPE","init"),this.ja?(Pi(i,"$req",r),Pi(i,"SID","null"),t.$=!0,hi(t,i,null)):hi(t,i,r),this.G=2}}else 3==this.G&&(e?ja(this,e):0==this.l.length||ea(this.i)||ja(this))},Jt.Ga=function(){if(this.u=null,qa(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Xr(fn(this.bb,this),e)}},Jt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Qr(10),Oa(this),qa(this))},Jt.ab=function(){null!=this.v&&(this.v=null,Oa(this),Ba(this),Qr(19))},Jt.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Qr(2)):(this.h.info("Failed to ping google.com"),Qr(1))},(Jt=Ya.prototype).xa=function(){},Jt.wa=function(){},Jt.va=function(){},Jt.ua=function(){},Jt.Oa=function(){},Ja.prototype.g=function(e,t){return new Za(e,t)},dn(Za,yr),Za.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Ir(fn(e.hb,e,t))),Qr(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=$a(e,null,e.W),Ma(e)},Za.prototype.close=function(){Da(this.g)},Za.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,La(this.g,t)}else this.v?((t={}).__data__=br(e),La(this.g,t)):La(this.g,e)},Za.prototype.M=function(){this.g.j=null,delete this.j,Da(this.g),delete this.g,Za.Z.M.call(this)},dn(eo,ii),dn(to,ai),dn(no,Ya),no.prototype.xa=function(){gr(this.g,"a")},no.prototype.wa=function(e){gr(this.g,new eo(e))},no.prototype.va=function(e){gr(this.g,new to(e))},no.prototype.ua=function(){gr(this.g,"b")},Ja.prototype.createWebChannel=Ja.prototype.g,Za.prototype.send=Za.prototype.u,Za.prototype.open=Za.prototype.m,Za.prototype.close=Za.prototype.close,Yr.NO_ERROR=0,Yr.TIMEOUT=8,Yr.HTTP_ERROR=6,Jr.COMPLETE="complete",ti.EventType=ri,ri.OPEN="a",ri.CLOSE="b",ri.ERROR="c",ri.MESSAGE="d",yr.prototype.listen=yr.prototype.N,ya.prototype.listenOnce=ya.prototype.O,ya.prototype.getLastError=ya.prototype.La,ya.prototype.getLastErrorCode=ya.prototype.Da,ya.prototype.getStatus=ya.prototype.ba,ya.prototype.getResponseJson=ya.prototype.Qa,ya.prototype.getResponseText=ya.prototype.ga,ya.prototype.send=ya.prototype.ea;var ro=en.createWebChannelTransport=function(){return new Ja},io=en.getStatEventTarget=function(){return Hr()},ao=en.ErrorCode=Yr,oo=en.EventType=Jr,so=en.Event=zr,uo=en.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},co=en.FetchXmlHttpFactory=la,lo=en.WebChannel=ti,fo=en.XhrIo=ya,ho="@firebase/firestore",po=function(){function e(t){ce(this,e),this.uid=t}return fe(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();po.UNAUTHENTICATED=new po(null),po.GOOGLE_CREDENTIALS=new po("google-credentials-uid"),po.FIRST_PARTY=new po("first-party-uid"),po.MOCK_USER=new po("mock-user");var vo="9.6.11",mo=new bt("@firebase/firestore");function yo(){return mo.logLevel}function go(e){if(mo.logLevel<=ft.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(wo);mo.debug.apply(mo,["Firestore (".concat(vo,"): ").concat(e)].concat(Ce(i)))}}function ko(e){if(mo.logLevel<=ft.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(wo);mo.error.apply(mo,["Firestore (".concat(vo,"): ").concat(e)].concat(Ce(i)))}}function bo(e){if(mo.logLevel<=ft.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(wo);mo.warn.apply(mo,["Firestore (".concat(vo,"): ").concat(e)].concat(Ce(i)))}}function wo(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function xo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(vo,") INTERNAL ASSERTION FAILED: ")+e;throw ko(t),new Error(t)}function Eo(e,t){e||xo()}function So(e,t){return e}var _o={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},To=function(e){de(n,e);var t=ke(n);function n(e,r){var i;return ce(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return fe(n)}(He),Io=fe((function e(){var t=this;ce(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Co=fe((function e(t,n){ce(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),No=function(){function e(){ce(this,e)}return fe(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(po.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Ao=function(){function e(t){ce(this,e),this.t=t,this.currentUser=po.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return fe(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Io;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Io,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ue(we().mark((function e(){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){go("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(go("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Io)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(go("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Eo("string"==typeof n.accessToken),new Co(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Eo(null===e||"string"==typeof e),new po(e)}}]),e}(),Ro=fe((function e(t,n,r){ce(this,e),this.type="FirstParty",this.user=po.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Do=function(){function e(t,n,r){ce(this,e),this.h=t,this.l=n,this.m=r}return fe(e,[{key:"getToken",value:function(){return Promise.resolve(new Ro(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(po.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Oo=fe((function e(t){ce(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Po=function(){function e(t){ce(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return fe(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&go("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,go("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){go("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):go("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Eo("string"==typeof t.token),e.p=t.token,new Oo(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Lo=function(){function e(t,n){var r=this;ce(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return fe(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Mo(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Lo.A=-1;var jo=function(){function e(){ce(this,e)}return fe(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Mo(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Uo(e,t){return e<t?-1:e>t?1:0}function Fo(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Vo=function(){function e(t,n){if(ce(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new To(_o.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new To(_o.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new To(_o.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new To(_o.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return fe(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Uo(this.nanoseconds,e.nanoseconds):Uo(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Bo=function(){function e(t){ce(this,e),this.timestamp=t}return fe(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Vo(0,0))}},{key:"max",value:function(){return new e(new Vo(253402300799,999999999))}}]),e}();function zo(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function qo(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ho(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Ko=function(){function e(t,n,r){ce(this,e),void 0===n?n=0:n>t.length&&xo(),void 0===r?r=t.length-n:r>t.length-n&&xo(),this.segments=t,this.offset=n,this.len=r}return fe(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Wo=function(e){de(n,e);var t=ke(n);function n(){return ce(this,n),t.apply(this,arguments)}return fe(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new To(_o.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,Ce(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ko),Go=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Qo=function(e){de(n,e);var t=ke(n);function n(){return ce(this,n),t.apply(this,arguments)}return fe(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Go.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new To(_o.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new To(_o.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new To(_o.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new To(_o.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ko),$o=function(){function e(t){ce(this,e),this.fields=t,t.sort(Qo.comparator)}return fe(e,[{key:"covers",value:function(e){var t,n=De(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Fo(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Xo=function(e){function t(e){ce(this,t),this.binaryString=e}return fe(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Uo(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Xo.EMPTY_BYTE_STRING=new Xo("");var Yo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jo(e){if(Eo(!!e),"string"==typeof e){var t=0,n=Yo.exec(e);if(Eo(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Zo(e.seconds),nanos:Zo(e.nanos)}}function Zo(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function es(e){return"string"==typeof e?Xo.fromBase64String(e):Xo.fromUint8Array(e)}function ts(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ns(e){var t=e.mapValue.fields.__previous_value__;return ts(t)?ns(t):t}function rs(e){var t=Jo(e.mapValue.fields.__local_write_time__.timestampValue);return new Vo(t.seconds,t.nanos)}var is=fe((function e(t,n,r,i,a,o,s,u){ce(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),as=function(){function e(t,n){ce(this,e),this.projectId=t,this.database=n||"(default)"}return fe(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function os(e){return null==e}function ss(e){return 0===e&&1/e==-1/0}function us(e){return"number"==typeof e&&Number.isInteger(e)&&!ss(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var cs=function(){function e(t){ce(this,e),this.path=t}return fe(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Wo.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Wo.fromString(t))}},{key:"fromName",value:function(t){return new e(Wo.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Wo.emptyPath())}},{key:"comparator",value:function(e,t){return Wo.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Wo(t.slice()))}}]),e}();function ls(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ts(e)?4:Es(e)?9:10:xo()}function fs(e,t){if(e===t)return!0;var n=ls(e);if(n!==ls(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return rs(e).isEqual(rs(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Jo(e.timestampValue),r=Jo(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return es(e.bytesValue).isEqual(es(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Zo(e.geoPointValue.latitude)===Zo(t.geoPointValue.latitude)&&Zo(e.geoPointValue.longitude)===Zo(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Zo(e.integerValue)===Zo(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Zo(e.doubleValue),r=Zo(t.doubleValue);return n===r?ss(n)===ss(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Fo(e.arrayValue.values||[],t.arrayValue.values||[],fs);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(zo(n)!==zo(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!fs(n[i],r[i])))return!1;return!0}(e,t);default:return xo()}}function hs(e,t){return void 0!==(e.values||[]).find((function(e){return fs(e,t)}))}function ds(e,t){if(e===t)return 0;var n=ls(e),r=ls(t);if(n!==r)return Uo(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Uo(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Zo(e.integerValue||e.doubleValue),r=Zo(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ps(e.timestampValue,t.timestampValue);case 4:return ps(rs(e),rs(t));case 5:return Uo(e.stringValue,t.stringValue);case 6:return function(e,t){var n=es(e),r=es(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Uo(n[i],r[i]);if(0!==a)return a}return Uo(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Uo(Zo(e.latitude),Zo(t.latitude));return 0!==n?n:Uo(Zo(e.longitude),Zo(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=ds(n[i],r[i]);if(a)return a}return Uo(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Uo(r[o],a[o]);if(0!==s)return s;var u=ds(n[r[o]],i[a[o]]);if(0!==u)return u}return Uo(r.length,a.length)}(e.mapValue,t.mapValue);default:throw xo()}}function ps(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Uo(e,t);var n=Jo(e),r=Jo(t),i=Uo(n.seconds,r.seconds);return 0!==i?i:Uo(n.nanos,r.nanos)}function vs(e){return ms(e)}function ms(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Jo(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?es(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,cs.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=De(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=ms(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=De(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(ms(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):xo();var t,n}function ys(e){return!!e&&"integerValue"in e}function gs(e){return!!e&&"arrayValue"in e}function ks(e){return!!e&&"nullValue"in e}function bs(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ws(e){return!!e&&"mapValue"in e}function xs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return qo(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=xs(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=xs(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Es(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var Ss=function(){function e(t){ce(this,e),this.value=t}return fe(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ws(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xs(t)}},{key:"setAll",value:function(e){var t=this,n=Qo.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=xs(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());ws(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return fs(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ws(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){qo(t,(function(t,n){return e[t]=n}));var r,i=De(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(xs(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function _s(e){var t=[];return qo(e.fields,(function(e,n){var r=new Qo([e]);if(ws(n)){var i=_s(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=De(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new $o(t)}var Ts=function(){function e(t,n,r,i,a,o){ce(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return fe(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Ss.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Ss.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Bo.min(),Bo.min(),Ss.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Bo.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Bo.min(),Ss.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Bo.min(),Ss.empty(),2)}}]),e}(),Is=fe((function e(t,n,r,i){ce(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Is.UNKNOWN_ID=-1;function Cs(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Bo.fromTimestamp(1e9===r?new Vo(n+1,0):new Vo(n,r));return new As(i,cs.empty(),t)}function Ns(e){return new As(e.readTime,e.key,-1)}var As=function(){function e(t,n,r){ce(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return fe(e,null,[{key:"min",value:function(){return new e(Bo.min(),cs.empty(),-1)}},{key:"max",value:function(){return new e(Bo.max(),cs.empty(),-1)}}]),e}();function Rs(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=cs.comparator(e.documentKey,t.documentKey))?n:Uo(e.largestBatchId,t.largestBatchId)}var Ds=fe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;ce(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.P=null}));function Os(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Ds(e,t,n,r,i,a,o)}function Ps(e){var t=So(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+vs(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),os(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return vs(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return vs(e)})).join(",")),t.P=n}return t.P}function Ls(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Qs(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!fs(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Xs(e.startAt,t.startAt)&&Xs(e.endAt,t.endAt)}function Ms(e){return cs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var js=function(e){de(n,e);var t=ke(n);function n(e,r,i){var a;return ce(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return fe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(ds(t,this.value)):null!==t&&ls(this.value)===ls(t)&&this.v(ds(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xo()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Us(e,t,r):"array-contains"===t?new zs(e,r):"in"===t?new qs(e,r):"not-in"===t?new Hs(e,r):"array-contains-any"===t?new Ks(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new Fs(e,n):new Vs(e,n)}}]),n}(function(){return fe((function e(){ce(this,e)}))}()),Us=function(e){de(n,e);var t=ke(n);function n(e,r,i){var a;return ce(this,n),(a=t.call(this,e,r,i)).key=cs.fromName(i.referenceValue),a}return fe(n,[{key:"matches",value:function(e){var t=cs.comparator(e.key,this.key);return this.v(t)}}]),n}(js),Fs=function(e){de(n,e);var t=ke(n);function n(e,r){var i;return ce(this,n),(i=t.call(this,e,"in",r)).keys=Bs("in",r),i}return fe(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(js),Vs=function(e){de(n,e);var t=ke(n);function n(e,r){var i;return ce(this,n),(i=t.call(this,e,"not-in",r)).keys=Bs("not-in",r),i}return fe(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(js);function Bs(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return cs.fromName(e.referenceValue)}))}var zs=function(e){de(n,e);var t=ke(n);function n(e,r){return ce(this,n),t.call(this,e,"array-contains",r)}return fe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return gs(t)&&hs(t.arrayValue,this.value)}}]),n}(js),qs=function(e){de(n,e);var t=ke(n);function n(e,r){return ce(this,n),t.call(this,e,"in",r)}return fe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&hs(this.value.arrayValue,t)}}]),n}(js),Hs=function(e){de(n,e);var t=ke(n);function n(e,r){return ce(this,n),t.call(this,e,"not-in",r)}return fe(n,[{key:"matches",value:function(e){if(hs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!hs(this.value.arrayValue,t)}}]),n}(js),Ks=function(e){de(n,e);var t=ke(n);function n(e,r){return ce(this,n),t.call(this,e,"array-contains-any",r)}return fe(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!gs(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return hs(t.value.arrayValue,e)}))}}]),n}(js),Ws=fe((function e(t,n){ce(this,e),this.position=t,this.inclusive=n})),Gs=fe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";ce(this,e),this.field=t,this.dir=n}));function Qs(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function $s(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?cs.comparator(cs.fromName(o.referenceValue),n.key):ds(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Xs(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!fs(e.position[n],t.position[n]))return!1;return!0}var Ys=fe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;ce(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.D=null,this.C=null,this.startAt,this.endAt}));function Js(e,t,n,r,i,a,o,s){return new Ys(e,t,n,r,i,a,o,s)}function Zs(e){return new Ys(e)}function eu(e){return!os(e.limit)&&"F"===e.limitType}function tu(e){return!os(e.limit)&&"L"===e.limitType}function nu(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ru(e){var t,n=De(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function iu(e){return null!==e.collectionGroup}function au(e){var t=So(e);if(null===t.D){t.D=[];var n=ru(t),r=nu(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Gs(n)),t.D.push(new Gs(Qo.keyField(),"asc"));else{var i,a=!1,o=De(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.D.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Gs(Qo.keyField(),u))}}}return t.D}function ou(e){var t=So(e);if(!t.C)if("F"===t.limitType)t.C=Os(t.path,t.collectionGroup,au(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=De(au(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Gs(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Ws(t.endAt.position,!t.endAt.inclusive):null,u=t.startAt?new Ws(t.startAt.position,!t.startAt.inclusive):null;t.C=Os(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.C}function su(e,t,n){return new Ys(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function uu(e,t){return Ls(ou(e),ou(t))&&e.limitType===t.limitType}function cu(e){return"".concat(Ps(ou(e)),"|lt:").concat(e.limitType)}function lu(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(vs(t.value));var t})).join(", "),"]")),os(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return vs(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return vs(e)})).join(",")),"Target(".concat(t,")")}(ou(e)),"; limitType=").concat(e.limitType,")")}function fu(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):cs.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=De(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=De(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=$s(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,au(e),t))&&!(e.endAt&&!function(e,t,n){var r=$s(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,au(e),t))}(e,t)}function hu(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function du(e){return function(t,n){var r,i=!1,a=De(au(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=pu(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function pu(e,t,n){var r=e.field.isKeyField()?cs.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ds(r,i):xo()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return xo()}}function vu(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ss(t)?"-0":t}}function mu(e){return{integerValue:""+e}}function yu(e,t){return us(t)?mu(t):vu(e,t)}var gu=fe((function e(){ce(this,e),this._=void 0}));function ku(e,t,n){return e instanceof xu?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Eu?Su(e,t):e instanceof _u?Tu(e,t):function(e,t){var n=wu(e,t),r=Cu(n)+Cu(e.k);return ys(n)&&ys(e.k)?mu(r):vu(e.M,r)}(e,t)}function bu(e,t,n){return e instanceof Eu?Su(e,t):e instanceof _u?Tu(e,t):n}function wu(e,t){return e instanceof Iu?ys(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var xu=function(e){de(n,e);var t=ke(n);function n(){return ce(this,n),t.apply(this,arguments)}return fe(n)}(gu),Eu=function(e){de(n,e);var t=ke(n);function n(e){var r;return ce(this,n),(r=t.call(this)).elements=e,r}return fe(n)}(gu);function Su(e,t){var n,r=Nu(t),i=De(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return fs(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var _u=function(e){de(n,e);var t=ke(n);function n(e){var r;return ce(this,n),(r=t.call(this)).elements=e,r}return fe(n)}(gu);function Tu(e,t){var n,r=Nu(t),i=De(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!fs(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Iu=function(e){de(n,e);var t=ke(n);function n(e,r){var i;return ce(this,n),(i=t.call(this)).M=e,i.k=r,i}return fe(n)}(gu);function Cu(e){return Zo(e.integerValue||e.doubleValue)}function Nu(e){return gs(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Au=fe((function e(t,n){ce(this,e),this.field=t,this.transform=n}));var Ru=fe((function e(t,n){ce(this,e),this.version=t,this.transformResults=n})),Du=function(){function e(t,n){ce(this,e),this.updateTime=t,this.exists=n}return fe(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Ou(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Pu=fe((function e(){ce(this,e)}));function Lu(e,t,n){e instanceof Vu?function(e,t,n){var r=e.value.clone(),i=qu(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Bu?function(e,t,n){if(Ou(e.precondition,t)){var r=qu(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(zu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Mu(e,t,n){e instanceof Vu?function(e,t,n){if(Ou(e.precondition,t)){var r=e.value.clone(),i=Hu(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Fu(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Bu?function(e,t,n){if(Ou(e.precondition,t)){var r=Hu(e.fieldTransforms,n,t),i=t.data;i.setAll(zu(e)),i.setAll(r),t.convertToFoundDocument(Fu(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Ou(e.precondition,t)&&t.convertToNoDocument(Bo.min())}(e,t)}function ju(e,t){var n,r=null,i=De(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=wu(a.transform,o||null);null!=s&&(null==r&&(r=Ss.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Uu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Fo(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Eu&&t instanceof Eu||e instanceof _u&&t instanceof _u?Fo(e.elements,t.elements,fs):e instanceof Iu&&t instanceof Iu?fs(e.k,t.k):e instanceof xu&&t instanceof xu}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Fu(e){return e.isFoundDocument()?e.version:Bo.min()}var Vu=function(e){de(n,e);var t=ke(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return ce(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return fe(n)}(Pu),Bu=function(e){de(n,e);var t=ke(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return ce(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return fe(n)}(Pu);function zu(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function qu(e,t,n){var r=new Map;Eo(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,bu(o,s,n[i]))}return r}function Hu(e,t,n){var r,i=new Map,a=De(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,ku(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Ku,Wu,Gu=function(e){de(n,e);var t=ke(n);function n(e,r){var i;return ce(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return fe(n)}(Pu),Qu=function(e){de(n,e);var t=ke(n);function n(e,r){var i;return ce(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return fe(n)}(Pu),$u=fe((function e(t){ce(this,e),this.count=t}));function Xu(e){switch(e){default:return xo();case _o.CANCELLED:case _o.UNKNOWN:case _o.DEADLINE_EXCEEDED:case _o.RESOURCE_EXHAUSTED:case _o.INTERNAL:case _o.UNAVAILABLE:case _o.UNAUTHENTICATED:return!1;case _o.INVALID_ARGUMENT:case _o.NOT_FOUND:case _o.ALREADY_EXISTS:case _o.PERMISSION_DENIED:case _o.FAILED_PRECONDITION:case _o.ABORTED:case _o.OUT_OF_RANGE:case _o.UNIMPLEMENTED:case _o.DATA_LOSS:return!0}}function Yu(e){if(void 0===e)return ko("GRPC error has no .code"),_o.UNKNOWN;switch(e){case Ku.OK:return _o.OK;case Ku.CANCELLED:return _o.CANCELLED;case Ku.UNKNOWN:return _o.UNKNOWN;case Ku.DEADLINE_EXCEEDED:return _o.DEADLINE_EXCEEDED;case Ku.RESOURCE_EXHAUSTED:return _o.RESOURCE_EXHAUSTED;case Ku.INTERNAL:return _o.INTERNAL;case Ku.UNAVAILABLE:return _o.UNAVAILABLE;case Ku.UNAUTHENTICATED:return _o.UNAUTHENTICATED;case Ku.INVALID_ARGUMENT:return _o.INVALID_ARGUMENT;case Ku.NOT_FOUND:return _o.NOT_FOUND;case Ku.ALREADY_EXISTS:return _o.ALREADY_EXISTS;case Ku.PERMISSION_DENIED:return _o.PERMISSION_DENIED;case Ku.FAILED_PRECONDITION:return _o.FAILED_PRECONDITION;case Ku.ABORTED:return _o.ABORTED;case Ku.OUT_OF_RANGE:return _o.OUT_OF_RANGE;case Ku.UNIMPLEMENTED:return _o.UNIMPLEMENTED;case Ku.DATA_LOSS:return _o.DATA_LOSS;default:return xo()}}(Wu=Ku||(Ku={}))[Wu.OK=0]="OK",Wu[Wu.CANCELLED=1]="CANCELLED",Wu[Wu.UNKNOWN=2]="UNKNOWN",Wu[Wu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wu[Wu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wu[Wu.NOT_FOUND=5]="NOT_FOUND",Wu[Wu.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wu[Wu.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wu[Wu.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wu[Wu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wu[Wu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wu[Wu.ABORTED=10]="ABORTED",Wu[Wu.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wu[Wu.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wu[Wu.INTERNAL=13]="INTERNAL",Wu[Wu.UNAVAILABLE=14]="UNAVAILABLE",Wu[Wu.DATA_LOSS=15]="DATA_LOSS";var Ju=function(){function e(t,n){ce(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return fe(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=De(n);try{for(i.s();!(r=i.n()).done;){var a=o(r.value,2),s=a[0],u=a[1];if(this.equalsFn(s,e))return u}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){qo(this.inner,(function(t,n){var r,i=De(n);try{for(i.s();!(r=i.n()).done;){var a=o(r.value,2),s=a[0],u=a[1];e(s,u)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Ho(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Zu=function(){function e(t,n){ce(this,e),this.comparator=t,this.root=n||tc.EMPTY}return fe(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,tc.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tc.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new ec(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new ec(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new ec(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new ec(this.root,e,this.comparator,!0)}}]),e}(),ec=function(){function e(t,n,r,i){ce(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return fe(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),tc=function(){function e(t,n,r,i,a){ce(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return fe(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw xo();if(this.right.isRed())throw xo();var e=this.left.check();if(e!==this.right.check())throw xo();return e+(this.isRed()?0:1)}}]),e}();tc.EMPTY=null,tc.RED=!0,tc.BLACK=!1,tc.EMPTY=new(function(){function e(){ce(this,e),this.size=0}return fe(e,[{key:"key",get:function(){throw xo()}},{key:"value",get:function(){throw xo()}},{key:"color",get:function(){throw xo()}},{key:"left",get:function(){throw xo()}},{key:"right",get:function(){throw xo()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new tc(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var nc=function(){function e(t){ce(this,e),this.comparator=t,this.data=new Zu(this.comparator)}return fe(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new rc(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new rc(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),rc=function(){function e(t){ce(this,e),this.iter=t}return fe(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var ic=new Zu(cs.comparator);function ac(){return ic}var oc=new Zu(cs.comparator);function sc(){return oc}function uc(){return new Ju((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var cc=new Zu(cs.comparator),lc=new nc(cs.comparator);function fc(){for(var e=lc,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var hc=new nc(Uo);function dc(){return hc}var pc=function(){function e(t,n,r,i,a){ce(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return fe(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,vc.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Bo.min(),r,dc(),ac(),fc())}}]),e}(),vc=function(){function e(t,n,r,i,a){ce(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return fe(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Xo.EMPTY_BYTE_STRING,n,fc(),fc(),fc())}}]),e}(),mc=fe((function e(t,n,r,i){ce(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),yc=fe((function e(t,n){ce(this,e),this.targetId=t,this.$=n})),gc=fe((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xo.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;ce(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),kc=function(){function e(){ce(this,e),this.B=0,this.L=xc(),this.U=Xo.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return fe(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=fc(),t=fc(),n=fc();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:xo()}})),new vc(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=xc()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),bc=function(){function e(t){ce(this,e),this.nt=t,this.st=new Map,this.it=ac(),this.rt=wc(),this.ot=new nc(Uo)}return fe(e,[{key:"ut",value:function(e){var t,n=De(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(s){n.e(s)}finally{n.f()}var i,a=De(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:xo()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(Ms(i))if(0===n){var a=new cs(i.path);this.ct(t,a,Ts.newNoDocument(a,Bo.min()))}else Eo(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Ms(a.target)){var o=new cs(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,Ts.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=fc();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new pc(e,n,this.ot,this.it,r);return this.it=ac(),this.rt=wc(),this.ot=new nc(Uo),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new kc,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new nc(Uo),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||go("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new kc),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function wc(){return new Zu(cs.comparator)}function xc(){return new Zu(cs.comparator)}var Ec={asc:"ASCENDING",desc:"DESCENDING"},Sc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_c=fe((function e(t,n){ce(this,e),this.databaseId=t,this.N=n}));function Tc(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ic(e,t){return e.N?t.toBase64():t.toUint8Array()}function Cc(e,t){return Tc(e,t.toTimestamp())}function Nc(e){return Eo(!!e),Bo.fromTimestamp(function(e){var t=Jo(e);return new Vo(t.seconds,t.nanos)}(e))}function Ac(e,t){return function(e){return new Wo(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Rc(e){var t=Wo.fromString(e);return Eo(Yc(t)),t}function Dc(e,t){return Ac(e.databaseId,t.path)}function Oc(e,t){var n=Rc(t);if(n.get(1)!==e.databaseId.projectId)throw new To(_o.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new To(_o.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new cs(jc(n))}function Pc(e,t){return Ac(e.databaseId,t)}function Lc(e){var t=Rc(e);return 4===t.length?Wo.emptyPath():jc(t)}function Mc(e){return new Wo(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function jc(e){return Eo(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Uc(e,t,n){return{name:Dc(e,t),fields:n.value.mapValue.fields}}function Fc(e,t){var n;if(t instanceof Vu)n={update:Uc(e,t.key,t.value)};else if(t instanceof Gu)n={delete:Dc(e,t.key)};else if(t instanceof Bu)n={update:Uc(e,t.key,t.data),updateMask:Xc(t.fieldMask)};else{if(!(t instanceof Qu))return xo();n={verify:Dc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof xu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Eu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof _u)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Iu)return{fieldPath:t.field.canonicalString(),increment:n.k};throw xo()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Cc(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:xo()}(e,t.precondition)),n}function Vc(e,t){return{documents:[Pc(e,t.path)]}}function Bc(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Pc(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Pc(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(bs(e.value))return{unaryFilter:{field:Wc(e.field),op:"IS_NAN"}};if(ks(e.value))return{unaryFilter:{field:Wc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(bs(e.value))return{unaryFilter:{field:Wc(e.field),op:"IS_NOT_NAN"}};if(ks(e.value))return{unaryFilter:{field:Wc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wc(e.field),op:Kc(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Wc(e.field),direction:Hc(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.N||os(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function zc(e){var t=Lc(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Eo(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=qc(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Gs(Gc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return os(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Ws(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Ws(n,t)}(n.endAt)),Js(t,i,s,o,u,"F",c,l)}function qc(e){return e?void 0!==e.unaryFilter?[$c(e)]:void 0!==e.fieldFilter?[Qc(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return qc(e)})).reduce((function(e,t){return e.concat(t)})):xo():[]}function Hc(e){return Ec[e]}function Kc(e){return Sc[e]}function Wc(e){return{fieldPath:e.canonicalString()}}function Gc(e){return Qo.fromServerFormat(e.fieldPath)}function Qc(e){return js.create(Gc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xo()}}(e.fieldFilter.op),e.fieldFilter.value)}function $c(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Gc(e.unaryFilter.field);return js.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Gc(e.unaryFilter.field);return js.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Gc(e.unaryFilter.field);return js.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Gc(e.unaryFilter.field);return js.create(i,"!=",{nullValue:"NULL_VALUE"});default:return xo()}}function Xc(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Yc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Jc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Zc=([].concat(Ce(Jc),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),el=([].concat(Zc,["indexConfiguration","indexState","indexEntries"]),"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."),tl=function(){function e(){ce(this,e),this.onCommittedListeners=[]}return fe(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),nl=function(){function e(t){var n=this;ce(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return fe(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&xo(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=De(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}();function rl(e){return"IndexedDbTransactionError"===e.name}var il=function(){function e(t,n,r,i){ce(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return fe(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Lu(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=De(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Mu(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=De(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Mu(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Bo.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),fc())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Fo(this.mutations,e.mutations,(function(e,t){return Uu(e,t)}))&&Fo(this.baseMutations,e.baseMutations,(function(e,t){return Uu(e,t)}))}}]),e}(),al=function(){function e(t,n,r,i){ce(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return fe(e,null,[{key:"from",value:function(t,n,r){Eo(t.mutations.length===r.length);for(var i=cc,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),ol=function(){function e(t,n){ce(this,e),this.largestBatchId=t,this.mutation=n}return fe(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),sl=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Bo.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Bo.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Xo.EMPTY_BYTE_STRING;ce(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return fe(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),ul=fe((function e(t){ce(this,e),this.Jt=t}));function cl(e){var t=zc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?su(t,t.limit,"L"):t}var ll=function(){function e(){ce(this,e)}return fe(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Zo(e.integerValue));else if("doubleValue"in e){var n=Zo(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),ss(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(es(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Es(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):xo()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=De(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),cs.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();ll.fe=new ll;var fl=function(){function e(){ce(this,e),this.qe=new hl}return fe(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),nl.resolve()}},{key:"getCollectionParents",value:function(e,t){return nl.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return nl.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return nl.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return nl.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return nl.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return nl.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return nl.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return nl.resolve()}},{key:"updateIndexEntries",value:function(e,t){return nl.resolve()}}]),e}(),hl=function(){function e(){ce(this,e),this.index={}}return fe(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new nc(Wo.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new nc(Wo.comparator)).toArray()}}]),e}();new Uint8Array(0);var dl=function(){function e(t,n,r){ce(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return fe(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();dl.DEFAULT_COLLECTION_PERCENTILE=10,dl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dl.DEFAULT=new dl(41943040,dl.DEFAULT_COLLECTION_PERCENTILE,dl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dl.DISABLED=new dl(-1,0,0);var pl=function(){function e(t){ce(this,e),this.mn=t}return fe(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}();function vl(e){return ml.apply(this,arguments)}function ml(){return ml=ue(we().mark((function e(t){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===_o.FAILED_PRECONDITION&&t.message===el){e.next=2;break}throw t;case 2:go("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),ml.apply(this,arguments)}var yl=function(){function e(){ce(this,e),this.changes=new Ju((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return fe(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Ts.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?nl.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var gl=function(){function e(t,n,r){ce(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return fe(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=De(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=De(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return cs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):iu(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new cs(t)).next((function(e){var t=sc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=sc();return this.indexManager.getCollectionParents(e,i).next((function(o){return nl.forEach(o,(function(o){var s=function(e,t){return new Ys(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=De(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=De(a.mutations);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.key,c=r.get(u);null==c&&(c=Ts.newInvalidDocument(u),r=r.insert(u,c)),Mu(s,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(u))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){fu(t,n)||(r=r.remove(e))})),r}))}}]),e}(),kl=function(){function e(t,n,r,i){ce(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return fe(e,null,[{key:"Ys",value:function(t,n){var r,i=fc(),a=fc(),o=De(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),bl=function(){function e(){ce(this,e)}return fe(e,[{key:"Xs",value:function(e){this.Zs=e}},{key:"Qs",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Bo.min())?this.ti(e,t):this.Zs.Ks(e,r).next((function(a){var o=i.ei(t,a);return(eu(t)||tu(t))&&i.ni(t.limitType,o,r,n)?i.ti(e,t):(yo()<=ft.DEBUG&&go("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),lu(t)),i.Zs.Qs(e,t,Cs(n,-1)).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ei",value:function(e,t){var n=new nc(du(e));return t.forEach((function(t,r){fu(e,r)&&(n=n.add(r))})),n}},{key:"ni",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ti",value:function(e,t){return yo()<=ft.DEBUG&&go("QueryEngine","Using full collection scan to execute query:",lu(t)),this.Zs.Qs(e,t,As.min())}}]),e}(),wl=function(){function e(t,n,r,i){ce(this,e),this.persistence=t,this.si=n,this.M=i,this.ii=new Zu(Uo),this.ri=new Ju((function(e){return Ps(e)}),Ls),this.oi=new Map,this.ui=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.ai(r)}return fe(e,[{key:"ai",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new gl(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ii)}))}}]),e}();function xl(e,t,n,r){return new wl(e,t,n,r)}function El(e,t){return Sl.apply(this,arguments)}function Sl(){return Sl=ue(we().mark((function e(t,n){var r;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=So(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.ai(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=fc(),u=De(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=De(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=De(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=De(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.ci.Ks(e,s).next((function(e){return{hi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Sl.apply(this,arguments)}function _l(e,t){var n=So(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=nl.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Eo(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}function Tl(e){var t=So(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function Il(e,t){var n=So(e),r=t.snapshotVersion,i=n.ii;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ui.newChangeBuffer({trackRemovals:!0});i=n.ii;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(Xo.EMPTY_BYTE_STRING,Bo.min()).withLastLimboFreeSnapshotVersion(Bo.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.fs.updateTargetData(e,c))}}));var s=ac();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Cl(e,a,t.documentUpdates).next((function(e){s=e}))),!r.isEqual(Bo.min())){var u=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return nl.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ci.Gs(e,s)})).next((function(){return s}))})).then((function(e){return n.ii=i,e}))}function Cl(e,t,n){var r=fc();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=ac();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(Bo.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):go("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function Nl(e,t){var n=So(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function Al(e,t){var n=So(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,nl.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new sl(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ii.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ii=n.ii.insert(e.targetId,e),n.ri.set(t,e.targetId)),e}))}function Rl(e,t,n){return Dl.apply(this,arguments)}function Dl(){return Dl=ue(we().mark((function e(t,n,r){var i,a,o;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=So(t),a=i.ii.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),rl(e.t1)){e.next=12;break}throw e.t1;case 12:go("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ii=i.ii.remove(n),i.ri.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Dl.apply(this,arguments)}function Ol(e,t,n){var r=So(e),i=Bo.min(),a=fc();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=So(e),i=r.ri.get(n);return void 0!==i?nl.resolve(r.ii.get(i)):r.fs.getTargetData(t,n)}(r,e,ou(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.si.Qs(e,t,n?i:Bo.min(),n?a:fc())})).next((function(e){return Pl(r,hu(t),e),{documents:e,li:a}}))}))}function Pl(e,t,n){var r=Bo.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.oi.set(t,r)}var Ll=function(){function e(t){ce(this,e),this.M=t,this.wi=new Map,this.mi=new Map}return fe(e,[{key:"getBundleMetadata",value:function(e,t){return nl.resolve(this.wi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.wi.set(t.id,{id:(n=t).id,version:n.version,createTime:Nc(n.createTime)}),nl.resolve()}},{key:"getNamedQuery",value:function(e,t){return nl.resolve(this.mi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.mi.set(t.name,function(e){return{name:e.name,query:cl(e.bundledQuery),readTime:Nc(e.readTime)}}(t)),nl.resolve()}}]),e}(),Ml=function(){function e(){ce(this,e),this.overlays=new Zu(cs.comparator),this.gi=new Map}return fe(e,[{key:"getOverlay",value:function(e,t){return nl.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),nl.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.gi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.gi.delete(n)),nl.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=uc(),i=t.length+1,a=new cs(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return nl.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Zu((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=uc(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=uc(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return nl.resolve(u)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.gi.get(r.largestBatchId).delete(n.key);this.gi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new ol(t,n));var a=this.gi.get(t);void 0===a&&(a=fc(),this.gi.set(t,a)),this.gi.set(t,a.add(n.key))}}}]),e}(),jl=function(){function e(){ce(this,e),this.yi=new nc(Ul.pi),this.Ii=new nc(Ul.Ti)}return fe(e,[{key:"isEmpty",value:function(){return this.yi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Ul(e,t);this.yi=this.yi.add(n),this.Ii=this.Ii.add(n)}},{key:"Ei",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ai(new Ul(e,t))}},{key:"Ri",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Pi",value:function(e){var t=this,n=new cs(new Wo([])),r=new Ul(n,e),i=new Ul(n,e+1),a=[];return this.Ii.forEachInRange([r,i],(function(e){t.Ai(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.yi.forEach((function(t){return e.Ai(t)}))}},{key:"Ai",value:function(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}},{key:"Vi",value:function(e){var t=new cs(new Wo([])),n=new Ul(t,e),r=new Ul(t,e+1),i=fc();return this.Ii.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Ul(e,0),n=this.yi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Ul=function(){function e(t,n){ce(this,e),this.key=t,this.vi=n}return fe(e,null,[{key:"pi",value:function(e,t){return cs.comparator(e.key,t.key)||Uo(e.vi,t.vi)}},{key:"Ti",value:function(e,t){return Uo(e.vi,t.vi)||cs.comparator(e.key,t.key)}}]),e}(),Fl=function(){function e(t,n){ce(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.Si=1,this.Di=new nc(Ul.pi)}return fe(e,[{key:"checkEmpty",value:function(e){return nl.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.Si;this.Si++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new il(i,t,n,r);this.Bs.push(a);var o,s=De(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Di=this.Di.add(new Ul(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return nl.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return nl.resolve(this.Ci(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.xi(n),i=r<0?0:r;return nl.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return nl.resolve(0===this.Bs.length?-1:this.Si-1)}},{key:"getAllMutationBatches",value:function(e){return nl.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Ul(t,0),i=new Ul(t,Number.POSITIVE_INFINITY),a=[];return this.Di.forEachInRange([r,i],(function(e){var t=n.Ci(e.vi);a.push(t)})),nl.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new nc(Uo);return t.forEach((function(e){var t=new Ul(e,0),i=new Ul(e,Number.POSITIVE_INFINITY);n.Di.forEachInRange([t,i],(function(e){r=r.add(e.vi)}))})),nl.resolve(this.Ni(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;cs.isDocumentKey(i)||(i=i.child(""));var a=new Ul(new cs(i),0),o=new nc(Uo);return this.Di.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.vi)),!0)}),a),nl.resolve(this.Ni(o))}},{key:"Ni",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ci(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Eo(0===this.ki(t.batchId,"removed")),this.Bs.shift();var r=this.Di;return nl.forEach(t.mutations,(function(i){var a=new Ul(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Di=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Ul(t,0),r=this.Di.firstAfterOrEqual(n);return nl.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,nl.resolve()}},{key:"ki",value:function(e,t){return this.xi(e)}},{key:"xi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"Ci",value:function(e){var t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),Vl=function(){function e(t){ce(this,e),this.Mi=t,this.docs=new Zu(cs.comparator),this.size=0}return fe(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Mi(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return nl.resolve(n?n.document.mutableCopy():Ts.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=ac();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Ts.newInvalidDocument(e))})),nl.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=ac(),i=new cs(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||Rs(Ns(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return nl.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){xo()}},{key:"Oi",value:function(e,t){return nl.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Bl(this)}},{key:"getSize",value:function(e){return nl.resolve(this.size)}}]),e}(),Bl=function(e){de(n,e);var t=ke(n);function n(e){var r;return ce(this,n),(r=t.call(this)).Kn=e,r}return fe(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),nl.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(yl),zl=function(){function e(t){ce(this,e),this.persistence=t,this.Fi=new Ju((function(e){return Ps(e)}),Ls),this.lastRemoteSnapshotVersion=Bo.min(),this.highestTargetId=0,this.$i=0,this.Bi=new jl,this.targetCount=0,this.Li=pl.gn()}return fe(e,[{key:"forEachTarget",value:function(e,t){return this.Fi.forEach((function(e,n){return t(n)})),nl.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return nl.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return nl.resolve(this.$i)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Li.next(),nl.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$i&&(this.$i=t),nl.resolve()}},{key:"Tn",value:function(e){this.Fi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Li=new pl(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,nl.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),nl.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,nl.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Fi.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Fi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),nl.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return nl.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Fi.get(t)||null;return nl.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Bi.Ei(t,n),nl.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Bi.Ri(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),nl.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Bi.Pi(t),nl.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Bi.Vi(t);return nl.resolve(n)}},{key:"containsKey",value:function(e,t){return nl.resolve(this.Bi.containsKey(t))}}]),e}(),ql=function(){function e(t,n){var r=this;ce(this,e),this.Ui={},this.overlays={},this.es=new Lo(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new zl(this),this.indexManager=new fl,this.ds=new Vl((function(e){return r.referenceDelegate.qi(e)})),this.M=new ul(n),this._s=new Ll(this.M)}return fe(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Ml,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ui[e.toKey()];return n||(n=new Fl(t,this.referenceDelegate),this.Ui[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;go("MemoryPersistence","Starting transaction:",e);var i=new Hl(this.es.next());return this.referenceDelegate.Ki(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Qi",value:function(e,t){return nl.or(Object.values(this.Ui).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Hl=function(e){de(n,e);var t=ke(n);function n(e){var r;return ce(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return fe(n)}(tl),Kl=function(){function e(t){ce(this,e),this.persistence=t,this.ji=new jl,this.Wi=null}return fe(e,[{key:"Hi",get:function(){if(this.Wi)return this.Wi;throw xo()}},{key:"addReference",value:function(e,t,n){return this.ji.addReference(n,t),this.Hi.delete(n.toString()),nl.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ji.removeReference(n,t),this.Hi.add(n.toString()),nl.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Hi.add(t.toString()),nl.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ji.Pi(t.targetId).forEach((function(e){return n.Hi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Hi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ki",value:function(){this.Wi=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nl.forEach(this.Hi,(function(r){var i=cs.fromPath(r);return t.Ji(e,i).next((function(e){e||n.removeEntry(i,Bo.min())}))})).next((function(){return t.Wi=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ji(e,t).next((function(e){e?n.Hi.delete(t.toString()):n.Hi.add(t.toString())}))}},{key:"qi",value:function(e){return 0}},{key:"Ji",value:function(e,t){var n=this;return nl.or([function(){return nl.resolve(n.ji.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Qi(e,t)}])}}],[{key:"zi",value:function(t){return new e(t)}}]),e}();var Wl=function(){function e(){ce(this,e),this.activeTargetIds=dc()}return fe(e,[{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"tr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Xi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Gl=function(){function e(){ce(this,e),this.$r=new Wl,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return fe(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.$r.Zi(e),this.Br[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Br[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.$r.tr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Br[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.$r.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"start",value:function(){return this.$r=new Wl,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Ql=function(){function e(){ce(this,e)}return fe(e,[{key:"Lr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),$l=function(){function e(){var t=this;ce(this,e),this.Ur=function(){return t.qr()},this.Kr=function(){return t.Gr()},this.Qr=[],this.jr()}return fe(e,[{key:"Lr",value:function(e){this.Qr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}},{key:"jr",value:function(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}},{key:"qr",value:function(){go("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=De(this.Qr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Gr",value:function(){go("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=De(this.Qr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Xl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Yl=function(){function e(t){ce(this,e),this.Wr=t.Wr,this.zr=t.zr}return fe(e,[{key:"Hr",value:function(e){this.Jr=e}},{key:"Yr",value:function(e){this.Xr=e}},{key:"onMessage",value:function(e){this.Zr=e}},{key:"close",value:function(){this.zr()}},{key:"send",value:function(e){this.Wr(e)}},{key:"eo",value:function(){this.Jr()}},{key:"no",value:function(e){this.Xr(e)}},{key:"so",value:function(e){this.Zr(e)}}]),e}(),Jl=function(e){de(n,e);var t=ke(n);function n(e){var r;return ce(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return fe(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new fo;o.listenOnce(oo.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case ao.NO_ERROR:var t=o.getResponseJson();go("Connection","XHR received:",JSON.stringify(t)),i(t);break;case ao.TIMEOUT:go("Connection",'RPC "'+e+'" timed out'),a(new To(_o.DEADLINE_EXCEEDED,"Request time out"));break;case ao.HTTP_ERROR:var n=o.getStatus();if(go("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(_o).indexOf(t)>=0?t:_o.UNKNOWN}(r.status);a(new To(s,r.message))}else a(new To(_o.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new To(_o.UNAVAILABLE,"Connection failed."));break;default:xo()}}finally{go("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"lo",value:function(e,t,n){var r=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=ro(),a=io(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new co({})),this.ao(o.initMessageHeaders,t,n),Ve()||ze()||Fe().indexOf("Electron/")>=0||qe()||Fe().indexOf("MSAppHost/")>=0||Be()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");go("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new Yl({Wr:function(e){l?go("Connection","Not sending because WebChannel is closed:",e):(c||(go("Connection","Opening WebChannel transport."),u.open(),c=!0),go("Connection","WebChannel sending:",e),u.send(e))},zr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,lo.EventType.OPEN,(function(){l||go("Connection","WebChannel transport opened.")})),h(u,lo.EventType.CLOSE,(function(){l||(l=!0,go("Connection","WebChannel transport closed"),f.no())})),h(u,lo.EventType.ERROR,(function(e){l||(l=!0,bo("Connection","WebChannel transport errored:",e),f.no(new To(_o.UNAVAILABLE,"The operation could not be completed")))})),h(u,lo.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Eo(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){go("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Ku[e];if(void 0!==t)return Yu(t)}(a),s=i.message;void 0===o&&(o=_o.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.no(new To(o,s)),u.close()}else go("Connection","WebChannel received:",n),f.so(n)}})),h(a,so.STAT_EVENT,(function(e){e.stat===uo.PROXY?go("Connection","Detected buffering proxy"):e.stat===uo.NOPROXY&&go("Connection","Detected no buffering proxy")})),setTimeout((function(){f.eo()}),0),f}}]),n}(function(){function e(t){ce(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.io=n+"://"+t.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return fe(e,[{key:"oo",value:function(e,t,n,r,i){var a=this.uo(e,t);go("RestConnection","Sending: ",a,n);var o={};return this.ao(o,r,i),this.co(e,a,o,n).then((function(e){return go("RestConnection","Received: ",e),e}),(function(t){throw bo("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ho",value:function(e,t,n,r,i){return this.oo(e,t,n,r,i)}},{key:"ao",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+vo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"uo",value:function(e,t){var n=Xl[e];return"".concat(this.io,"/v1/").concat(t,":").concat(n)}}]),e}());function Zl(){return"undefined"!=typeof document?document:null}function ef(e){return new _c(e,!0)}var tf=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;ce(this,e),this.Yn=t,this.timerId=n,this.fo=r,this._o=i,this.wo=a,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}return fe(e,[{key:"reset",value:function(){this.mo=0}},{key:"Io",value:function(){this.mo=this.wo}},{key:"To",value:function(e){var t=this;this.cancel();var n=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,n-r);i>0&&go("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.mo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.po=Date.now(),e()})),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}},{key:"Ao",value:function(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}},{key:"cancel",value:function(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}},{key:"Eo",value:function(){return(Math.random()-.5)*this.mo}}]),e}(),nf=function(){function e(t,n,r,i,a,o,s,u){ce(this,e),this.Yn=t,this.Ro=r,this.Po=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new tf(t,n)}return fe(e,[{key:"Co",value:function(){return 1===this.state||5===this.state||this.xo()}},{key:"xo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.No()}},{key:"stop",value:function(){var e=ue(we().mark((function e(){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Co(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ko",value:function(){this.state=0,this.Do.reset()}},{key:"Mo",value:function(){var e=this;this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,(function(){return e.Oo()})))}},{key:"Fo",value:function(e){this.$o(),this.stream.send(e)}},{key:"Oo",value:function(){var e=ue(we().mark((function e(){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.xo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"Bo",value:function(){this.So&&(this.So.cancel(),this.So=null)}},{key:"close",value:function(){var e=ue(we().mark((function e(t,n){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.$o(),this.Bo(),this.Do.cancel(),this.Vo++,4!==t?this.Do.reset():n&&n.code===_o.RESOURCE_EXHAUSTED?(ko(n.toString()),ko("Using maximum backoff delay to prevent overloading the backend."),this.Do.Io()):n&&n.code===_o.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Lo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Yr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=o(t,2),i=r[0],a=r[1];e.Vo===n&&e.qo(i,a)}),(function(n){t((function(){var t=new To(_o.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ko(t)}))}))}},{key:"qo",value:function(e,t){var n=this,r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr((function(){r((function(){return n.state=2,n.So=n.Yn.enqueueAfterDelay(n.Po,1e4,(function(){return n.xo()&&(n.state=3),Promise.resolve()})),n.listener.Hr()}))})),this.stream.Yr((function(e){r((function(){return n.Ko(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"No",value:function(){var e=this;this.state=5,this.Do.To(ue(we().mark((function t(){return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ko",value:function(e){return go("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Uo",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Vo===e?n():(go("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),rf=function(e){de(n,e);var t=ke(n);function n(e,r,i,a,o,s){var u;return ce(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).M=o,u}return fe(n,[{key:"Go",value:function(e,t){return this.bo.lo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Do.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:xo()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Eo(void 0===t||"string"==typeof t),Xo.fromBase64String(t||"")):(Eo(void 0===t||t instanceof Uint8Array),Xo.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?_o.UNKNOWN:Yu(e.code);return new To(t,e.message||"")}(o);n=new gc(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=Oc(e,u.document.name),l=Nc(u.document.updateTime),f=new Ss({mapValue:{fields:u.document.fields}}),h=Ts.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new mc(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Oc(e,v.document),y=v.readTime?Nc(v.readTime):Bo.min(),g=Ts.newNoDocument(m,y),k=v.removedTargetIds||[];n=new mc([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Oc(e,b.document),x=b.removedTargetIds||[];n=new mc([],x,w,null)}else{if(!("filter"in t))return xo();t.filter;var E=t.filter;E.targetId;var S=E.count||0,_=new $u(S),T=E.targetId;n=new yc(T,_)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return Bo.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Bo.min():t.readTime?Nc(t.readTime):Bo.min()}(e);return this.listener.Qo(t,n)}},{key:"jo",value:function(e){var t={};t.database=Mc(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=Ms(r)?{documents:Vc(e,r)}:{query:Bc(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Ic(e,t.resumeToken):t.snapshotVersion.compareTo(Bo.min())>0&&(n.readTime=Tc(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return xo()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Fo(t)}},{key:"Wo",value:function(e){var t={};t.database=Mc(this.M),t.removeTarget=e,this.Fo(t)}}]),n}(nf),af=function(e){de(n,e);var t=ke(n);function n(e,r,i,a,o,s){var u;return ce(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).M=o,u.zo=!1,u}return fe(n,[{key:"Ho",get:function(){return this.zo}},{key:"start",value:function(){this.zo=!1,this.lastStreamToken=void 0,Re(pe(n.prototype),"start",this).call(this)}},{key:"Lo",value:function(){this.zo&&this.Jo([])}},{key:"Go",value:function(e,t){return this.bo.lo("Write",e,t)}},{key:"onMessage",value:function(e){if(Eo(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();var t=function(e,t){return e&&e.length>0?(Eo(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Nc(e.updateTime):Nc(t);return n.isEqual(Bo.min())&&(n=Nc(t)),new Ru(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Nc(e.commitTime);return this.listener.Yo(n,t)}return Eo(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}},{key:"Zo",value:function(){var e={};e.database=Mc(this.M),this.Fo(e)}},{key:"Jo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Fc(t.M,e)}))};this.Fo(n)}}]),n}(nf),of=function(e){de(n,e);var t=ke(n);function n(e,r,i,a){var o;return ce(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.M=a,o.tu=!1,o}return fe(n,[{key:"eu",value:function(){if(this.tu)throw new To(_o.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"oo",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=o(i,2),s=a[0],u=a[1];return r.bo.oo(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===_o.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new To(_o.UNKNOWN,e.toString())}))}},{key:"ho",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=o(i,2),s=a[0],u=a[1];return r.bo.ho(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===_o.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new To(_o.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.tu=!0}}]),n}(function(){return fe((function e(){ce(this,e)}))}()),sf=function(){function e(t,n){ce(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}return fe(e,[{key:"ru",value:function(){var e=this;0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.su=null,e.uu("Backend didn't respond within 10 seconds."),e.ou("Offline"),Promise.resolve()})))}},{key:"au",value:function(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ou("Offline")))}},{key:"set",value:function(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}},{key:"ou",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"uu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.iu?(ko(t),this.iu=!1):go("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.su&&(this.su.cancel(),this.su=null)}}]),e}(),uf=fe((function e(t,n,r,i,a){var o=this;ce(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=a,this._u.Lr((function(e){r.enqueueAndForget(ue(we().mark((function e(){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=kf(o),!e.t0){e.next=5;break}return go("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ue(we().mark((function e(t){var n;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=So(t)).fu.add(4),e.next=4,ff(n);case 4:return n.wu.set("Unknown"),n.fu.delete(4),e.next=8,cf(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.wu=new sf(r,i)}));function cf(e){return lf.apply(this,arguments)}function lf(){return lf=ue(we().mark((function e(t){var n,r,i;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!kf(t)){e.next=18;break}n=De(t.du),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),lf.apply(this,arguments)}function ff(e){return hf.apply(this,arguments)}function hf(){return hf=ue(we().mark((function e(t){var n,r,i;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=De(t.du),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),hf.apply(this,arguments)}function df(e,t){var n=So(e);n.lu.has(t.targetId)||(n.lu.set(t.targetId,t),gf(n)?yf(n):Qf(n).xo()&&vf(n,t))}function pf(e,t){var n=So(e),r=Qf(n);n.lu.delete(t),r.xo()&&mf(n,t),0===n.lu.size&&(r.xo()?r.Mo():kf(n)&&n.wu.set("Unknown"))}function vf(e,t){e.mu.Z(t.targetId),Qf(e).jo(t)}function mf(e,t){e.mu.Z(t),Qf(e).Wo(t)}function yf(e){e.mu=new bc({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.lu.get(t)||null}}),Qf(e).start(),e.wu.ru()}function gf(e){return kf(e)&&!Qf(e).Co()&&e.lu.size>0}function kf(e){return 0===So(e).fu.size}function bf(e){e.mu=void 0}function wf(e){return xf.apply(this,arguments)}function xf(){return xf=ue(we().mark((function e(t){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.lu.forEach((function(e,n){vf(t,e)}));case 1:case"end":return e.stop()}}),e)}))),xf.apply(this,arguments)}function Ef(e,t){return Sf.apply(this,arguments)}function Sf(){return Sf=ue(we().mark((function e(t,n){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bf(t),gf(t)?(t.wu.au(n),yf(t)):t.wu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Sf.apply(this,arguments)}function _f(e,t,n){return Tf.apply(this,arguments)}function Tf(){return Tf=ue(we().mark((function e(t,n,r){var i;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.wu.set("Online"),!(n instanceof gc&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ue(we().mark((function e(t,n){var r,i,a,o;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=De(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.lu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.lu.delete(o),t.mu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),go("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,If(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof mc?t.mu.ut(n):n instanceof yc?t.mu._t(n):t.mu.ht(n),r.isEqual(Bo.min())){e.next=29;break}return e.prev=14,e.next=17,Tl(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.mu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.lu.get(r);i&&e.lu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.lu.get(t);if(n){e.lu.set(t,n.withResumeToken(Xo.EMPTY_BYTE_STRING,n.snapshotVersion)),mf(e,t);var r=new sl(n.target,t,1,n.sequenceNumber);vf(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),go("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,If(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Tf.apply(this,arguments)}function If(e,t,n){return Cf.apply(this,arguments)}function Cf(){return Cf=ue(we().mark((function e(t,n,r){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rl(n)){e.next=2;break}throw n;case 2:return t.fu.add(1),e.next=5,ff(t);case 5:t.wu.set("Offline"),r||(r=function(){return Tl(t.localStore)}),t.asyncQueue.enqueueRetryable(ue(we().mark((function e(){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return go("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.fu.delete(1),e.next=6,cf(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Cf.apply(this,arguments)}function Nf(e,t){return t().catch((function(n){return If(e,n,t)}))}function Af(e){return Rf.apply(this,arguments)}function Rf(){return Rf=ue(we().mark((function e(t){var n,r,i,a;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=So(t),r=$f(n),i=n.hu.length>0?n.hu[n.hu.length-1].batchId:-1;case 2:if(!Df(n)){e.next=19;break}return e.prev=3,e.next=6,Nl(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.hu.length&&r.Mo(),e.abrupt("break",19);case 10:i=a.batchId,Of(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,If(n,e.t0);case 17:e.next=2;break;case 19:Pf(n)&&Lf(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Rf.apply(this,arguments)}function Df(e){return kf(e)&&e.hu.length<10}function Of(e,t){e.hu.push(t);var n=$f(e);n.xo()&&n.Ho&&n.Jo(t.mutations)}function Pf(e){return kf(e)&&!$f(e).Co()&&e.hu.length>0}function Lf(e){$f(e).start()}function Mf(e){return jf.apply(this,arguments)}function jf(){return jf=ue(we().mark((function e(t){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$f(t).Zo();case 1:case"end":return e.stop()}}),e)}))),jf.apply(this,arguments)}function Uf(e){return Ff.apply(this,arguments)}function Ff(){return Ff=ue(we().mark((function e(t){var n,r,i,a;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=$f(t),r=De(t.hu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Jo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Ff.apply(this,arguments)}function Vf(e,t,n){return Bf.apply(this,arguments)}function Bf(){return Bf=ue(we().mark((function e(t,n,r){var i,a;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.hu.shift(),a=al.from(i,n,r),e.next=3,Nf(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Af(t);case 5:case"end":return e.stop()}}),e)}))),Bf.apply(this,arguments)}function zf(e,t){return qf.apply(this,arguments)}function qf(){return qf=ue(we().mark((function e(t,n){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&$f(t).Ho,!e.t0){e.next=4;break}return e.next=4,function(){var e=ue(we().mark((function e(t,n){var r,i;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Xu(i=n.code)||i===_o.ABORTED){e.next=7;break}return r=t.hu.shift(),$f(t).ko(),e.next=5,Nf(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Af(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Pf(t)&&Lf(t);case 5:case"end":return e.stop()}}),e)}))),qf.apply(this,arguments)}function Hf(e,t){return Kf.apply(this,arguments)}function Kf(){return Kf=ue(we().mark((function e(t,n){var r,i;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=So(t)).asyncQueue.verifyOperationInProgress(),go("RemoteStore","RemoteStore received new credentials"),i=kf(r),r.fu.add(3),e.next=6,ff(r);case 6:return i&&r.wu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.fu.delete(3),e.next=12,cf(r);case 12:case"end":return e.stop()}}),e)}))),Kf.apply(this,arguments)}function Wf(e,t){return Gf.apply(this,arguments)}function Gf(){return Gf=ue(we().mark((function e(t,n){var r;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=So(t),!n){e.next=7;break}return r.fu.delete(2),e.next=5,cf(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.fu.add(2),e.next=12,ff(r);case 12:r.wu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Gf.apply(this,arguments)}function Qf(e){return e.gu||(e.gu=function(e,t,n){var r=So(e);return r.eu(),new rf(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:wf.bind(null,e),Yr:Ef.bind(null,e),Qo:_f.bind(null,e)}),e.du.push(function(){var t=ue(we().mark((function t(n){return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.gu.ko(),gf(e)?yf(e):e.wu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.gu.stop();case 6:bf(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}function $f(e){return e.yu||(e.yu=function(e,t,n){var r=So(e);return r.eu(),new af(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:Mf.bind(null,e),Yr:zf.bind(null,e),Xo:Uf.bind(null,e),Yo:Vf.bind(null,e)}),e.du.push(function(){var t=ue(we().mark((function t(n){return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.yu.ko(),t.next=4,Af(e);case 4:t.next=9;break;case 6:return t.next=8,e.yu.stop();case 8:e.hu.length>0&&(go("RemoteStore","Stopping write stream with ".concat(e.hu.length," pending writes")),e.hu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.yu}var Xf=function(){function e(t,n,r,i,a){ce(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Io,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return fe(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new To(_o.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Yf(e,t){if(ko("AsyncQueue","".concat(t,": ").concat(e)),rl(e))return new To(_o.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Jf=function(){function e(t){ce(this,e),this.comparator=t?function(e,n){return t(e,n)||cs.comparator(e.key,n.key)}:function(e,t){return cs.comparator(e.key,t.key)},this.keyedMap=sc(),this.sortedSet=new Zu(this.comparator)}return fe(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Zf=function(){function e(){ce(this,e),this.pu=new Zu(cs.comparator)}return fe(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.pu.get(t);n?0!==e.type&&3===n.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==n.type?this.pu=this.pu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pu=this.pu.remove(t):1===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):xo():this.pu=this.pu.insert(t,e)}},{key:"Iu",value:function(){var e=[];return this.pu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),eh=function(){function e(t,n,r,i,a,o,s,u){ce(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return fe(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Jf.emptySet(n),a,r,i,!0,!1)}}]),e}(),th=fe((function e(){ce(this,e),this.Tu=void 0,this.listeners=[]})),nh=fe((function e(){ce(this,e),this.queries=new Ju((function(e){return cu(e)}),uu),this.onlineState="Unknown",this.Eu=new Set}));function rh(e,t){return ih.apply(this,arguments)}function ih(){return ih=ue(we().mark((function e(t,n){var r,i,a,o,s;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=So(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new th),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Tu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Yf(e.t0,"Initialization of query '".concat(lu(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Au(r.onlineState),o.Tu&&n.Ru(o.Tu)&&ch(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),ih.apply(this,arguments)}function ah(e,t){return oh.apply(this,arguments)}function oh(){return oh=ue(we().mark((function e(t,n){var r,i,a,o,s;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=So(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),oh.apply(this,arguments)}function sh(e,t){var n,r=So(e),i=!1,a=De(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=De(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Ru(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Tu=o}}}catch(f){a.e(f)}finally{a.f()}i&&ch(r)}function uh(e,t,n){var r=So(e),i=r.queries.get(t);if(i){var a,o=De(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function ch(e){e.Eu.forEach((function(e){e.next()}))}var lh=function(){function e(t,n,r){ce(this,e),this.query=t,this.Pu=n,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}return fe(e,[{key:"Ru",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=De(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new eh(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),a=!0):this.Su(e,this.onlineState)&&(this.Du(e),a=!0),this.Vu=e,a}},{key:"onError",value:function(e){this.Pu.error(e)}},{key:"Au",value:function(e){this.onlineState=e;var t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}},{key:"Su",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Cu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Du",value:function(e){e=eh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}]),e}();var fh=fe((function e(t){ce(this,e),this.key=t})),hh=fe((function e(t){ce(this,e),this.key=t})),dh=function(){function e(t,n){ce(this,e),this.query=t,this.$u=n,this.Bu=null,this.current=!1,this.Lu=fc(),this.mutatedKeys=fc(),this.Uu=du(t),this.qu=new Jf(this.Uu)}return fe(e,[{key:"Ku",get:function(){return this.$u}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Qu:new Zf,i=t?t.qu:this.qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=eu(this.query)&&i.size===this.query.limit?i.last():null,c=tu(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=fu(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.ju(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Uu(f,u)>0||c&&n.Uu(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),eu(this.query)||tu(this.query))for(;o.size>this.query.limit;){var l=eu(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{qu:o,Qu:r,ni:s,mutatedKeys:a}}},{key:"ju",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;var a=e.Qu.Iu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xo()}};return n(e)-n(t)}(e.type,t.type)||r.Uu(e.doc,t.doc)})),this.Wu(n);var o=t?this.zu():[],s=0===this.Lu.size&&this.current?1:0,u=s!==this.Bu;return this.Bu=s,0!==a.length||u?{snapshot:new eh(this.query,e.qu,i,a,e.mutatedKeys,0===s,u,!1),Hu:o}:{Hu:o}}},{key:"Au",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new Zf,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}},{key:"Ju",value:function(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}},{key:"Wu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.$u=t.$u.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.$u=t.$u.delete(e)})),this.current=e.current)}},{key:"zu",value:function(){var e=this;if(!this.current)return[];var t=this.Lu;this.Lu=fc(),this.qu.forEach((function(t){e.Ju(t.key)&&(e.Lu=e.Lu.add(t.key))}));var n=[];return t.forEach((function(t){e.Lu.has(t)||n.push(new hh(t))})),this.Lu.forEach((function(e){t.has(e)||n.push(new fh(e))})),n}},{key:"Yu",value:function(e){this.$u=e.li,this.Lu=fc();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Xu",value:function(){return eh.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}]),e}(),ph=fe((function e(t,n,r){ce(this,e),this.query=t,this.targetId=n,this.view=r})),vh=fe((function e(t){ce(this,e),this.key=t,this.Zu=!1})),mh=function(){function e(t,n,r,i,a,o){ce(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.ta={},this.ea=new Ju((function(e){return cu(e)}),uu),this.na=new Map,this.sa=new Set,this.ia=new Zu(cs.comparator),this.ra=new Map,this.oa=new jl,this.ua={},this.aa=new Map,this.ca=pl.yn(),this.onlineState="Unknown",this.ha=void 0}return fe(e,[{key:"isPrimaryClient",get:function(){return!0===this.ha}}]),e}();function yh(e,t){return gh.apply(this,arguments)}function gh(){return gh=ue(we().mark((function e(t,n){var r,i,a,o,s,u;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Wh(t),!(o=r.ea.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Xu(),e.next=15;break;case 6:return e.next=8,Al(r.localStore,ou(n));case 8:return s=e.sent,r.isPrimaryClient&&df(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,kh(r,n,i,"current"===u);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),gh.apply(this,arguments)}function kh(e,t,n,r){return bh.apply(this,arguments)}function bh(){return bh=ue(we().mark((function e(t,n,r,i){var a,o,s,u,c,l;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.la=function(e,n,r){return function(){var e=ue(we().mark((function e(t,n,r,i){var a,o,s;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Gu(r),e.t0=a.ni,!e.t0){e.next=6;break}return e.next=5,Ol(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Gu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Uh(t,n.targetId,s.Hu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Ol(t.localStore,n,!0);case 3:return a=e.sent,o=new dh(n,a.li),s=o.Gu(a.documents),u=vc.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),Uh(t,r,c.Hu),l=new ph(n,r,o),e.abrupt("return",(t.ea.set(n,l),t.na.has(r)?t.na.get(r).push(n):t.na.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),bh.apply(this,arguments)}function wh(e,t){return xh.apply(this,arguments)}function xh(){return xh=ue(we().mark((function e(t,n){var r,i,a;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=So(t),i=r.ea.get(n),!((a=r.na.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.na.set(i.targetId,a.filter((function(e){return!uu(e,n)}))),void r.ea.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Rl(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),pf(r.remoteStore,i.targetId),Mh(r,i.targetId)})).catch(vl);case 9:e.next=14;break;case 11:return Mh(r,i.targetId),e.next=14,Rl(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),xh.apply(this,arguments)}function Eh(e,t,n){return Sh.apply(this,arguments)}function Sh(){return Sh=ue(we().mark((function e(t,n,r){var i,a,o;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gh(t),e.prev=1,e.next=4,function(e,t){var n,r=So(e),i=Vo.now(),a=t.reduce((function(e,t){return e.add(t.key)}),fc());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ci.Ks(e,a).next((function(a){n=a;var o,s=[],u=De(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=ju(c,n.get(c.key));null!=l&&s.push(new Bu(c.key,l,_s(l.value.mapValue),Du.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.Bs.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ua[e.currentUser.toKey()];r||(r=new Zu(Uo)),r=r.insert(t,n),e.ua[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Bh(i,a.changes);case 9:return e.next=11,Af(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Yf(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Sh.apply(this,arguments)}function _h(e,t){return Th.apply(this,arguments)}function Th(){return Th=ue(we().mark((function e(t,n){var r,i;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=So(t),e.prev=1,e.next=4,Il(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ra.get(t);n&&(Eo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Zu=!0:e.modifiedDocuments.size>0?Eo(n.Zu):e.removedDocuments.size>0&&(Eo(n.Zu),n.Zu=!1))})),e.next=8,Bh(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,vl(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Th.apply(this,arguments)}function Ih(e,t,n){var r=So(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ea.forEach((function(e,n){var r=n.view.Au(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=So(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=De(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Au(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&ch(n)}(r.eventManager,t),i.length&&r.ta.Qo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Ch(e,t,n){return Nh.apply(this,arguments)}function Nh(){return Nh=ue(we().mark((function e(t,n,r){var i,a,o,s,u,c;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=So(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ra.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Zu(cs.comparator)).insert(o,Ts.newNoDocument(o,Bo.min())),u=fc().add(o),c=new pc(Bo.min(),new Map,new nc(Uo),s,u),e.next=9,_h(i,c);case 9:i.ia=i.ia.remove(o),i.ra.delete(n),Vh(i),e.next=16;break;case 14:return e.next=16,Rl(i.localStore,n,!1).then((function(){return Mh(i,n,r)})).catch(vl);case 16:case"end":return e.stop()}}),e)}))),Nh.apply(this,arguments)}function Ah(e,t){return Rh.apply(this,arguments)}function Rh(){return Rh=ue(we().mark((function e(t,n){var r,i,a;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=So(t),i=n.batch.batchId,e.prev=1,e.next=4,_l(r.localStore,n);case 4:return a=e.sent,Lh(r,i,null),Ph(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Bh(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,vl(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Rh.apply(this,arguments)}function Dh(e,t,n){return Oh.apply(this,arguments)}function Oh(){return Oh=ue(we().mark((function e(t,n,r){var i,a;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=So(t),e.prev=1,e.next=4,function(e,t){var n=So(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return Eo(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Lh(i,n,r),Ph(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Bh(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,vl(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Oh.apply(this,arguments)}function Ph(e,t){(e.aa.get(t)||[]).forEach((function(e){e.resolve()})),e.aa.delete(t)}function Lh(e,t,n){var r=So(e),i=r.ua[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ua[r.currentUser.toKey()]=i}}function Mh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=De(e.na.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ea.delete(a),n&&e.ta.fa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.na.delete(t),e.isPrimaryClient&&e.oa.Pi(t).forEach((function(t){e.oa.containsKey(t)||jh(e,t)}))}function jh(e,t){e.sa.delete(t.path.canonicalString());var n=e.ia.get(t);null!==n&&(pf(e.remoteStore,n),e.ia=e.ia.remove(t),e.ra.delete(n),Vh(e))}function Uh(e,t,n){var r,i=De(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof fh?(e.oa.addReference(a.key,t),Fh(e,a)):a instanceof hh?(go("SyncEngine","Document no longer in limbo: "+a.key),e.oa.removeReference(a.key,t),e.oa.containsKey(a.key)||jh(e,a.key)):xo()}}catch(o){i.e(o)}finally{i.f()}}function Fh(e,t){var n=t.key,r=n.path.canonicalString();e.ia.get(n)||e.sa.has(r)||(go("SyncEngine","New document in limbo: "+n),e.sa.add(r),Vh(e))}function Vh(e){for(;e.sa.size>0&&e.ia.size<e.maxConcurrentLimboResolutions;){var t=e.sa.values().next().value;e.sa.delete(t);var n=new cs(Wo.fromString(t)),r=e.ca.next();e.ra.set(r,new vh(n)),e.ia=e.ia.insert(n,r),df(e.remoteStore,new sl(ou(Zs(n.path)),r,2,Lo.A))}}function Bh(e,t,n){return zh.apply(this,arguments)}function zh(){return zh=ue(we().mark((function e(t,n,r){var i,a,o,s;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=So(t),a=[],o=[],s=[],e.t0=i.ea.isEmpty(),e.t0){e.next=9;break}return i.ea.forEach((function(e,t){s.push(i.la(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=kl.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.ta.Qo(a),e.next=9,function(){var e=ue(we().mark((function e(t,n){var r,i,a,o,s,u,c,l;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=So(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return nl.forEach(n,(function(t){return nl.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return nl.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),rl(e.t0)){e.next=10;break}throw e.t0;case 10:go("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=De(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.ii.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.ii=r.ii.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),zh.apply(this,arguments)}function qh(e,t){return Hh.apply(this,arguments)}function Hh(){return Hh=ue(we().mark((function e(t,n){var r,i;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=So(t)).currentUser.isEqual(n)){e.next=11;break}return go("SyncEngine","User change. New user:",n.toKey()),e.next=5,El(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.aa.forEach((function(e){e.forEach((function(e){e.reject(new To(_o.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.aa.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Bh(r,i.hi);case 11:case"end":return e.stop()}}),e)}))),Hh.apply(this,arguments)}function Kh(e,t){var n=So(e),r=n.ra.get(t);if(r&&r.Zu)return fc().add(r.key);var i=fc(),a=n.na.get(t);if(!a)return i;var o,s=De(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.ea.get(u);i=i.unionWith(c.view.Ku)}}catch(l){s.e(l)}finally{s.f()}return i}function Wh(e){var t=So(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=_h.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ch.bind(null,t),t.ta.Qo=sh.bind(null,t.eventManager),t.ta.fa=uh.bind(null,t.eventManager),t}function Gh(e){var t=So(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ah.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Dh.bind(null,t),t}var Qh=function(){function e(){ce(this,e),this.synchronizeTabs=!1}return fe(e,[{key:"initialize",value:function(){var e=ue(we().mark((function e(t){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=ef(t.databaseInfo.databaseId),this.sharedClientState=this._a(t),this.persistence=this.wa(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.ma(t),this.localStore=this.ga(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ma",value:function(e){return null}},{key:"ga",value:function(e){return xl(this.persistence,new bl,e.initialUser,this.M)}},{key:"wa",value:function(e){return new ql(Kl.zi,this.M)}},{key:"_a",value:function(e){return new Gl}},{key:"terminate",value:function(){var e=ue(we().mark((function e(){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),$h=function(){function e(){ce(this,e)}return fe(e,[{key:"initialize",value:function(){var e=ue(we().mark((function e(t,n){var r=this;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Ih(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=qh.bind(null,this.syncEngine),e.next=12,Wf(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new nh}},{key:"createDatastore",value:function(e){var t,n=ef(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Jl(t));return function(e,t,n,r){return new of(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Ih(o.syncEngine,e,0)},a=$l.vt()?new $l:new Ql,new uf(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new mh(e,t,n,r,i,a);return o&&(s.ha=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ue(we().mark((function e(t){var n;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=So(t),go("RemoteStore","RemoteStore shutting down."),n.fu.add(5),e.next=5,ff(n);case 5:n._u.shutdown(),n.wu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var Xh=function(){function e(t){ce(this,e),this.observer=t,this.muted=!1}return fe(e,[{key:"next",value:function(e){this.observer.next&&this.pa(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Ia",value:function(){this.muted=!0}},{key:"pa",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Yh=function(){function e(t,n,r,i){var a=this;ce(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=po.UNAUTHENTICATED,this.clientId=jo.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ue(we().mark((function e(t){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return go("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return go("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return fe(e,[{key:"getConfiguration",value:function(){var e=ue(we().mark((function e(){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new To(_o.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Io;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ue(we().mark((function n(){var r;return we().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Yf(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Jh(e,t){return Zh.apply(this,arguments)}function Zh(){return Zh=ue(we().mark((function e(t,n){var r,i;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),go("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ue(we().mark((function e(t){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,El(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Zh.apply(this,arguments)}function ed(e,t){return td.apply(this,arguments)}function td(){return td=ue(we().mark((function e(t,n){var r,i;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,nd(t);case 3:return r=e.sent,go("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Hf(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Hf(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),td.apply(this,arguments)}function nd(e){return rd.apply(this,arguments)}function rd(){return rd=ue(we().mark((function e(t){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return go("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Jh(t,new Qh);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),rd.apply(this,arguments)}function id(e){return ad.apply(this,arguments)}function ad(){return ad=ue(we().mark((function e(t){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return go("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,ed(t,new $h);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),ad.apply(this,arguments)}function od(e){return id(e).then((function(e){return e.syncEngine}))}function sd(e){return ud.apply(this,arguments)}function ud(){return ud=ue(we().mark((function e(t){var n,r;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,id(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=yh.bind(null,n.syncEngine),r.onUnlisten=wh.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),ud.apply(this,arguments)}function cd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Io;return e.asyncQueue.enqueueAndForget(ue(we().mark((function i(){return we().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Xh({next:function(a){t.enqueueAndForget((function(){return ah(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new To(_o.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new To(_o.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new lh(Zs(n.path),a,{includeMetadataChanges:!0,Cu:!0});return rh(e,o)},i.next=3,sd(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function ld(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Io;return e.asyncQueue.enqueueAndForget(ue(we().mark((function i(){return we().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Xh({next:function(n){t.enqueueAndForget((function(){return ah(e,o)})),n.fromCache&&"server"===r.source?i.reject(new To(_o.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new lh(n,a,{includeMetadataChanges:!0,Cu:!0});return rh(e,o)},i.next=3,sd(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var fd=new Map;function hd(e,t,n){if(!n)throw new To(_o.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function dd(e){if(!cs.isDocumentKey(e))throw new To(_o.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function pd(e){if(cs.isDocumentKey(e))throw new To(_o.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function vd(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":xo()}function md(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new To(_o.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=vd(e);throw new To(_o.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function yd(e,t){if(t<=0)throw new To(_o.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var gd=function(){function e(t){var n;if(ce(this,e),void 0===t.host){if(void 0!==t.ssl)throw new To(_o.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new To(_o.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new To(_o.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return fe(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),kd=function(){function e(t,n,r){ce(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gd({}),this._settingsFrozen=!1,t instanceof as?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new To(_o.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new as(e.options.projectId)}(t))}return fe(e,[{key:"app",get:function(){if(!this._app)throw new To(_o.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new To(_o.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gd(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new No;switch(e.type){case"gapi":var t=e.client;return Eo(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Do(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new To(_o.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=fd.get(e);t&&(go("ComponentProvider","Removing Datastore"),fd.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();var bd=function(){function e(t,n,r){ce(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return fe(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new xd(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),wd=function(){function e(t,n,r){ce(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return fe(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),xd=function(e){de(n,e);var t=ke(n);function n(e,r,i){var a;return ce(this,n),(a=t.call(this,e,r,Zs(i)))._path=i,a.type="collection",a}return fe(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new bd(this.firestore,null,new cs(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(wd);function Ed(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=tt(e),hd("collection","path",t),e instanceof kd){var a=Wo.fromString.apply(Wo,[t].concat(r));return pd(a),new xd(e,null,a)}if(!(e instanceof bd||e instanceof xd))throw new To(_o.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Wo.fromString.apply(Wo,[t].concat(r)));return pd(o),new xd(e.firestore,null,o)}function Sd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=tt(e),1===arguments.length&&(t=jo.R()),hd("doc","path",t),e instanceof kd){var a=Wo.fromString.apply(Wo,[t].concat(r));return dd(a),new bd(e,null,new cs(a))}if(!(e instanceof bd||e instanceof xd))throw new To(_o.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Wo.fromString.apply(Wo,[t].concat(r)));return dd(o),new bd(e.firestore,e instanceof xd?e.converter:null,new cs(o))}var _d=function(){function e(){var t=this;ce(this,e),this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new tf(this,"async_queue_retry"),this.qa=function(){var e=Zl();e&&go("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Do.Ao()};var n=Zl();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.qa)}return fe(e,[{key:"isShuttingDown",get:function(){return this.Oa}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Ka(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;var t=Zl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.Ka(),this.Oa)return new Promise((function(){}));var n=new Io;return this.Ga((function(){return t.Oa&&t.La?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Ma.push(e),t.Qa()}))}},{key:"Qa",value:function(){var e=ue(we().mark((function e(){var t=this;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Ma.length){e.next=14;break}return e.prev=1,e.next=4,this.Ma[0]();case 4:this.Ma.shift(),this.Do.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),rl(e.t0)){e.next=12;break}throw e.t0;case 12:go("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Ma.length>0&&this.Do.To((function(){return t.Qa()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){var t=this,n=this.ka.then((function(){return t.Ba=!0,e().catch((function(e){t.$a=e,t.Ba=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ko("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ba=!1,e}))}));return this.ka=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);var i=Xf.createAndSchedule(this,e,t,n,(function(e){return r.ja(e)}));return this.Fa.push(i),i}},{key:"Ka",value:function(){this.$a&&xo()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Wa",value:function(){var e=ue(we().mark((function e(){var t;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ka,e.next=3,t;case 3:if(t!==this.ka){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"za",value:function(e){var t,n=De(this.Fa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ha",value:function(e){var t=this;return this.Wa().then((function(){t.Fa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=De(t.Fa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Wa()}))}},{key:"Ja",value:function(e){this.Ua.push(e)}},{key:"ja",value:function(e){var t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}]),e}();function Td(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=De(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Id=function(e){de(n,e);var t=ke(n);function n(e,r,i){var a;return ce(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new _d,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return fe(n,[{key:"_terminate",value:function(){return this._firestoreClient||Nd(this),this._firestoreClient.terminate()}}]),n}(kd);function Cd(e){return e._firestoreClient||Nd(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Nd(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new is(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Yh(e._authCredentials,e._appCheckCredentials,e._queue,r)}var Ad=function(){function e(){ce(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new To(_o.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qo(n)}return fe(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Rd=function(){function e(t){ce(this,e),this._byteString=t}return fe(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Xo.fromBase64String(t))}catch(t){throw new To(_o.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Xo.fromUint8Array(t))}}]),e}(),Dd=fe((function e(t){ce(this,e),this._methodName=t})),Od=function(){function e(t,n){if(ce(this,e),!isFinite(t)||t<-90||t>90)throw new To(_o.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new To(_o.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return fe(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Uo(this._lat,e._lat)||Uo(this._long,e._long)}}]),e}(),Pd=/^__.*__$/,Ld=function(){function e(t,n,r){ce(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return fe(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Bu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vu(e,this.data,t,this.fieldTransforms)}}]),e}(),Md=function(){function e(t,n,r){ce(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return fe(e,[{key:"toMutation",value:function(e,t){return new Bu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function jd(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xo()}}var Ud=function(){function e(t,n,r,i,a,o){ce(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ya(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return fe(e,[{key:"path",get:function(){return this.settings.path}},{key:"Xa",get:function(){return this.settings.Xa}},{key:"Za",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"tc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.nc(e),r}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.Ya(),r}},{key:"ic",value:function(e){return this.Za({path:void 0,ec:!0})}},{key:"rc",value:function(e){return np(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ya",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.nc(this.path.get(e))}},{key:"nc",value:function(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(jd(this.Xa)&&Pd.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}]),e}(),Fd=function(){function e(t,n,r){ce(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||ef(t)}return fe(e,[{key:"ac",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Ud({Xa:e,methodName:t,uc:n,path:Qo.emptyPath(),ec:!1,oc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function Vd(e){var t=e._freezeSettings(),n=ef(e._databaseId);return new Fd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Bd(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ac(a.merge||a.mergeFields?2:0,t,n,i);Jd("Data must be an object, but it was:",o,r);var s,u,c=Xd(r,o);if(a.merge)s=new $o(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=De(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=Zd(t,d,n);if(!o.contains(p))throw new To(_o.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));rp(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new $o(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new Ld(new Ss(c),s,u)}var zd=function(e){de(n,e);var t=ke(n);function n(){return ce(this,n),t.apply(this,arguments)}return fe(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Xa)throw 1===e.Xa?e.rc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.rc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Dd);function qd(e,t,n){return new Ud({Xa:3,uc:t.settings.uc,methodName:e._methodName,ec:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var Hd=function(e){de(n,e);var t=ke(n);function n(){return ce(this,n),t.apply(this,arguments)}return fe(n,[{key:"_toFieldTransform",value:function(e){return new Au(e.path,new xu)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Dd),Kd=function(e){de(n,e);var t=ke(n);function n(e,r){var i;return ce(this,n),(i=t.call(this,e)).cc=r,i}return fe(n,[{key:"_toFieldTransform",value:function(e){var t=qd(this,e,!0),n=this.cc.map((function(e){return $d(e,t)})),r=new Eu(n);return new Au(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Dd),Wd=function(e){de(n,e);var t=ke(n);function n(e,r){var i;return ce(this,n),(i=t.call(this,e)).cc=r,i}return fe(n,[{key:"_toFieldTransform",value:function(e){var t=qd(this,e,!0),n=this.cc.map((function(e){return $d(e,t)})),r=new _u(n);return new Au(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Dd);function Gd(e,t,n,r){var i=e.ac(1,t,n);Jd("Data must be an object, but it was:",i,r);var a=[],o=Ss.empty();qo(r,(function(e,r){var s=tp(t,e,n);r=tt(r);var u=i.sc(s);if(r instanceof zd)a.push(s);else{var c=$d(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new $o(a);return new Md(o,s,i.fieldTransforms)}function Qd(e,t,n,r,i,a){var o=e.ac(1,t,n),s=[Zd(t,r,n)],u=[i];if(a.length%2!=0)throw new To(_o.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(Zd(t,a[c])),u.push(a[c+1]);for(var l=[],f=Ss.empty(),h=s.length-1;h>=0;--h)if(!rp(l,s[h])){var d=s[h],p=u[h];p=tt(p);var v=o.sc(d);if(p instanceof zd)l.push(d);else{var m=$d(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new $o(l);return new Md(f,y,o.fieldTransforms)}function $d(e,t){if(Yd(e=tt(e)))return Jd("Unsupported field value:",t,e),Xd(e,t);if(e instanceof Dd)return function(e,t){if(!jd(t.Xa))throw t.rc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.rc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ec&&4!==t.Xa)throw t.rc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=De(e);try{for(a.s();!(n=a.n()).done;){var o=$d(n.value,t.ic(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=tt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return yu(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Vo.fromDate(e);return{timestampValue:Tc(t.M,n)}}if(e instanceof Vo){var r=new Vo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Tc(t.M,r)}}if(e instanceof Od)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Rd)return{bytesValue:Ic(t.M,e._byteString)};if(e instanceof bd){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.rc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Ac(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.rc("Unsupported field value: ".concat(vd(e)))}(e,t)}function Xd(e,t){var n={};return Ho(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qo(e,(function(e,r){var i=$d(r,t.tc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Yd(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Vo||e instanceof Od||e instanceof Rd||e instanceof bd||e instanceof Dd)}function Jd(e,t,n){if(!Yd(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=vd(n);throw"an object"===r?t.rc(e+" a custom object"):t.rc(e+" "+r)}}function Zd(e,t,n){if((t=tt(t))instanceof Ad)return t._internalPath;if("string"==typeof t)return tp(e,t);throw np("Field path arguments must be of type string or ",e,!1,void 0,n)}var ep=new RegExp("[~\\*/\\[\\]]");function tp(e,t,n){if(t.search(ep)>=0)throw np("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Ne(Ad,Ce(t.split(".")))._internalPath}catch(r){throw np("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function np(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new To(_o.INVALID_ARGUMENT,s+e+u)}function rp(e,t){return e.some((function(e){return e.isEqual(t)}))}var ip=function(){function e(t,n,r,i,a){ce(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return fe(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new bd(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new ap(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(op("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),ap=function(e){de(n,e);var t=ke(n);function n(){return ce(this,n),t.apply(this,arguments)}return fe(n,[{key:"data",value:function(){return Re(pe(n.prototype),"data",this).call(this)}}]),n}(ip);function op(e,t){return"string"==typeof t?tp(e,t):t instanceof Ad?t._internalPath:t._delegate._internalPath}var sp=function(){function e(t,n){ce(this,e),this.hasPendingWrites=t,this.fromCache=n}return fe(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),up=function(e){de(n,e);var t=ke(n);function n(e,r,i,a,o,s){var u;return ce(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return fe(n,[{key:"exists",value:function(){return Re(pe(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new cp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(op("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(ip),cp=function(e){de(n,e);var t=ke(n);function n(){return ce(this,n),t.apply(this,arguments)}return fe(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Re(pe(n.prototype),"data",this).call(this,e)}}]),n}(up),lp=function(){function e(t,n,r,i){ce(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new sp(i.hasPendingWrites,i.fromCache),this.query=r}return fe(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new cp(n._firestore,n._userDataWriter,r.key,r,new sp(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new To(_o.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new cp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new sp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new cp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new sp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:fp(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function fp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xo()}}function hp(e){if(tu(e)&&0===e.explicitOrderBy.length)throw new To(_o.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var dp=fe((function e(){ce(this,e)}));function pp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var vp=function(e){de(n,e);var t=ke(n);function n(e,r){var i;return ce(this,n),(i=t.call(this)).lc=e,i._c=r,i.type="orderBy",i}return fe(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new To(_o.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new To(_o.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Gs(t,n);return function(e,t){if(null===nu(e)){var n=ru(e);null!==n&&kp(e,n,t.field)}}(e,r),r}(e._query,this.lc,this._c);return new wd(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Ys(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(dp);function mp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=op("orderBy",e);return new vp(r,n)}var yp=function(e){de(n,e);var t=ke(n);function n(e,r,i){var a;return ce(this,n),(a=t.call(this)).type=e,a.wc=r,a.mc=i,a}return fe(n,[{key:"_apply",value:function(e){return new wd(e.firestore,e.converter,su(e._query,this.wc,this.mc))}}]),n}(dp);function gp(e){return yd("limit",e),new yp("limit",e,"F")}function kp(e,t,n){if(!n.isEqual(t))throw new To(_o.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var bp=function(){function e(){ce(this,e)}return fe(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw xo()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return qo(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Od(Zo(e.latitude),Zo(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=ns(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(rs(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Jo(e);return new Vo(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Wo.fromString(e);Eo(Yc(n));var r=new as(n.get(1),n.get(3)),i=new cs(n.popFirst(5));return r.isEqual(t)||ko("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function wp(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}function xp(e){e=md(e,bd);var t=md(e.firestore,Id);return cd(Cd(t),e._key).then((function(n){return Np(t,e,n)}))}var Ep=function(e){de(n,e);var t=ke(n);function n(e){var r;return ce(this,n),(r=t.call(this)).firestore=e,r}return fe(n,[{key:"convertBytes",value:function(e){return new Rd(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new bd(this.firestore,null,t)}}]),n}(bp);function Sp(e){e=md(e,wd);var t=md(e.firestore,Id),n=Cd(t),r=new Ep(t);return hp(e._query),ld(n,e._query).then((function(n){return new lp(t,r,e,n)}))}function _p(e,t,n){e=md(e,bd);var r=md(e.firestore,Id),i=wp(e.converter,t,n);return Cp(r,[Bd(Vd(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Du.none())])}function Tp(e,t,n){e=md(e,bd);for(var r=md(e.firestore,Id),i=Vd(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return Cp(r,[("string"==typeof(t=tt(t))||t instanceof Ad?Qd(i,"updateDoc",e._key,t,n,o):Gd(i,"updateDoc",e._key,t)).toMutation(e._key,Du.exists(!0))])}function Ip(e,t){var n=md(e.firestore,Id),r=Sd(e),i=wp(e.converter,t);return Cp(n,[Bd(Vd(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Du.exists(!1))]).then((function(){return r}))}function Cp(e,t){return function(e,t){var n=new Io;return e.asyncQueue.enqueueAndForget(ue(we().mark((function r(){return we().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Eh,r.next=3,od(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Cd(e),t)}function Np(e,t,n){var r=n.docs.get(t._key),i=new Ep(e);return new up(e,i,t._key,r,new sp(n.hasPendingWrites,n.fromCache),t.converter)}function Ap(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Kd("arrayUnion",t)}function Rp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Wd("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];vo="9.6.11",At(new st("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Id(i,new Ao(e.getProvider("auth-internal")),new Po(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),jt(ho,"3.4.8",e),jt(ho,"3.4.8","esm2017")}();jt("firebase","9.6.11","app");var Dp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:_t,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ot.create("bad-app-name",{appName:String(i)});var a=It.get(i);if(a){if(Qe(e,a.options)&&Qe(r,a.config))return a;throw Ot.create("duplicate-app",{appName:i})}var o,s=new ht(i),u=De(Ct.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Pt(e,r,s);return It.set(i,l),l}({apiKey:"AIzaSyBoEqcmW37HdZgZcXoN93csl0fUdSI1Lpo",authDomain:"projet-z-502d7.firebaseapp.com",projectId:"projet-z-502d7",storageBucket:"projet-z-502d7.appspot.com",messagingSenderId:"305330000224",appId:"1:305330000224:web:d2ba8352cfe6087accce05",measurementId:"G-DCKSLD3Y02"}),Op=function(){function e(){ce(this,e),this.db=function(){return Rt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt(),"firestore").getImmediate()}(Dp)}return fe(e,[{key:"currentTimestamp",value:function(){return new Hd("serverTimestamp")}},{key:"getCollectionRef",value:function(e){return"string"===typeof e?Ed(this.db,e):Array.isArray(e)?"string"===typeof e[0]?Ed.apply(void 0,[this.db].concat(Ce(e))):Ed.apply(void 0,Ce(e)):e}},{key:"setSnapshotListener",value:function(e,t){var n=e.collectionPath,r=e.orderBy,i=void 0===r?null:r,a=e.orderDirection,o=void 0===a?null:a,s=e.limit,u=void 0===s?100:s,c=i?pp(this.getCollectionRef(n),mp(i,o),gp(u)):pp(this.getCollectionRef(n),gp(u));try{var l=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=tt(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||Td(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(Td(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof bd)l=md(e.firestore,Id),f=Zs(e._key.path),c={next:function(t){n[u]&&n[u](Np(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=md(e,wd);l=md(p.firestore,Id),f=p._query;var v=new Ep(l);c={next:function(e){n[u]&&n[u](new lp(l,v,p,e))},error:n[u+1],complete:n[u+2]},hp(e._query)}return function(e,t,n,r){var i=new Xh(r),a=new lh(t,i,n);return e.asyncQueue.enqueueAndForget(ue(we().mark((function t(){return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=rh,t.next=3,sd(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Ia(),e.asyncQueue.enqueueAndForget(ue(we().mark((function t(){return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ah,t.next=3,sd(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Cd(l),f,h,c)}(c,t);return l}catch(f){console.log(f)}}},{key:"getDocumentRef",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return t?"string"===typeof e?Sd(this.db,e,t):Array.isArray(e)?Sd.apply(void 0,[this.db].concat(Ce(e),[t])):void 0:Array.isArray(e)?Sd.apply(void 0,[this.db].concat(Ce(e))):e}},{key:"createDoc",value:function(){var e=ue(we().mark((function e(t,n){var r;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ip(this.getCollectionRef(t),n);case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createDocWithID",value:function(){var e=ue(we().mark((function e(t,n,r){var i;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_p(this.getDocumentRef(t,n),r);case 3:return i=e.sent,e.abrupt("return",i);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getDocsFromCollection",value:function(){var e=ue(we().mark((function e(t){var n,r,i,a,o,s,u,c,l,f;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.collectionPath,r=t.orderBy,i=void 0===r?null:r,a=t.orderDirection,o=void 0===a?null:a,s=t.limit,u=void 0===s?100:s,c=i?pp(this.getCollectionRef(n),mp(i,o),gp(u)):pp(this.getCollectionRef(n),gp(u)),e.prev=2,e.next=5,Sp(c);case 5:return l=e.sent,f=l.docs.map((function(e){return ee({id:e.id},e.data())})),e.abrupt("return",f);case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case 14:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getSingleDocument",value:function(){var e=ue(we().mark((function e(t){var n,r,i;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.collectionPath,r=t.documentId,e.prev=1,e.next=4,xp(this.getDocumentRef(n,r));case 4:return i=e.sent,e.abrupt("return",ee({id:i.id},i.data()));case 8:return e.prev=8,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return");case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addField",value:function(){var e=ue(we().mark((function e(t,n,r){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_p(this.getDocumentRef(t),J({},n,r),{merge:!0});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.warn(e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"updateSingleDocument",value:function(){var e=ue(we().mark((function e(t,n,r){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(r),e.prev=1,e.next=4,Tp(this.getDocumentRef(t),J({},"".concat(n),r));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"appendToField",value:function(){var e=ue(we().mark((function e(t,n,r){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Tp(this.getDocumentRef(t),J({},n,Ap(r)));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"removeFromField",value:function(){var e=ue(we().mark((function e(t,n,r){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Tp(this.getDocumentRef(t),J({},n,Rp(r)));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t,n,r){return e.apply(this,arguments)}}()}]),e}(),Pp=function(e){de(n,e);var t=ke(n);function n(e,r){var i;return ce(this,n),(i=t.call(this,Ie,e,r)).fetch=new Op,i}return fe(n,[{key:"loadHomeView",value:function(){var e=ue(we().mark((function e(){var t=this;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch.getSingleDocument({collectionPath:"General",documentId:"backgrounds"}).then((function(e){t.updateModel({headerImg:e.headerBackground})}));case 2:return e.next=4,this.fetch.getSingleDocument({collectionPath:"Home",documentId:"starredEvents"}).then((function(e){t.updateModel({popularEventsSection:e})}));case 4:return e.next=6,this.fetch.getDocsFromCollection({collectionPath:"Events",orderBy:"popularity",orderDirection:"desc",limit:5}).then((function(e){t.updateModel({popularEvents:e})}));case 6:return e.next=8,this.fetch.getDocsFromCollection({collectionPath:"Salons",orderBy:"popularity",orderDirection:"desc",limit:6}).then((function(e){t.updateModel({popularSalons:e})}));case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Te);function Lp(){var e=o((0,t.useState)(!0),2),n=e[0],r=e[1],i=o((0,t.useState)(),2),a=i[0],s=i[1],u=o((0,t.useState)(),2),c=u[0],l=u[1],f=o((0,t.useState)(),2),h=f[0],d=f[1],p=o((0,t.useState)(),2),v=p[0],m=p[1],y=new Pp({popularEventsSection:a,popularEvents:c,headerImg:h,popularSalons:v},{setPopularEventsSection:s,setPopularEvents:l,setHeaderImg:d,setPopularSalons:m});return(0,t.useEffect)((function(){document.title="Frips | Friends & Trips !";var e=!0;if(e)try{y.loadHomeView().then((function(e){r(e)}))}catch(t){console.log(t)}return function(){e=!1}}),[]),n?(0,X.jsx)(Y,{}):(0,X.jsx)(oe,{presenter:y,viewModel:y.model})}function Mp(e){var t=e.presenter,n=e.viewModel;return document.title="Tous les \xe9v\xe8nements",(0,X.jsx)(X.Fragment,{children:(0,X.jsxs)("div",{className:"events-wrapper",children:[(0,X.jsxs)("div",{id:"events-title-zone",children:[(0,X.jsx)("h1",{className:"displayed-events-title",onClick:function(){return t.showCategories()},children:"Tous \u25be"}),(0,X.jsxs)("div",{className:"events-category-selector",children:[(0,X.jsx)("button",{children:"A la une"}),(0,X.jsx)("button",{children:"Rap"}),(0,X.jsx)("button",{children:"Pop"}),(0,X.jsx)("button",{children:"Edm"}),(0,X.jsx)("button",{children:"Samba"}),(0,X.jsx)("button",{children:"Jazz"})]})]}),(0,X.jsx)("div",{className:"events-group-wrapper",children:n.events.map((function(e){return(0,X.jsxs)("div",{className:"events-single-card",onClick:function(){return t.goto(e.id)},children:[(0,X.jsx)("img",{className:"hovering",src:e.img,alt:e.category}),(0,X.jsx)("h1",{children:e.title}),(0,X.jsxs)("div",{className:"event-date-location",children:[(0,X.jsx)("p",{children:e.date}),(0,X.jsx)("p",{children:e.location})]}),(0,X.jsx)("p",{className:"event-desc",children:e.desc})]},e.id)}))})]})})}var jp=fe((function e(t,n){ce(this,e),this.model={events:t.events},this.setters={events:n.setEvents}})),Up=function(e){de(n,e);var t=ke(n);function n(e,r){var i;return ce(this,n),(i=t.call(this,jp,e,r)).fetch=new Op,i}return fe(n,[{key:"loadEventsView",value:function(){var e=ue(we().mark((function e(){var t;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch.getDocsFromCollection({collectionPath:"Events",orderBy:"popularity",orderDirection:"desc"});case 2:return t=e.sent,this.updateModel({events:t}),e.abrupt("return",!1);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"goto",value:function(e){window.location.href="/events/".concat(e)}},{key:"showCategories",value:function(){document.querySelector(".events-category-selector").classList.toggle("active")}}]),n}(Te);function Fp(){var e=o((0,t.useState)(!0),2),n=e[0],r=e[1],i=o((0,t.useState)([]),2),a=i[0],s=i[1],u=o((0,t.useState)(),2),c=(u[0],u[1],new Up({events:a},{setEvents:s}));return(0,t.useEffect)((function(){var e=!0;return e&&c.loadEventsView().then((function(e){return r(e)})),function(){e=!1}}),[]),n?(0,X.jsx)(Y,{}):(0,X.jsx)(Mp,{presenter:c,viewModel:c.model})}function Vp(e){return document.querySelector(e)}function Bp(){window.location.hash="",window.history.replaceState("","",window.location.pathname)}function zp(){window.location.hash="#authentication"}function qp(e){var t=document.querySelector("aside"),n=document.querySelector("#menu-btn");window.matchMedia("(max-width: 1280px)").matches&&(t.dataset.state="close",n.textContent="\u2162")}function Hp(e){var t=document.querySelector("aside"),n=document.querySelector("#menu-btn");window.matchMedia("(max-width: 1280px)").matches&&(t.dataset.state="close"===t.dataset.state?"open":"close",n.textContent="close"===t.dataset.state?"\u2162":"\u2a09")}function Kp(e){return e.match(/\/(\w+)/g)}function Wp(e){var t=e.find((function(e,t,n){return"/chats"===n.at(t-1)}));return t.split("/").at(-1)}function Gp(e){return"".concat((t=e).length>1?t.charAt(0).toUpperCase()+t.slice(1):t.toUpperCase(),"Chats");var t}function Qp(){var e,t=null===(e=Vp("#messages-container"))||void 0===e?void 0:e.querySelector(".message-element:last-of-type");t&&t.scrollIntoView(!1)}function $p(e){e.presenter;var t=e.viewModel;return document.title="".concat(t.event.title),(0,X.jsx)(X.Fragment,{children:(0,X.jsxs)("div",{className:"event-wrapper",children:[(0,X.jsx)("header",{className:"header-container",children:(0,X.jsxs)("div",{className:"event-header",children:[(0,X.jsx)("h1",{className:"clr--accent",children:t.event.title}),(0,X.jsx)("h2",{className:"outlined",children:"Sed placerat condimentum laoreet. Etiam et erat id nunc gravida lacinia non consectetur dolor. Aliquam vulputate tortor sagittis lorem varius, ut volutpat eros tristique. Phasellus a tortor ut leo vehicula faucibus in vel tellus. Cras viverra gravida dui, vel blandit metus dictum sit amet."}),(0,X.jsxs)("div",{className:"event-buttons-container",children:[(0,X.jsx)($,{to:"/chats/official/".concat(t.event.officialChatId),className:"bg--primary",id:"event-chat-button",onClick:function(){return e="event",void window.localStorage.setItem("currentSubjectType",e);var e},children:"Chat de l'\xe9v\xe8nement"}),(0,X.jsx)($,{to:"#",className:"bg--primary",id:"event-ticketing",children:"Billeterie"})]}),(0,X.jsxs)("div",{className:"social-buttons",children:[(0,X.jsx)("a",{href:"#",className:"fa fa-facebook"}),(0,X.jsx)("a",{href:"#",className:"fa fa-twitter"}),(0,X.jsx)("a",{href:"#",className:"fa fa-instagram"}),(0,X.jsx)("a",{href:"#",className:"fa fa-google"})]})]})}),(0,X.jsx)("div",{className:"event-content",children:(0,X.jsx)("h1",{className:"clr--accent",children:"Ces \xe9v\xe8nements pourrait vous int\xe9resser !"})})]})})}var Xp=fe((function e(t,n){ce(this,e),this.model={event:t.event},this.setters={event:n.setEvent}})),Yp=function(e){de(n,e);var t=ke(n);function n(e,r){var i;return ce(this,n),(i=t.call(this,Xp,e,r)).fetch=new Op,i}return fe(n,[{key:"loadEventView",value:function(){var e=ue(we().mark((function e(t){var n=this;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch.getSingleDocument({collectionPath:"Events",documentId:t}).then((function(e){return n.updateModel({event:e})}));case 2:return e.abrupt("return",!1);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Te);function Jp(){var e=o((0,t.useState)(!0),2),n=e[0],r=e[1],i=N(),a=(T(),o((0,t.useState)(),2)),s=a[0],u=a[1],c=new Yp({event:s},{setEvent:u});return(0,t.useEffect)((function(){var e=!0;if(e)try{c.loadEventView(i.id).then((function(e){return r(e)}))}catch(t){console.log(t)}return function(){e=!1}}),[i.id]),n?(0,X.jsx)(Y,{}):(0,X.jsx)($p,{presenter:c,viewModel:c.model})}function Zp(e){var t=e.icon;return(0,X.jsx)("span",{className:"clr--primary material-icons-outlined",children:t})}function ev(e){e.presenter;var n=e.viewModel;document.title="".concat(n.salonData.title);var r=o((0,t.useState)(!0),2),i=r[0],a=r[1];function s(e){var t;a("events-tab-btn"===e.target.id),t=setTimeout((function(){Vp("#main-content").scrollTop=Vp("#tab-links-search").offsetTop,clearTimeout(t)}),50)}return(0,X.jsx)(X.Fragment,{children:(0,X.jsxs)("div",{id:"salon-wrapper",children:[(0,X.jsx)("div",{className:"header-container",children:(0,X.jsxs)("div",{className:"salon-header ",children:[(0,X.jsxs)("div",{className:"bubble-body",children:[(0,X.jsx)("img",{src:n.salonData.img,alt:n.salonData.id}),(0,X.jsx)("h3",{className:"bubble-title clr--white",children:n.salonData.title})]}),(0,X.jsx)($,{className:"salon-chat-link bg--primary",to:"/chats/official/".concat(n.salonData.officialChatId),children:"Acc\xe9der au chat du salon"}),(0,X.jsx)("h2",{className:"clr--white outlined",children:"Sed placerat condimentum laoreet. Etiam et erat id nunc gravida lacinia non consectetur dolor. Aliquam vulputate tortor sagittis lorem varius, ut volutpat eros tristique. Phasellus a tortor ut leo vehicula faucibus in vel tellus. Cras viverra gravida dui, vel blandit metus dictum sit amet."})]})}),(0,X.jsxs)("div",{className:"salon-content",children:[(0,X.jsx)("h1",{className:"clr--accent",children:"Les chats les plus populaires !"}),(0,X.jsx)("div",{className:"popular-chats-view",children:n.salonChats&&n.salonChats.slice(0,4).map((function(e){return(0,X.jsx)(re,{props:e},e.id)}))}),(0,X.jsxs)("div",{className:"all-chats-events",children:[(0,X.jsxs)("div",{id:"tab-links-search",children:[(0,X.jsxs)("div",{className:"chats-events-tab tab-".concat(i?"events":"chats"),children:[(0,X.jsx)("button",{id:"events-tab-btn",className:"tablinks clr--accent ".concat(i?"active":""),onClick:function(e){return s(e)},children:"\xc9v\xe8nements"}),(0,X.jsx)("button",{id:"chats-tab-btn",className:"tablinks clr--accent ".concat(i?"":"active"),onClick:function(e){return s(e)},children:"Chats"})]}),(0,X.jsx)("div",{className:"tab-search-wrapper",children:(0,X.jsxs)("div",{className:"tab-search-container",children:[(0,X.jsx)("input",{type:"text",id:"tab-search",name:"tab-search",placeholder:"Rechercher un ".concat(i?"\xe9v\xe8nement":"chat")}),(0,X.jsx)("button",{className:"tab-search-btn",onClick:function(){document.querySelector("#tab-search").classList.toggle("active")},children:(0,X.jsx)(Zp,{icon:"search"})})]})})]}),(0,X.jsx)("div",{className:"tab-content-wrapper",children:i?(0,X.jsxs)("div",{className:"all-salon-events tab-content",children:[(0,X.jsx)("div",{style:{width:"200px",aspectRatio:"1",backgroundColor:"white",borderRadius:"100%"}}),(0,X.jsx)("div",{style:{width:"200px",aspectRatio:"1",backgroundColor:"white",borderRadius:"100%"}}),(0,X.jsx)("div",{style:{width:"200px",aspectRatio:"1",backgroundColor:"white",borderRadius:"100%"}}),(0,X.jsx)("div",{style:{width:"200px",aspectRatio:"1",backgroundColor:"white",borderRadius:"100%"}}),(0,X.jsx)("div",{style:{width:"200px",aspectRatio:"1",backgroundColor:"white",borderRadius:"100%"}}),(0,X.jsx)("div",{style:{width:"200px",aspectRatio:"1",backgroundColor:"white",borderRadius:"100%"}}),(0,X.jsx)("div",{style:{width:"200px",aspectRatio:"1",backgroundColor:"white",borderRadius:"100%"}}),(0,X.jsx)("div",{style:{width:"200px",aspectRatio:"1",backgroundColor:"white",borderRadius:"100%"}}),(0,X.jsx)("div",{style:{width:"200px",aspectRatio:"1",backgroundColor:"white",borderRadius:"100%"}})]}):(0,X.jsx)("div",{className:"all-salon-chats tab-content"})})]})]})]})})}var tv=fe((function e(t,n){ce(this,e),this.model={salonData:t.salonData,salonEvents:t.salonEvents,salonChats:t.salonChats},this.setters={salonData:n.setSalonData,salonEvents:n.setSalonEvents,salonChats:n.setSalonChats}})),nv=function(e){de(n,e);var t=ke(n);function n(e,r){var i;return ce(this,n),(i=t.call(this,tv,e,r)).fetch=new Op,i}return fe(n,[{key:"loadSalonView",value:function(){var e=ue(we().mark((function e(t){var n=this;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch.getSingleDocument({collectionPath:"Salons",documentId:t}).then((function(e){return n.updateModel({salonData:e})}));case 2:return e.abrupt("return",!1);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Te);function rv(){var e=o((0,t.useState)(!0),2),n=e[0],r=e[1],i=N(),a=o((0,t.useState)(),2),s=a[0],u=a[1],c=o((0,t.useState)([]),2),l=c[0],f=c[1],h=o((0,t.useState)([]),2),d=h[0],p=h[1],v=new nv({salonData:s,salonEvents:l,salonChats:d},{setSalonData:u,setSalonEvents:f,setSalonChats:p});return(0,t.useEffect)((function(){var e=!0;if(e)try{v.loadSalonView(i.ref).then((function(e){r(e),function(){var e=Vp("#main-content"),t=document.querySelector("#tab-links-search"),n=t.offsetTop;e.onscroll=function(){e.scrollTop>=n-64?t.classList.add("sticky"):t.classList.remove("sticky")}}()}))}catch(t){}return function(){e=!1}}),[i.ref]),n?(0,X.jsx)(Y,{}):(0,X.jsx)(ev,{presenter:v,viewModel:v.model})}function iv(e){e.presenter;var n=e.viewModel;document.title="Tous les salons";var r=o((0,t.useState)(""),2),i=r[0],a=r[1];return(0,X.jsxs)("div",{className:"salons-wrapper",children:[(0,X.jsx)("div",{className:"title-zone",children:(0,X.jsx)("h1",{children:"Tous les salons"})}),(0,X.jsx)("div",{id:"search-zone",children:(0,X.jsx)("div",{id:"search-box",children:(0,X.jsx)("input",{type:"text",placeholder:"Rechercher un salon",onChange:function(e){return a(e.target.value)}})})}),(0,X.jsx)("div",{className:"salons-group-wrapper",children:n.salons.filter((function(e){return e.title.toLowerCase().includes(i.toLowerCase())})).map((function(e){return(0,X.jsx)(re,{props:e},e.id)}))})]})}var av=fe((function e(t,n){ce(this,e),this.model={salons:t.salons},this.setters={salons:n.setSalons}})),ov=function(e){de(n,e);var t=ke(n);function n(e,r){var i;return ce(this,n),(i=t.call(this,av,e,r)).fetch=new Op,i}return fe(n,[{key:"loadSalonsView",value:function(){var e=ue(we().mark((function e(){var t;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch.getDocsFromCollection({collectionPath:"Salons",orderBy:"popularity",orderDirection:"desc"});case 2:return t=e.sent,this.updateModel({salons:t}),e.abrupt("return",!1);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Te);function sv(){var e=o((0,t.useState)(!0),2),n=e[0],r=e[1],i=o((0,t.useState)([]),2),a=i[0],s=i[1],u=new ov({salons:a},{setSalons:s});return(0,t.useEffect)((function(){document.title="Tous les salons";var e=!0;if(e)try{u.loadSalonsView().then((function(e){return r(e)}))}catch(t){console.log(t)}return function(){e=!1}}),[]),n?(0,X.jsx)(Y,{}):(0,X.jsx)(iv,{presenter:u,viewModel:u.model})}function uv(e){e.presenter;var n=e.viewModel;document.title="Tous les salons";var r=o((0,t.useState)(""),2),i=r[0],a=r[1];return(0,X.jsxs)("div",{className:"chats-wrapper",children:[(0,X.jsx)("div",{className:"title-zone",children:(0,X.jsx)("h1",{children:"Tous les chats"})}),(0,X.jsx)("div",{id:"search-zone",children:(0,X.jsx)("div",{id:"search-box",children:(0,X.jsx)("input",{type:"text",placeholder:"Rechercher un chat",onChange:function(e){return a(e.target.value)}})})}),(0,X.jsx)("h1",{className:"group-title",children:"Les chats officiels"}),(0,X.jsx)("div",{className:"official-chats-group-wrapper",children:n.officialChats&&n.officialChats.filter((function(e){return e.title.toLowerCase().includes(i.toLowerCase())})).map((function(e){return(0,X.jsx)($,{to:"/chats/".concat(e.type,"/").concat(e.id),children:(0,X.jsxs)("div",{className:"chat-bubble-wrapper",children:[(0,X.jsx)("img",{src:e.img}),(0,X.jsx)("h2",{children:e.title})]},e.id)},e.id)}))}),(0,X.jsx)("h1",{className:"group-title",children:"Les chats de la communaut\xe9"}),(0,X.jsx)("div",{className:"official-chats-group-wrapper",children:n.communityChats&&n.communityChats.filter((function(e){return e.title.toLowerCase().includes(i.toLowerCase())})).map((function(e){return(0,X.jsx)($,{to:"/chats/".concat(e.type,"/").concat(e.id),children:(0,X.jsxs)("div",{className:"chat-bubble-wrapper",children:[(0,X.jsx)("img",{src:e.img}),(0,X.jsx)("h2",{children:e.title})]},e.id)},e.id)}))})]})}var cv=fe((function e(t,n){ce(this,e),this.model={officialChats:t.officialChats,communityChats:t.communityChats,privateChats:t.privateChats},this.setters={officialChats:n.setOfficialChats,communityChats:n.setCommunityChats,privateChats:n.setPrivateChats}})),lv=function(){function e(t,n){ce(this,e),this.fetch=new Op,this.collectionPath=t,this.updatedMessages=[],this.update=n}return fe(e,[{key:"snapshotHandler",value:function(e){var t=e.docs.map((function(e){return ee({id:e.id},e.data())})).filter((function(e){return"creation"!==e.id})),n=t!==this.updatedMessages,r=t.at(-1);n&&null!==r&&void 0!==r&&r.timestamp&&(this.updatedMessages=t,this.update({messages:this.updatedMessages}),Vp("#to-last-message")&&"none"===window.getComputedStyle(Vp("#to-last-message")).display&&Qp())}},{key:"configureAndUnsubscribe",value:function(){return this.fetch.setSnapshotListener({collectionPath:this.collectionPath,orderBy:"timestamp",orderDirection:"asc"},this.snapshotHandler.bind(this))}},{key:"createOfficialGroupChat",value:function(){var e=ue(we().mark((function e(t,n){var r,i,a;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="salon"===t?"Salons":"Events",i={type:"official",subjectType:t,subjectId:n,members:[],lastMessage:""},e.next=4,this.fetch.createDoc("OfficialChats",i);case 4:return a=e.sent,e.next=7,this.fetch.createDocWithID([].concat(Ce(a.path.split("/")),["messages"]),"creation",{created:this.fetch.currentTimestamp()});case 7:return e.next=9,this.fetch.addField([r,n],"officialChatId",a.id);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createGroupChatFromUser",value:function(){var e=ue(we().mark((function e(t,n,r,i){var a,o,s,u;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={creatorName:t.nickname,creatorId:t.id,creationTime:this.fetch.currentTimestamp(),type:n,subjectType:r,subjectId:i,members:[t.id],lastMessage:""},e.next=3,this.fetch.createDoc(Gp(n),a);case 3:return o=e.sent,s="salon"===r?"Salons":"Events",u="".concat(n,"ChatsLinked"),e.next=8,this.fetch.appendToField([s,i],u,o);case 8:return e.next=10,this.fetch.appendToField(["Users",t.id],"chatsCreated",{type:n,groupId:o});case 10:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"getGroupChat",value:function(){var e=ue(we().mark((function e(t){var n,r,i,a,o,s=arguments;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:100,r=Kp(t),i=r.at(-1),a=Wp(r),e.next=6,this.fetch.getDocsFromCollection({collectionPath:[Gp(a),i,"messages"],orderBy:"timestamp",orderDirection:"asc",limit:n});case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getGroupChatDetails",value:function(){var e=ue(we().mark((function e(t){var n,r,i,a;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Kp(t),r=n.at(-1),i=Wp(n),e.next=5,this.fetch.getSingleDocument({collectionPath:Gp(i),documentId:r});case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendMessage",value:function(){var e=ue(we().mark((function e(t,n,r,i){var a,o,s,u=arguments;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=u.length>4&&void 0!==u[4]?u[4]:[],o=[Gp(t),n],s={groupChatId:n,authorId:i.id,author:i.nickname,authorPhoto:i.photoUrl,messageContent:r,media:a,timestamp:this.fetch.currentTimestamp()},!i){e.next=13;break}return e.prev=4,e.next=7,this.fetch.createDoc([].concat(o,["messages"]),s);case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(4),console.log("Sending error"),console.log(e.t0);case 13:return e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,this,[[4,9]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()}]),e}(),fv=function(e){de(n,e);var t=ke(n);function n(e,r){var i;return ce(this,n),(i=t.call(this,cv,e,r)).fetch=new Op,i}return fe(n,[{key:"loadChatsView",value:function(){var e=ue(we().mark((function e(){var t,n,r;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch.getDocsFromCollection({collectionPath:"OfficialChats"});case 2:return t=e.sent,e.next=5,this.fetch.getDocsFromCollection({collectionPath:"CommunityChats"});case 5:return n=e.sent,e.next=8,this.fetch.getDocsFromCollection({collectionPath:"PrivateChats"});case 8:return r=e.sent,this.updateModel({officialChats:t.filter((function(e){return!e.hasOwnProperty("dummy")})),communityChats:n.filter((function(e){return!e.hasOwnProperty("dummy")})),privateChats:r.filter((function(e){return!e.hasOwnProperty("dummy")}))}),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Te);function hv(){var e=o((0,t.useState)(!0),2),n=e[0],r=e[1],i=o((0,t.useState)([]),2),a=i[0],s=i[1],u=o((0,t.useState)([]),2),c=u[0],l=u[1],f=o((0,t.useState)([]),2),h=f[0],d=f[1],p=new fv({officialChats:a,communityChats:c,privateChats:h},{setOfficialChats:s,setCommunityChats:l,setPrivateChats:d});return(0,t.useEffect)((function(){var e=!0;return e&&p.loadChatsView().then((function(e){return r(e)})),function(){e=!1}}),[]),n?(0,X.jsx)(Y,{}):(0,X.jsx)(uv,{presenter:p,viewModel:p.model})}n.p;function dv(e){var n=e.authenticator,r=o((0,t.useState)(!0),2),i=r[0],a=r[1],s=o((0,t.useState)(""),2),u=s[0],c=s[1],l=o((0,t.useState)(""),2),f=l[0],h=l[1],d=o((0,t.useState)(""),2),p=d[0],v=d[1];return(0,X.jsx)("div",{id:"auth-modal-wrapper",children:(0,X.jsxs)("div",{id:"modal-body",className:"bg--primary",children:[(0,X.jsx)("button",{onClick:Bp,id:"close-modal-btn",children:"\u2a09"}),(0,X.jsx)("header",{id:"modal-header",children:i?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)("h1",{id:"auth-tab-title",children:"Connexion"}),(0,X.jsx)("p",{id:"change-auth-tab",onClick:function(){return a(!1)},children:"Je n'ai pas de compte"})]}):(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)("h1",{id:"auth-tab-title",children:"Inscription"}),(0,X.jsx)("p",{id:"change-auth-tab",onClick:function(){return a(!0)},children:"J'ai d\xe9j\xe0 un compte"})]})}),(0,X.jsx)("div",{id:"modal-content",children:(0,X.jsxs)("form",{onSubmit:function(e){return function(e,t){e.preventDefault(),t?n.emailSignIn(f,p):n.createAccount(u,f,p)}(e,i)},children:[!i&&(0,X.jsxs)("div",{className:"input-field",children:[(0,X.jsx)("label",{htmlFor:"pseudo-input",children:"Nom d'utilisateur"}),(0,X.jsx)("input",{type:"text",id:"pseudo-input",name:"pseudo-input",placeholder:"Veuillez rentrez votre nom d'utilisateur",onChange:function(e){return c(e.target.value)},value:u,required:!0})]}),(0,X.jsxs)("div",{className:"input-field",children:[(0,X.jsx)("label",{htmlFor:"email-input",children:"Adresse mail"}),(0,X.jsx)("input",{type:"email",id:"email-input",name:"email-input",placeholder:"Veuillez renseigner votre adresse mail",onChange:function(e){return h(e.target.value)},value:f,required:!0})]}),(0,X.jsxs)("div",{className:"input-field",children:[(0,X.jsx)("label",{htmlFor:"password-input",children:"Mot de passe"}),(0,X.jsx)("input",{type:"password",id:"password-input",name:"password-input",placeholder:"Veuillez rentrez un mot de passe",onChange:function(e){return v(e.target.value)},value:p,required:!0})]}),(0,X.jsxs)("div",{className:"process-btn",children:[(0,X.jsx)("button",{type:"submit",id:"submit-btn",children:i?"Se connecter":"S'inscrire"}),(0,X.jsxs)("svg",{onClick:function(){return n.googleSignIn()},width:"24px",height:"24px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,X.jsx)("path",{fill:"#EA4335 ",d:"M5.26620003,9.76452941 C6.19878754,6.93863203 8.85444915,4.90909091 12,4.90909091 C13.6909091,4.90909091 15.2181818,5.50909091 16.4181818,6.49090909 L19.9090909,3 C17.7818182,1.14545455 15.0545455,0 12,0 C7.27006974,0 3.1977497,2.69829785 1.23999023,6.65002441 L5.26620003,9.76452941 Z"}),(0,X.jsx)("path",{fill:"#34A853",d:"M16.0407269,18.0125889 C14.9509167,18.7163016 13.5660892,19.0909091 12,19.0909091 C8.86648613,19.0909091 6.21911939,17.076871 5.27698177,14.2678769 L1.23746264,17.3349879 C3.19279051,21.2936293 7.26500293,24 12,24 C14.9328362,24 17.7353462,22.9573905 19.834192,20.9995801 L16.0407269,18.0125889 Z"}),(0,X.jsx)("path",{fill:"#4A90E2",d:"M19.834192,20.9995801 C22.0291676,18.9520994 23.4545455,15.903663 23.4545455,12 C23.4545455,11.2909091 23.3454545,10.5272727 23.1818182,9.81818182 L12,9.81818182 L12,14.4545455 L18.4363636,14.4545455 C18.1187732,16.013626 17.2662994,17.2212117 16.0407269,18.0125889 L19.834192,20.9995801 Z"}),(0,X.jsx)("path",{fill:"#FBBC05",d:"M5.27698177,14.2678769 C5.03832634,13.556323 4.90909091,12.7937589 4.90909091,12 C4.90909091,11.2182781 5.03443647,10.4668121 5.26620003,9.76452941 L1.23999023,6.65002441 C0.43658717,8.26043162 0,10.0753848 0,12 C0,13.9195484 0.444780743,15.7301709 1.23746264,17.3349879 L5.27698177,14.2678769 Z"})]})]})]})})]})})}function pv(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var vv;Object.create;function mv(){return J({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var yv=mv,gv=new Ke("auth","Firebase",mv()),kv=new bt("@firebase/auth");function bv(e){if(kv.logLevel<=ft.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];kv.error.apply(kv,["Auth (".concat(Lt,"): ").concat(e)].concat(n))}}function wv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw _v.apply(void 0,[e].concat(n))}function xv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return _v.apply(void 0,[e].concat(n))}function Ev(e,t,n){var r=Object.assign(Object.assign({},yv()),J({},t,n));return new Ke("auth","Firebase",r).create(t,{appName:e.name})}function Sv(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&wv(e,"argument-error"),Ev(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function _v(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Ce(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Ce(o)))}return gv.create.apply(gv,[e].concat(n))}function Tv(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw _v.apply(void 0,[t].concat(r))}}function Iv(e){var t="INTERNAL ASSERTION FAILED: "+e;throw bv(t),new Error(t)}function Cv(e,t){e||Iv(t)}var Nv=new Map;function Av(e){Cv(e instanceof Function,"Expected a class definition");var t=Nv.get(e);return t?(Cv(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Nv.set(e,t),t)}function Rv(e,t){var n=Rt(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Qe(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;wv(r,"already-initialized")}return n.initialize({options:t})}function Dv(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ov(){return"http:"===Pv()||"https:"===Pv()}function Pv(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Lv=function(){function e(t,n){ce(this,e),this.shortDelay=t,this.longDelay=n,Cv(n>t,"Short delay should be less than long delay!"),this.isMobile=Ve()||ze()}return fe(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ov()||Be()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Mv(e,t){Cv(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var jv=function(){function e(){ce(this,e)}return fe(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Iv("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Iv("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Iv("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Uv=(J(vv={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),J(vv,"MISSING_CUSTOM_TOKEN","internal-error"),J(vv,"INVALID_IDENTIFIER","invalid-email"),J(vv,"MISSING_CONTINUE_URI","internal-error"),J(vv,"INVALID_PASSWORD","wrong-password"),J(vv,"MISSING_PASSWORD","internal-error"),J(vv,"EMAIL_EXISTS","email-already-in-use"),J(vv,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),J(vv,"INVALID_IDP_RESPONSE","invalid-credential"),J(vv,"INVALID_PENDING_TOKEN","invalid-credential"),J(vv,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),J(vv,"MISSING_REQ_TYPE","internal-error"),J(vv,"EMAIL_NOT_FOUND","user-not-found"),J(vv,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),J(vv,"EXPIRED_OOB_CODE","expired-action-code"),J(vv,"INVALID_OOB_CODE","invalid-action-code"),J(vv,"MISSING_OOB_CODE","internal-error"),J(vv,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),J(vv,"INVALID_ID_TOKEN","invalid-user-token"),J(vv,"TOKEN_EXPIRED","user-token-expired"),J(vv,"USER_NOT_FOUND","user-token-expired"),J(vv,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),J(vv,"INVALID_CODE","invalid-verification-code"),J(vv,"INVALID_SESSION_INFO","invalid-verification-id"),J(vv,"INVALID_TEMPORARY_PROOF","invalid-credential"),J(vv,"MISSING_SESSION_INFO","missing-verification-id"),J(vv,"SESSION_EXPIRED","code-expired"),J(vv,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),J(vv,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),J(vv,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),J(vv,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),J(vv,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),J(vv,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),J(vv,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),J(vv,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),J(vv,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),J(vv,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),J(vv,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),vv),Fv=new Lv(3e4,6e4);function Vv(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Bv(e,t,n,r){return zv.apply(this,arguments)}function zv(){return zv=ue(we().mark((function e(t,n,r,i){var a,o=arguments;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",qv(t,a,ue(we().mark((function e(){var a,o,s,u;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Xe(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",jv.fetch()(Gv(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),zv.apply(this,arguments)}function qv(e,t,n){return Hv.apply(this,arguments)}function Hv(){return(Hv=ue(we().mark((function e(t,n,r){var i,a,s,u,c,l,f,h,d,p;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Uv),n),e.prev=2,a=new Qv(t),e.next=6,Promise.race([r(),a.promise]);case 6:return s=e.sent,a.clearNetworkTimeout(),e.next=10,s.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw $v(t,"account-exists-with-different-credential",u);case 13:if(!s.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=s.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=o(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw $v(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw $v(t,"email-already-in-use",u);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw Ev(t,p,d);case 30:wv(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof He)){e.next=37;break}throw e.t0;case 37:wv(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function Kv(e,t,n,r){return Wv.apply(this,arguments)}function Wv(){return Wv=ue(we().mark((function e(t,n,r,i){var a,o,s=arguments;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Bv(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&wv(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Wv.apply(this,arguments)}function Gv(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Mv(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Qv=function(){function e(t){var n=this;ce(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(xv(n.auth,"network-request-failed"))}),Fv.get())}))}return fe(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function $v(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=xv(e,t,r);return i.customData._tokenResponse=n,i}function Xv(e,t){return Yv.apply(this,arguments)}function Yv(){return(Yv=ue(we().mark((function e(t,n){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bv(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jv(e,t){return Zv.apply(this,arguments)}function Zv(){return(Zv=ue(we().mark((function e(t,n){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bv(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function em(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function tm(){return tm=ue(we().mark((function e(t){var n,r,i,a,o,s,u=arguments;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=tt(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Tv((a=rm(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:em(nm(a.auth_time)),issuedAtTime:em(nm(a.iat)),expirationTime:em(nm(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),tm.apply(this,arguments)}function nm(e){return 1e3*Number(e)}function rm(e){var t=o(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return bv("JWT malformed, contained fewer than 3 sections"),null;try{var a=je(r);return a?JSON.parse(a):(bv("Failed to decode base64 JWT payload"),null)}catch(s){return bv("Caught error parsing JWT payload as JSON",s),null}}function im(e,t){return am.apply(this,arguments)}function am(){return am=ue(we().mark((function e(t,n){var r=arguments;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof He&&om(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),am.apply(this,arguments)}function om(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var sm=function(){function e(t){ce(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return fe(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ue(we().mark((function t(){return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ue(we().mark((function e(){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),um=function(){function e(t,n){ce(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return fe(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=em(this.lastLoginAt),this.creationTime=em(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function cm(e){return lm.apply(this,arguments)}function lm(){return lm=ue(we().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,im(t,Jv(r,{idToken:i}));case 6:Tv(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?dm(o.providerUserInfo):[],u=hm(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new um(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),lm.apply(this,arguments)}function fm(){return(fm=ue(we().mark((function e(t){var n;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=tt(t),e.next=3,cm(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hm(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Ce(n),Ce(t))}function dm(e){return e.map((function(e){var t=e.providerId,n=pv(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function pm(e,t){return vm.apply(this,arguments)}function vm(){return(vm=ue(we().mark((function e(t,n){var r;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qv(t,{},ue(we().mark((function e(){var r,i,a,o,s,u;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xe({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Gv(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",jv.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mm=function(){function e(){ce(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return fe(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Tv(e.idToken,"internal-error"),Tv("undefined"!==typeof e.idToken,"internal-error"),Tv("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=rm(e);return Tv(t,"internal-error"),Tv("undefined"!==typeof t.exp,"internal-error"),Tv("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ue(we().mark((function e(t){var n,r=arguments;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Tv(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ue(we().mark((function e(t,n){var r,i,a,o;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pm(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Iv("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Tv("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Tv("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Tv("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function ym(e,t){Tv("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var gm=function(){function e(t){ce(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=pv(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Ce(a.providerData):[],this.metadata=new um(a.createdAt||void 0,a.lastLoginAt||void 0)}return fe(e,[{key:"getIdToken",value:function(){var e=ue(we().mark((function e(t){var n;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,im(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Tv(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return tm.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return fm.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Tv(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Tv(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ue(we().mark((function e(t){var n,r,i=arguments;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,cm(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ue(we().mark((function e(){var t;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,im(this,Xv(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;Tv(k&&E,t,"internal-error");var S=mm.fromJSON(this.name,E);Tv("string"===typeof k,t,"internal-error"),ym(f,t.name),ym(h,t.name),Tv("boolean"===typeof b,t,"internal-error"),Tv("boolean"===typeof w,t,"internal-error"),ym(d,t.name),ym(p,t.name),ym(v,t.name),ym(m,t.name),ym(y,t.name),ym(g,t.name);var _=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(_.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(_._redirectEventId=m),_}},{key:"_fromIdTokenResponse",value:function(){var t=ue(we().mark((function t(n,r){var i,a,o,s=arguments;return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new mm).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,cm(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),km=function(){function e(){ce(this,e),this.type="NONE",this.storage={}}return fe(e,[{key:"_isAvailable",value:function(){var e=ue(we().mark((function e(){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ue(we().mark((function e(t,n){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ue(we().mark((function e(t){var n;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ue(we().mark((function e(t){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();km.type="NONE";var bm=km;function wm(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var xm=function(){function e(t,n,r){ce(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=wm(this.userKey,a.apiKey,o),this.fullPersistenceKey=wm("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return fe(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ue(we().mark((function e(){var t;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?gm._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ue(we().mark((function e(t){var n;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ue(we().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Av(bm),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ue(we().mark((function e(t){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Av(bm),s=wm(i,n.config.apiKey,n.name),u=null,c=De(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=gm._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ue(we().mark((function e(t){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Em(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Im(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Sm(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Nm(t))return"Blackberry";if(Am(t))return"Webos";if(_m(t))return"Safari";if((t.includes("chrome/")||Tm(t))&&!t.includes("edge/"))return"Chrome";if(Cm(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Sm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe();return/firefox\//i.test(e)}function _m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Tm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe();return/crios\//i.test(e)}function Im(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe();return/iemobile/i.test(e)}function Cm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe();return/android/i.test(e)}function Nm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe();return/blackberry/i.test(e)}function Am(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe();return/webos/i.test(e)}function Rm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe();return/iphone|ipad|ipod/i.test(e)}function Dm(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe();return Rm(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Om(){return qe()&&10===document.documentMode}function Pm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe();return Rm(e)||Cm(e)||Am(e)||Nm(e)||/windows phone/i.test(e)||Im(e)}function Lm(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Em(Fe());break;case"Worker":t="".concat(Em(Fe()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Lt,"/").concat(r)}var Mm=function(){function e(t,n,r){ce(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Um(this),this.idTokenSubscription=new Um(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gv,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return fe(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Av(t)),this._initializationPromise=this.queue(ue(we().mark((function r(){var i,a;return we().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,xm.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ue(we().mark((function e(){var t;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ue(we().mark((function e(t){var n,r,i,a,o;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Tv(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ue(we().mark((function e(t){var n;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ue(we().mark((function e(t){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cm(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ue(we().mark((function e(){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ue(we().mark((function e(t){var n;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?tt(t):null)&&Tv(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ue(we().mark((function e(t){var n=this;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Tv(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(ue(we().mark((function e(){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ue(we().mark((function e(){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ue(we().mark((function n(){return we().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Av(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ke("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ue(we().mark((function e(t,n){var r;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ue(we().mark((function e(t){var n;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Tv(n=t&&Av(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,xm.create(this,[Av(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ue(we().mark((function e(t){var n,r;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ue(we().mark((function e(){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ue(we().mark((function e(t){var n=this;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ue(we().mark((function e(){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Tv(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ue(we().mark((function e(t){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Tv(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Lm(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ue(we().mark((function e(){var t,n,r;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=J({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function jm(e){return tt(e)}var Um=function(){function e(t){var n=this;ce(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new Ze(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return fe(e,[{key:"next",get:function(){return Tv(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var Fm=function(){function e(t,n){ce(this,e),this.providerId=t,this.signInMethod=n}return fe(e,[{key:"toJSON",value:function(){return Iv("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Iv("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Iv("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Iv("not implemented")}}]),e}();function Vm(e,t){return Bm.apply(this,arguments)}function Bm(){return(Bm=ue(we().mark((function e(t,n){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bv(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zm(e,t){return qm.apply(this,arguments)}function qm(){return(qm=ue(we().mark((function e(t,n){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kv(t,"POST","/v1/accounts:signInWithPassword",Vv(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hm(e,t){return Km.apply(this,arguments)}function Km(){return(Km=ue(we().mark((function e(t,n){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kv(t,"POST","/v1/accounts:signInWithEmailLink",Vv(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wm(e,t){return Gm.apply(this,arguments)}function Gm(){return(Gm=ue(we().mark((function e(t,n){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kv(t,"POST","/v1/accounts:signInWithEmailLink",Vv(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qm=function(e){de(n,e);var t=ke(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return ce(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return fe(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ue(we().mark((function e(t){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",zm(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Hm(t,{email:this._email,oobCode:this._password}));case 5:wv(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ue(we().mark((function e(t,n){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Vm(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Wm(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:wv(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Fm);function $m(e,t){return Xm.apply(this,arguments)}function Xm(){return(Xm=ue(we().mark((function e(t,n){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kv(t,"POST","/v1/accounts:signInWithIdp",Vv(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ym=function(e){de(n,e);var t=ke(n);function n(){var e;return ce(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return fe(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return $m(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,$m(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,$m(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Xe(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wv("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=pv(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Fm);function Jm(e,t){return Zm.apply(this,arguments)}function Zm(){return(Zm=ue(we().mark((function e(t,n){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bv(t,"POST","/v1/accounts:sendVerificationCode",Vv(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ey(){return(ey=ue(we().mark((function e(t,n){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kv(t,"POST","/v1/accounts:signInWithPhoneNumber",Vv(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ty(){return(ty=ue(we().mark((function e(t,n){var r;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kv(t,"POST","/v1/accounts:signInWithPhoneNumber",Vv(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw $v(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ny=J({},"USER_NOT_FOUND","user-not-found");function ry(){return(ry=ue(we().mark((function e(t,n){var r;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Kv(t,"POST","/v1/accounts:signInWithPhoneNumber",Vv(t,r),ny));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var iy=function(e){de(n,e);var t=ke(n);function n(e){var r;return ce(this,n),(r=t.call(this,"phone","phone")).params=e,r}return fe(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return ey.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ty.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ry.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Fm);var ay=function(){function e(t){var n,r,i,a,o,s;ce(this,e);var u=Ye(Je(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Tv(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return fe(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ye(Je(e)).link,n=t?Ye(Je(t)).deep_link_id:null,r=Ye(Je(e)).deep_link_id;return(r?Ye(Je(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Vh){return null}}}]),e}();var oy=function(){function e(){ce(this,e),this.providerId=e.PROVIDER_ID}return fe(e,null,[{key:"credential",value:function(e,t){return Qm._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ay.parseLink(t);return Tv(n,"argument-error"),Qm._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();oy.PROVIDER_ID="password",oy.EMAIL_PASSWORD_SIGN_IN_METHOD="password",oy.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var sy=function(){function e(t){ce(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return fe(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),uy=function(e){de(n,e);var t=ke(n);function n(){var e;return ce(this,n),(e=t.apply(this,arguments)).scopes=[],e}return fe(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Ce(this.scopes)}}]),n}(sy),cy=function(e){de(n,e);var t=ke(n);function n(){return ce(this,n),t.call(this,"facebook.com")}return fe(n,null,[{key:"credential",value:function(e){return Ym._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Vh){return null}}}]),n}(uy);cy.FACEBOOK_SIGN_IN_METHOD="facebook.com",cy.PROVIDER_ID="facebook.com";var ly=function(e){de(n,e);var t=ke(n);function n(){var e;return ce(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return fe(n,null,[{key:"credential",value:function(e,t){return Ym._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Vh){return null}}}]),n}(uy);ly.GOOGLE_SIGN_IN_METHOD="google.com",ly.PROVIDER_ID="google.com";var fy=function(e){de(n,e);var t=ke(n);function n(){return ce(this,n),t.call(this,"github.com")}return fe(n,null,[{key:"credential",value:function(e){return Ym._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Vh){return null}}}]),n}(uy);fy.GITHUB_SIGN_IN_METHOD="github.com",fy.PROVIDER_ID="github.com";var hy=function(e){de(n,e);var t=ke(n);function n(){return ce(this,n),t.call(this,"twitter.com")}return fe(n,null,[{key:"credential",value:function(e,t){return Ym._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Vh){return null}}}]),n}(uy);function dy(e,t){return py.apply(this,arguments)}function py(){return(py=ue(we().mark((function e(t,n){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kv(t,"POST","/v1/accounts:signUp",Vv(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}hy.TWITTER_SIGN_IN_METHOD="twitter.com",hy.PROVIDER_ID="twitter.com";var vy=function(){function e(t){ce(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return fe(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ue(we().mark((function t(n,r,i){var a,o,s,u,c=arguments;return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,gm._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=my(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ue(we().mark((function t(n,r,i){var a;return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=my(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function my(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var yy=function(e){de(n,e);var t=ke(n);function n(e,r,i,a){var o,s;return ce(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(ye(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return fe(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(He);function gy(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw yy._fromErrorAndOperation(e,n,t,r);throw n}))}function ky(e,t){return by.apply(this,arguments)}function by(){return by=ue(we().mark((function e(t,n){var r,i,a=arguments;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=im,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",vy._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),by.apply(this,arguments)}function wy(e,t){return xy.apply(this,arguments)}function xy(){return xy=ue(we().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,im(t,gy(i,a,n,t),r);case 6:return Tv((o=e.sent).idToken,i,"internal-error"),Tv(s=rm(o.idToken),i,"internal-error"),u=s.sub,Tv(t.uid===u,i,"user-mismatch"),e.abrupt("return",vy._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&wv(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),xy.apply(this,arguments)}function Ey(e,t){return Sy.apply(this,arguments)}function Sy(){return Sy=ue(we().mark((function e(t,n){var r,i,a,o,s=arguments;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,gy(t,i,n);case 4:return a=e.sent,e.next=7,vy._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Sy.apply(this,arguments)}function _y(e,t){return Ty.apply(this,arguments)}function Ty(){return(Ty=ue(we().mark((function e(t,n){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ey(jm(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Iy(e,t,n){return Cy.apply(this,arguments)}function Cy(){return(Cy=ue(we().mark((function e(t,n,r){var i,a,o;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jm(t),e.next=3,dy(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,vy._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ny(e,t,n){return _y(tt(e),oy.credential(t,n))}function Ay(e,t){return Bv(e,"POST","/v2/accounts/mfaEnrollment:start",Vv(e,t))}new WeakMap;var Ry="__sak",Dy=function(){function e(t,n){ce(this,e),this.storageRetriever=t,this.type=n}return fe(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Ry,"1"),this.storage.removeItem(Ry),Promise.resolve(!0)):Promise.resolve(!1)}catch(Vh){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Oy=function(e){de(n,e);var t=ke(n);function n(){var e;return ce(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Fe();return _m(e)||Rm(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Pm(),e._shouldAllowMigration=!0,e}return fe(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Om()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ue(we().mark((function e(t,r){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re(pe(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ue(we().mark((function e(t){var r;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re(pe(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ue(we().mark((function e(t){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re(pe(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Dy);Oy.type="LOCAL";var Py=Oy,Ly=function(e){de(n,e);var t=ke(n);function n(){return ce(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return fe(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Dy);Ly.type="SESSION";var My=Ly;function jy(e){return Promise.all(e.map(function(){var e=ue(we().mark((function e(t){var n;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Uy=function(){function e(t){ce(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return fe(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ue(we().mark((function e(t){var n,r,i,a,o,s,u,c;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=ue(we().mark((function e(t){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,jy(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Fy(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Uy.receivers=[];var Vy=function(){function e(t){ce(this,e),this.target=t,this.handlers=new Set}return fe(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ue(we().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Fy("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function By(){return window}function zy(){return"undefined"!==typeof By().WorkerGlobalScope&&"function"===typeof By().importScripts}function qy(){return Hy.apply(this,arguments)}function Hy(){return(Hy=ue(we().mark((function e(){var t;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Ky(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Wy="firebaseLocalStorageDb",Gy="firebaseLocalStorage",Qy="fbase_key",$y=function(){function e(t){ce(this,e),this.request=t}return fe(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Xy(e,t){return e.transaction([Gy],t?"readwrite":"readonly").objectStore(Gy)}function Yy(){var e=indexedDB.deleteDatabase(Wy);return new $y(e).toPromise()}function Jy(){var e=indexedDB.open(Wy,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Gy,{keyPath:Qy})}catch(r){n(r)}})),e.addEventListener("success",ue(we().mark((function n(){var r;return we().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Gy)){n.next=12;break}return r.close(),n.next=5,Yy();case 5:return n.t0=t,n.next=8,Jy();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Zy(e,t,n){return eg.apply(this,arguments)}function eg(){return eg=ue(we().mark((function e(t,n,r){var i,a;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Xy(t,!0).put((J(i={},Qy,n),J(i,"value",r),i)),e.abrupt("return",new $y(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),eg.apply(this,arguments)}function tg(e,t){return ng.apply(this,arguments)}function ng(){return ng=ue(we().mark((function e(t,n){var r,i;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xy(t,!1).get(n),e.next=3,new $y(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),ng.apply(this,arguments)}function rg(e,t){var n=Xy(e,!0).delete(t);return new $y(n).toPromise()}var ig=function(){function e(){ce(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return fe(e,[{key:"_openDb",value:function(){var e=ue(we().mark((function e(){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Jy();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ue(we().mark((function e(t){var n,r;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ue(we().mark((function e(){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zy()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ue(we().mark((function e(){var t=this;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Uy._getInstance(zy()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ue(we().mark((function e(n,r){var i;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ue(we().mark((function e(t,n){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ue(we().mark((function e(){var t,n,r;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qy();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Vy(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ue(we().mark((function e(t){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Ky()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ue(we().mark((function e(){var t;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Jy();case 5:return t=e.sent,e.next=8,Zy(t,Ry,"1");case 8:return e.next=10,rg(t,Ry);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ue(we().mark((function e(t){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ue(we().mark((function e(t,n){var r=this;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ue(we().mark((function e(){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Zy(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ue(we().mark((function e(t){var n;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return tg(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ue(we().mark((function e(t){var n=this;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ue(we().mark((function e(){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return rg(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ue(we().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Xy(e,!1).getAll();return new $y(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=De(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ue(we().mark((function t(){return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();ig.type="LOCAL";var ag=ig;function og(e,t){return Bv(e,"POST","/v2/accounts/mfaSignIn:start",Vv(e,t))}function sg(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=xv("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function ug(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}ug("rcb"),new Lv(3e4,6e4);var cg="recaptcha";function lg(e,t,n){return fg.apply(this,arguments)}function fg(){return fg=ue(we().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Tv("string"===typeof a,t,"argument-error"),Tv(r.type===cg,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Tv("enroll"===s.type,t,"internal-error"),e.next=13,Ay(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Tv("signin"===s.type,t,"internal-error"),Tv(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,og(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Jm(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),fg.apply(this,arguments)}var hg=function(){function e(t){ce(this,e),this.providerId=e.PROVIDER_ID,this.auth=jm(t)}return fe(e,[{key:"verifyPhoneNumber",value:function(e,t){return lg(this.auth,e,tt(t))}}],[{key:"credential",value:function(e,t){return iy._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?iy._fromTokenResponse(n,r):null}}]),e}();function dg(e,t){return t?Av(t):(Tv(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}hg.PROVIDER_ID="phone",hg.PHONE_SIGN_IN_METHOD="phone";var pg=function(e){de(n,e);var t=ke(n);function n(e){var r;return ce(this,n),(r=t.call(this,"custom","custom")).params=e,r}return fe(n,[{key:"_getIdTokenResponse",value:function(e){return $m(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return $m(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return $m(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Fm);function vg(e){return Ey(e.auth,new pg(e),e.bypassAuthState)}function mg(e){var t=e.auth,n=e.user;return Tv(n,t,"internal-error"),wy(n,new pg(e),e.bypassAuthState)}function yg(e){return gg.apply(this,arguments)}function gg(){return(gg=ue(we().mark((function e(t){var n,r;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Tv(r=t.user,n,"internal-error"),e.abrupt("return",ky(r,new pg(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var kg=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];ce(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return fe(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ue(we().mark((function t(n,r){return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ue(we().mark((function e(t){var n,r,i,a,o,s,u;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vg;case"linkViaPopup":case"linkViaRedirect":return yg;case"reauthViaPopup":case"reauthViaRedirect":return mg;default:wv(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Cv(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Cv(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),bg=new Lv(2e3,1e4);function wg(e,t,n){return xg.apply(this,arguments)}function xg(){return(xg=ue(we().mark((function e(t,n,r){var i,a,o;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jm(t),Sv(t,n,sy),a=dg(i,r),o=new Eg(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Eg=function(e){de(n,e);var t=ke(n);function n(e,r,i,a,o){var s;return ce(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=ye(s),s}return fe(n,[{key:"executeNotNull",value:function(){var e=ue(we().mark((function e(){var t;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Tv(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ue(we().mark((function e(){var t,n=this;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cv(1===this.filter.length,"Popup operations only handle one event"),t=Fy(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(xv(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(xv(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(xv(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,bg.get())}()}}]),n}(kg);Eg.currentPopupAction=null;var Sg=new Map,_g=function(e){de(n,e);var t=ke(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ce(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return fe(n,[{key:"execute",value:function(){var e=ue(we().mark((function e(){var t,r;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Sg.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Tg(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Re(pe(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Sg.set(this.auth._key(),t);case 21:return this.bypassAuthState||Sg.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ue(we().mark((function e(t){var r;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Re(pe(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Re(pe(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ue(we().mark((function e(){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(kg);function Tg(e,t){return Ig.apply(this,arguments)}function Ig(){return(Ig=ue(we().mark((function e(t,n){var r,i,a;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ng(n),i=Cg(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cg(e){return Av(e._redirectPersistence)}function Ng(e){return wm("pendingRedirect",e.config.apiKey,e.name)}function Ag(e,t){return Rg.apply(this,arguments)}function Rg(){return Rg=ue(we().mark((function e(t,n){var r,i,a,o,s,u=arguments;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=jm(t),a=dg(i,n),o=new _g(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Rg.apply(this,arguments)}var Dg=function(){function e(t){ce(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return fe(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pg(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Pg(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(xv(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Og(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Og(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Og(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Pg(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Lg(e){return Mg.apply(this,arguments)}function Mg(){return Mg=ue(we().mark((function e(t){var n,r=arguments;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Bv(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Mg.apply(this,arguments)}var jg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ug=/^https?/;function Fg(){return(Fg=ue(we().mark((function e(t){var n,r,i,a,o;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Lg(t);case 4:n=e.sent,r=n.authorizedDomains,i=De(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Vg(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:wv(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Vg(e){var t=Dv(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Ug.test(r))return!1;if(jg.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Bg=new Lv(3e4,6e4);function zg(){var e=By().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Ce(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var qg=null;function Hg(e){return qg=qg||function(e){return new Promise((function(t,n){var r,i,a;function o(){zg(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){zg(),n(xv(e,"network-request-failed"))},timeout:Bg.get()})}if(null===(i=null===(r=By().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=By().gapi)||void 0===a?void 0:a.load)){var s=ug("iframefcb");return By()[s]=function(){gapi.load?o():n(xv(e,"network-request-failed"))},sg("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw qg=null,e}))}(e),qg}var Kg=new Lv(5e3,15e3),Wg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qg(e){var t=e.config;Tv(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Mv(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Lt},i=Gg.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Xe(r).slice(1))}function $g(e){return Xg.apply(this,arguments)}function Xg(){return Xg=ue(we().mark((function e(t){var n,r;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hg(t);case 2:return n=e.sent,Tv(r=By().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Qg(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wg,dontclear:!0},(function(e){return new Promise(function(){var n=ue(we().mark((function n(r,i){var a,o,s;return we().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){By().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=xv(t,"network-request-failed"),o=By().setTimeout((function(){i(a)}),Kg.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Xg.apply(this,arguments)}var Yg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Jg="_blank",Zg="http://localhost",ek=function(){function e(t){ce(this,e),this.window=t,this.associatedEvent=null}return fe(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function tk(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},Yg),{width:r.toString(),height:i.toString(),top:a,left:s}),l=Fe().toLowerCase();n&&(u=Tm(l)?Jg:n),Sm(l)&&(t=t||Zg,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=o(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Dm(l)&&"_self"!==u)return nk(t||"",u),new ek(null);var h=window.open(t||"",u,f);Tv(h,e,"popup-blocked");try{h.focus()}catch(d){}return new ek(h)}function nk(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var rk="__/auth/handler",ik="emulator/auth/handler";function ak(e,t,n,r,i,a){Tv(e.config.authDomain,e,"auth-domain-config-required"),Tv(e.config.apiKey,e,"invalid-api-key");var s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Lt,eventId:i};if(t instanceof sy){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,c=Object.entries(a||{});u<c.length;u++){var l=o(c[u],2),f=l[0],h=l[1];s[f]=h}}if(t instanceof uy){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(s.scopes=d.join(","))}e.tenantId&&(s.tid=e.tenantId);for(var p=s,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(rk);return Mv(t,ik)}(e),"?").concat(Xe(p).slice(1))}var ok="webStorageSupport",sk=function(){function e(){ce(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=My,this._completeRedirectFn=Ag}return fe(e,[{key:"_openPopup",value:function(){var e=ue(we().mark((function e(t,n,r,i){var a,o;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cv(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=ak(t,n,r,Dv(),i),e.abrupt("return",tk(t,o,Fy()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ue(we().mark((function e(t,n,r,i){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=ak(t,n,r,Dv(),i),By().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Cv(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ue(we().mark((function e(t){var n,r;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$g(t);case 2:return n=e.sent,r=new Dg(t),n.register("authEvent",(function(e){return Tv(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(ok,{type:ok},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),wv(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Fg.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Pm()||_m()||Rm()}}]),e}(),uk=sk,ck=function(e){de(n,e);var t=ke(n);function n(e){var r;return ce(this,n),(r=t.call(this,"phone")).credential=e,r}return fe(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Bv(e,"POST","/v2/accounts/mfaEnrollment:finalize",Vv(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Bv(e,"POST","/v2/accounts/mfaSignIn:finalize",Vv(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){ce(this,e),this.factorId=t}return fe(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Iv("unexpected MultiFactorSessionType")}}}]),e}());(function(){function e(){ce(this,e)}return fe(e,null,[{key:"assertion",value:function(e){return ck._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var lk,fk="@firebase/auth",hk="0.19.12",dk=function(){function e(t){ce(this,e),this.auth=t,this.internalListeners=new Map}return fe(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ue(we().mark((function e(t){var n;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Tv(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();lk="Browser",At(new st("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){Tv(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Tv(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:lk,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lm(lk)},i=new Mm(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Av);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),At(new st("auth-internal",(function(e){return function(e){return new dk(e)}(jm(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),jt(fk,hk,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(lk)),jt(fk,hk,"esm2017");var pk=function(){function e(t){var n,r,i,a,o=this;ce(this,e),this.auth=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt(),t=Rt(e,"auth");return t.isInitialized()?t.getImmediate():Rv(e,{popupRedirectResolver:uk,persistence:[ag,Py,My]})}(Dp),this.fetch=new Op,this.setUser=t,this.setUser(this.auth.currentUser),this.auth.useDeviceLanguage(),n=this.auth,r=function(){var e=ue(we().mark((function e(t){var n;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=12;break}return e.prev=1,e.next=4,o.fetch.getSingleDocument({collectionPath:"Users",documentId:t.uid});case 4:n=e.sent,o.setUser(n),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:e.next=13;break;case 12:o.setUser(t);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),tt(n).onAuthStateChanged(r,i,a)}return fe(e,[{key:"createAccount",value:function(){var e=ue(we().mark((function e(t,n,r){var i,a,o;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Iy(this.auth,n,r);case 3:return i=e.sent,a=i.user,o={id:a.uid,email:a.email,emailVerified:!1,isAnonymous:!1,photoUrl:"",accessToken:a.accessToken,chatsCreated:[],inChats:[]},e.next=8,this.fetch.createDocWithID("Users",o.id,ee({nickname:t},o));case 8:Bp(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("".concat(e.t0.code," --\x3e ").concat(e.t0.message));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"emailSignIn",value:function(){var e=ue(we().mark((function e(t,n){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ny(this.auth,t,n);case 3:Bp(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("".concat(e.t0.code," --\x3e ").concat(e.t0.message));case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"googleSignIn",value:function(){var e=ue(we().mark((function e(){var t;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new ly,e.prev=1,e.next=4,wg(this.auth,t);case 4:Bp(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("".concat(e.t0.code," --\x3e ").concat(e.t0.message));case 10:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ue(we().mark((function e(){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt(this.auth).signOut();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("".concat(e.t0.code," --\x3e ").concat(e.t0.message));case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),vk=t.createContext();function mk(e){var n=e.children,r=o((0,t.useState)(),2),i=r[0],a=r[1],s=(0,t.useRef)(),u=function(e){a(e),s.current=e},c=o((0,t.useState)(!1),2),l=c[0],f=c[1],h=(0,t.useMemo)((function(){return new pk(u)}),[]),d=function(){switch(window.location.hash){case"#authentication":s.current?Bp():f(!0);break;case"#logout":s.current&&h.signOut().then((function(){return Bp()}));break;case"#":case"":f(!1);break;default:Bp()}};return(0,t.useEffect)((function(){var e=!0;return e&&(f(!i&&"#authentication"===window.location.hash),window.addEventListener("hashchange",d)),"/"!==window.location.pathname&&sessionStorage.setItem("no-header","true"),function(){e=!1}}),[]),(0,X.jsxs)(vk.Provider,{value:i,children:[l&&(0,X.jsx)(dv,{authenticator:h}),n]})}var yk=fe((function e(t,n){ce(this,e),this.model={chatDetails:t.chatDetails,messages:t.messages,currentLoggedUser:t.currentLoggedUser,currentChatUsers:t.currentChatUsers},this.setters={chatDetails:n.setChatDetails,messages:n.setMessages,currentLoggedUser:n.setCurrentLoggedUser,currentChatUsers:n.setCurrentChatUsers}})),gk=Se("chatManager"),kk=function(e){de(n,e);var t=ke(n);function n(e,r,i){var a;return ce(this,n),a=t.call(this,yk,e,r),Object.defineProperty(ye(a),gk,{writable:!0,value:void 0}),a.fetch=new Op,xe(ye(a),gk)[gk]=new lv(i,a.updateModel.bind(ye(a))),a}return fe(n,[{key:"configure",value:function(){return xe(this,gk)[gk].configureAndUnsubscribe()}},{key:"loadChatView",value:function(){var e=ue(we().mark((function e(){var t,n;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe(this,gk)[gk].getGroupChatDetails(window.location.href);case 2:return t=e.sent,e.next=5,xe(this,gk)[gk].getGroupChat(window.location.href);case 5:return n=e.sent,this.updateModel({chatDetails:t,messages:n.filter((function(e){return"creation"!==e.id}))}),document.title=t.title,e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendMessage",value:function(){var e=ue(we().mark((function e(t,n,r,i){var a,o=arguments;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:[],e.next=3,xe(this,gk)[gk].sendMessage(t,n,r,i,a);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"goto",value:function(e,t){switch(e){case"salon":window.location.href="/salons/".concat(t);break;case"event":window.location.href="/events/".concat(t)}}}]),n}(Te);function bk(e){var t=e.details,n=e.currentUser,r=!1;t.authorId===(null===n||void 0===n?void 0:n.id)&&(r=!0);var i=r?"sent":"received",a=t.timestamp.toDate(),o="".concat(a.getDate().toString().padStart(2,"0"),"/").concat(a.getMonth().toString().padStart(2,"0"),"/").concat(a.getFullYear()),s="".concat(a.getHours().toString().padStart(2,"0"),"h").concat(a.getMinutes().toString().padStart(2,"0"));return(0,X.jsx)("div",{className:"message-element ".concat(i),children:(0,X.jsxs)("div",{className:"message-body ".concat(i),children:[(0,X.jsx)("h3",{className:"message-author ".concat(i),children:(0,X.jsx)($,{to:"/profile/".concat(r?"me":t.authorId),children:t.author})}),(0,X.jsxs)("div",{className:"message-content ".concat(i),children:[(0,X.jsx)("strong",{className:"message-date ".concat(i),children:o}),(0,X.jsx)("p",{className:"message-text ".concat(i),children:t.messageContent}),(0,X.jsx)("strong",{className:"message-time ".concat(i),children:s})]})]})})}var wk=n.p+"static/media/arrow-down.f012c1a6aca17b7c3b0936157db27301.svg";function xk(e){var n=e.presenter,r=e.viewModel;function i(){return(i=ue(we().mark((function e(t){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===s){e.next=5;break}return t.target.value="",u(""),e.next=5,n.sendMessage(r.chatDetails.type,r.chatDetails.id,s,r.currentLoggedUser);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var a=o((0,t.useState)(""),2),s=a[0],u=a[1];return(0,t.useEffect)((function(){var e,t;return(null===r||void 0===r?void 0:r.messages.length)>0&&(console.log(!!r.messages),t=Vp("#messages-container").querySelector(".message-element:last-of-type"),(e=new IntersectionObserver((function(e){var t=Vp("#to-last-message"),n=Vp("#chat-inputs");e.forEach((function(e){var r=e.boundingClientRect.top>n.getBoundingClientRect().top;t.classList.toggle("hide",!r)}))}))).observe(t)),function(){e&&e.unobserve(t)}}),[null===r||void 0===r?void 0:r.messages]),(0,t.useEffect)((function(){return window.matchMedia("(max-width: 640px)").matches&&(Vp("#main-nav").style.display="none"),function(){Vp("#main-nav")&&"none"===window.getComputedStyle(Vp("#main-nav")).display&&(Vp("#main-nav").style.display="flex")}}),[]),(0,X.jsxs)("div",{id:"chat-wrapper",children:[(0,X.jsxs)("header",{id:"chat-header",children:[(0,X.jsxs)("div",{id:"chat-header-left",className:"header-part",children:[(0,X.jsx)("button",{id:"back-btn",onClick:function(){return window.history.back()},children:"\u25c2"}),(0,X.jsx)("h2",{onClick:function(){return n.goto(r.chatDetails.subjectType,r.chatDetails.subjectId)},children:r.chatDetails.title})]}),(0,X.jsx)("div",{id:"chat-header-right",className:"header-part",children:(0,X.jsx)("button",{id:"chat-menu-btn",children:"\u2162"})})]}),(0,X.jsxs)("section",{id:"messages-container",children:[r.messages.map((function(e){return(0,X.jsx)(bk,{details:e,currentUser:r.currentLoggedUser},e.id)})),(0,X.jsx)("img",{id:"to-last-message",className:"hide",src:wk,onClick:Qp})]}),(0,X.jsx)("div",{id:"chat-inputs",children:r.currentLoggedUser?(0,X.jsxs)("div",{id:"search-box",children:[(0,X.jsx)("input",{value:s,onChange:function(e){return u(e.target.value)},type:"text",placeholder:"Envoyer un message dans le groupe..."}),(0,X.jsx)("button",{onClick:function(e){return i.apply(this,arguments)},children:">"})]}):(0,X.jsxs)("div",{id:"search-box",children:[(0,X.jsx)("input",{value:"",type:"text",placeholder:"Veuillez vous connecter pour participer au chat",disabled:!0}),(0,X.jsx)("button",{disabled:!0,children:">"})]})})]})}function Ek(){var e=o((0,t.useState)(!0),2),n=e[0],r=e[1],i=N(),a=(0,t.useContext)(vk),s=o((0,t.useState)(),2),u=s[0],c=s[1],l=o((0,t.useState)(),2),f=l[0],h=l[1],d=o((0,t.useState)(),2),p=d[0],v=d[1],m=(0,t.useMemo)((function(){var e=[Gp(Wp(Kp(window.location.href))),i.id,"messages"];return new kk({chatDetails:u,messages:f,currentLoggedUser:a,currentChatUsers:p},{setChatDetails:c,setMessages:h,setCurrentLoggedUser:void 0,setCurrentChatUsers:v},e)}),[i.id,f]);return(0,t.useEffect)((function(){var e=m.configure();return function(){e&&e()}}),[i.id,f]),(0,t.useEffect)((function(){var e=!0;return e&&(m.loadChatView().then((function(e){return r(e)})),Qp()),function(){e=!1}}),[i.id]),n?(0,X.jsx)(Y,{}):(0,X.jsx)(xk,{presenter:m,viewModel:m.model})}function Sk(){return(0,X.jsx)(X.Fragment,{children:(0,X.jsxs)("nav",{id:"main-nav",children:[(0,X.jsxs)("div",{id:"nav-left",children:[(0,X.jsx)("button",{id:"menu-btn",className:"l-hide",onClick:Hp,children:"\u2162"}),(0,X.jsx)($,{to:"/",onClick:qp,id:"main-logo",children:(0,X.jsx)("h2",{className:"s-hide clr--primary",children:"Frips"})})]}),(0,X.jsx)("div",{id:"nav-right",children:(0,X.jsxs)("div",{className:"search-zone",children:[(0,X.jsx)("input",{type:"text",id:"nav-search",placeholder:"Chercher un \xe9v\xe8nement ou un salon.."}),(0,X.jsx)("button",{type:"submit",id:"nav-search-btn",children:(0,X.jsx)(Zp,{icon:"search"})})]})})]})})}var _k=n(149);function Tk(e){var t=document.getElementById("".concat(e.target.id,"-content"));t.style.display="flex"===t.style.display?"none":"flex",e.target.textContent="flex"===t.style.display?"\u25be":"\u25b8"}function Ik(){var e=(0,t.useContext)(vk);return(0,t.useEffect)((function(){Vp("#sidebar-wrapper").addEventListener("click",(function(e){(e.target.matches("a")||e.target.matches(".closing"))&&Hp()}))}),[]),(0,X.jsx)("aside",{className:"sidebar-wrapper",id:"sidebar-wrapper","data-state":"close",children:(0,X.jsxs)("div",{className:"sidebar-container",children:[(0,X.jsxs)("div",{className:"sidebar-top",children:[(0,X.jsx)($,{to:"/",id:"sidebar-main-logo",className:"m-hide l-hide closing",children:(0,X.jsx)("h2",{className:"clr--primary closing",children:"Frips"})}),(0,X.jsxs)("div",{id:"sidebar-profile-wrapper",children:[(0,X.jsx)("img",{id:"sidebar-pfp",src:null!==e&&void 0!==e&&e.photoUrl?e.photoUrl:_k,alt:""}),e?(0,X.jsx)("button",{onClick:function(){return window.location.href="/profile/me"},id:"goto-profile-btn",className:"closing bg--primary",children:e.nickname}):(0,X.jsx)("button",{onClick:zp,id:"goto-profile-btn",className:"closing bg--primary",children:"Se connecter"})]}),(0,X.jsxs)("div",{id:"sidebar-top-container",children:[(0,X.jsxs)("div",{className:"sidebar-element",children:[(0,X.jsx)($,{to:"/salons",className:"sidebar-button thin",children:"Salons"}),(0,X.jsx)("button",{className:"sidebar-dropdown",id:"salons-dropdown",onClick:function(e){return Tk(e)},children:" \u25b8"})]}),(0,X.jsxs)("div",{className:"sidebar-inner",id:"salons-dropdown-content",children:[(0,X.jsx)("p",{className:"bg--primary",children:"Suivis et populaires"}),(0,X.jsx)($,{to:"/salons/rap",children:"Rap"}),(0,X.jsx)($,{to:"/salons/edm",children:"EDM"}),(0,X.jsx)($,{to:"/salons/pop",children:"Pop"})]}),(0,X.jsxs)("div",{className:"sidebar-element",children:[(0,X.jsx)($,{to:"/events",className:"sidebar-button thin",children:"Ev\xe8nements"}),(0,X.jsx)("button",{className:"sidebar-dropdown",id:"events-dropdown",onClick:function(e){return Tk(e)},children:"\u25b8"})]}),(0,X.jsxs)("div",{className:"sidebar-inner",id:"events-dropdown-content",children:[(0,X.jsx)("p",{className:"bg--primary",children:"Suivis et populaires"}),(0,X.jsx)($,{to:"/events/ZikejrTIyJYHddz8Cdtv",children:"Electrobeach Music Festival"}),(0,X.jsx)($,{to:"/events/ufa973UbRmnOIIBHi8cB",children:"Musilac"}),(0,X.jsx)($,{to:"/events/N49jxxwCd9SagMVwB5e4",children:"Solidays 2022"})]}),(0,X.jsxs)("div",{className:"sidebar-element",children:[(0,X.jsx)($,{to:"/chats",className:"sidebar-button thin",children:"Chats"}),(0,X.jsx)("button",{className:"sidebar-dropdown",id:"chats-dropdown",onClick:function(e){return Tk(e)},children:"\u25b8"})]}),(0,X.jsxs)("div",{className:"sidebar-inner",id:"chats-dropdown-content",children:[(0,X.jsx)("p",{className:"bg--primary",children:"Chats du moment"}),(0,X.jsx)($,{to:"/chats/official/ZikejrTIyJYHddz8Cdtv",children:"Electrobeach Music Festival"}),(0,X.jsx)($,{to:"/chats/official/rap",children:"Rap"}),(0,X.jsx)($,{to:"/chats/official/N49jxxwCd9SagMVwB5e4",children:"Solidays 2022"})]})]})]}),(0,X.jsxs)("div",{className:"sidebar-bottom",children:[(0,X.jsx)("div",{className:"sidebar-element",children:e&&(0,X.jsx)("button",{className:"sidebar-button closing thin",style:{color:"red"},onClick:function(){return window.location.hash="#logout"},children:"Se d\xe9connecter"})}),(0,X.jsx)("div",{className:"sidebar-element",children:(0,X.jsx)($,{to:"/about",className:"sidebar-button closing thin",children:"\xc0 Propos \u2014 Contact"})})]})]})})}function Ck(){return(0,X.jsxs)("div",{id:"about-wrapper",children:[(0,X.jsxs)("div",{className:"about-section-container",children:[(0,X.jsx)("h1",{className:"section-title first",children:"A propos"}),(0,X.jsx)("h2",{id:"about-text",children:"Tu souhaites aller \xe0 un concert ou un festival mais tu n'as personne pour t'accompagner ? Frips est LA solution ! Trouve un \xe9v\xe8nement qui t'interesse et rejoins son chat pour d\xe9couvrir et discuter avec tous les int\xe9ress\xe9s. Qui sait ? \xe7a pourrait \xeatre le d\xe9but d'une grande amiti\xe9 ! Frips te permet aussi de r\xe9server des places pour un \xe9v\xe8nement mais aussi un h\xe9bergement, que tu peux payer en totalit\xe9 plus tard ! Donc fini les plans d\xe9t\xe9 entre amis qui tombent \xe0 l'eau faute de moyen, pars et amuse-toi !"})]}),(0,X.jsx)("div",{id:"about-separator"}),(0,X.jsxs)("div",{className:"about-section-container",children:[(0,X.jsx)("h1",{className:"section-title last",children:"Nous contacter"}),(0,X.jsxs)("div",{className:"contact-element",children:[(0,X.jsx)("h2",{children:"Pour tout probl\xe8me et retours, vous pouvez nous contacter \xe0 l'adresse suivante:"}),(0,X.jsx)("h2",{className:"support contact",children:(0,X.jsx)("a",{href:"mailto:support.frips@gmail.com",children:(0,X.jsx)("span",{children:"support.frips@gmail.com"})})})]}),(0,X.jsxs)("div",{className:"contact-element",children:[(0,X.jsx)("h2",{children:"Id\xe9e & business model:"}),(0,X.jsx)("h2",{children:"Benchouba Zakaria"}),(0,X.jsx)("h2",{className:"contact",children:(0,X.jsx)("a",{href:"mailto:zaksg1@outlook.fr",children:(0,X.jsx)("span",{children:"zaksg1@outlook.fr"})})})]}),(0,X.jsxs)("div",{className:"contact-element",children:[(0,X.jsx)("h2",{children:"D\xe9veloppement du site:"}),(0,X.jsx)("h2",{children:"Acolatse Ovila"}),(0,X.jsx)("h2",{className:"contact",children:(0,X.jsx)("a",{href:"mailto:acolatse.kjr@gmail.com",children:(0,X.jsx)("span",{children:"acolatse.kjr@gmail.com"})})})]})]})]})}var Nk=function(){return(0,X.jsx)(Q,{children:(0,X.jsxs)(mk,{children:[(0,X.jsx)(Sk,{}),(0,X.jsxs)("section",{id:"page-wrapper",children:[(0,X.jsx)(Ik,{}),(0,X.jsx)("main",{id:"main-content",children:(0,X.jsxs)(E,{children:[(0,X.jsx)(w,{exact:!0,path:"/",element:(0,X.jsx)(Lp,{})}),(0,X.jsx)(w,{exact:!0,path:"/chats",element:(0,X.jsx)(hv,{})}),(0,X.jsx)(w,{exact:!0,path:"/chats/official/:id",element:(0,X.jsx)(Ek,{})}),(0,X.jsx)(w,{exact:!0,path:"/chats/community/:id",element:(0,X.jsx)(Ek,{})}),(0,X.jsx)(w,{exact:!0,path:"/chats/private/:id",element:(0,X.jsx)(Ek,{})}),(0,X.jsx)(w,{exact:!0,path:"/events",element:(0,X.jsx)(Fp,{})}),(0,X.jsx)(w,{exact:!0,path:"/events/:id",element:(0,X.jsx)(Jp,{})}),(0,X.jsx)(w,{exact:!0,path:"/salons",element:(0,X.jsx)(sv,{})}),(0,X.jsx)(w,{exact:!0,path:"/salons/:ref",element:(0,X.jsx)(rv,{})}),(0,X.jsx)(w,{exact:!0,path:"/about",element:(0,X.jsx)(Ck,{})})]})})]})]})})};r.render((0,X.jsx)(Nk,{}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.84c6f4ad.js.map